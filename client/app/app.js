'use strict';

angular.module('mediaboxApp', ['mediaboxApp.auth', 'mediaboxApp.admin', 'mediaboxApp.constants', 'ngCookies', 'ngResource', 'ngSanitize', 'ngMessages', 'btford.socket-io', 'ui.router', 'validation.match', 'ngMaterial', 'ngAnimate', 'ngMdIcons', 'angularMoment', 'infinite-scroll', 'materialDatePicker', 'ngFileUpload', 'rzModule', 'darthwade.dwLoading', 'ui.tree', 'ui.odometer', 'oitozero.ngSweetAlert', 'naif.base64', 'ngPintura', 'ngOnload', 'kendo.directives', 'mwl.calendar', 'ui.bootstrap']).config(function ($stateProvider, $urlRouterProvider, $locationProvider, $httpProvider, $urlMatcherFactoryProvider, $mdThemingProvider, $mdIconProvider) {
  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode(true);

  // set the default palette name
  var defaultPalette = 'blue';
  // define a palette to darken the background of components
  var greyBackgroundMap = $mdThemingProvider.extendPalette(defaultPalette, { 'A100': 'fafafa' });

  $mdThemingProvider.definePalette('grey-background', greyBackgroundMap);
  $mdThemingProvider.setDefaultTheme(defaultPalette);

  // customize the theme
  $mdThemingProvider.theme(defaultPalette).primaryPalette(defaultPalette).accentPalette('pink').backgroundPalette('grey-background');

  // var spritePath = 'bower_components/material-design-icons/sprites/svg-sprite/';
  // $mdIconProvider.iconSet('navigation', spritePath + 'svg-sprite-navigation.svg');
  // $mdIconProvider.iconSet('image', spritePath + 'svg-sprite-image.svg');
  // $mdIconProvider.iconSet('action', spritePath + 'svg-sprite-action.svg');
  // $mdIconProvider.iconSet('content', spritePath + 'svg-sprite-content.svg');
  // $mdIconProvider.iconSet('toggle', spritePath + 'svg-sprite-toggle.svg');
  // $mdIconProvider.iconSet('alert', spritePath + 'svg-sprite-alert.svg');
  // $mdIconProvider.iconSet('social', spritePath + 'svg-sprite-social.svg');
  // $mdIconProvider.iconSet('avatar', '../assets/iconsets/avatar-icons.svg', 128);
  // $mdIconProvider.defaultIconSet(spritePath + 'svg-sprite-alert.svg');
}).controller('preLoaderCtrl', function ($scope) {
  $scope.siteLoaded = true;
});
//# sourceMappingURL=app.js.map

'use strict';

angular.module('mediaboxApp.admin', ['mediaboxApp.auth', 'ui.router']);
//# sourceMappingURL=admin.module.js.map

'use strict';

angular.module('mediaboxApp.auth', ['mediaboxApp.constants', 'mediaboxApp.util', 'ngCookies', 'ui.router']).config(function ($httpProvider) {
  $httpProvider.interceptors.push('authInterceptor');
});
//# sourceMappingURL=auth.module.js.map

'use strict';

angular.module('mediaboxApp.util', []);
//# sourceMappingURL=util.module.js.map

'use strict';

angular.module('app.about', []).controller('AboutController', function () {});
//# sourceMappingURL=about.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  // login, signup are used for emergency situations otherwise LoginModal
  $stateProvider.state('login', {
    url: '/login?referrer',
    templateUrl: 'app/account/login/login.html',
    controller: 'LoginController',
    controllerAs: 'login',
    title: 'Login to Mediabox'
  }).state('logout', {
    url: '/logout?referrer',
    referrer: '/',
    template: '',
    controller: function controller($state, Auth) {
      Auth.logout();
      $state.go('/');
    }
  }).state('signup', {
    url: '/signup',
    templateUrl: 'app/account/signup/signup.html',
    controller: 'SignupController',
    controllerAs: 'signup',
    title: 'Signup for Mediabox'
  }).state('forgot', {
    url: '/forgot?email',
    templateUrl: 'app/account/password/forgot.html',
    controller: 'PasswordController',
    controllerAs: 'forgot',
    title: 'Password Recovery'
  }).state('reset', {
    url: '/reset/:token',
    templateUrl: 'app/account/password/reset.html',
    controller: 'PasswordController',
    controllerAs: 'reset',
    title: 'Reset Password'
  }).state('cp', {
    url: '/change-password',
    templateUrl: 'app/account/cp/cp.html',
    controller: 'CpController',
    controllerAs: 'cp',
    title: 'Change Password',
    authenticate: true
  });
}).run(function ($rootScope, Auth) {
  $rootScope.$on('$stateChangeStart', function (event, next, nextParams, current) {
    if (next.name === 'logout' && current && current.name && !current.authenticate) {
      next.referrer = current.name;
    }
  });

  $rootScope.$on('$stateChangeSuccess', function (evt, toState) {
    if (toState.title) {
      window.document.title = toState.title + ' - Mediabox';
    } else if (toState.name != 'crud-table') {
      var input = toState.name;
      input = input.replace(/([A-Z])/g, ' $1');
      input = input[0].toUpperCase() + input.slice(1);
      window.document.title = input + ' - Mediabox';
    }
  });
});
//# sourceMappingURL=account.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var CpController = function () {
  function CpController(Auth, Settings, Toast) {
    _classCallCheck(this, CpController);

    this.errors = {};
    this.submitted = false;
    this.Settings = Settings;
    this.Toast = Toast;
    this.Auth = Auth;
  }

  _createClass(CpController, [{
    key: 'changePassword',
    value: function changePassword(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;

        this.Auth.changePassword(this.user.oldPassword, this.user.newPassword).then(function () {
          _this.loading = false;
          _this.message = 'Password successfully changed.';
        }).catch(function () {
          _this.loading = false;
          form.password.$setValidity('mongoose', false);
          _this.errors.other = 'Incorrect password';
          _this.message = '';
        });
      } else {
        this.Toast.show({ type: 'info', text: 'Form is not valid. Check your inputs' });
      }
    }
  }]);

  return CpController;
}();

angular.module('mediaboxApp').controller('CpController', CpController);
//# sourceMappingURL=cp.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoginController = function () {
  function LoginController(Auth, $state) {
    _classCallCheck(this, LoginController);

    this.user = { email: 'admin@codenx.com', password: 'codenx' };
    this.errors = {};
    this.submitted = false;

    this.Auth = Auth;
    this.$state = $state;
  }

  _createClass(LoginController, [{
    key: 'login',
    value: function login(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.Auth.login({
          email: this.user.email,
          password: this.user.password
        }).then(function () {
          if (!angular.isUndefined(_this.$state.params.referrer)) {
            _this.$state.go(_this.$state.params.referrer);
          } else {
            _this.$state.go('/');
          }
        }).catch(function (err) {
          _this.errors.other = err.message;
          _this.loading = false;
        });
      }
    }
  }]);

  return LoginController;
}();

angular.module('mediaboxApp').controller('LoginController', LoginController);
//# sourceMappingURL=login.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PasswordController = function () {
  function PasswordController(Auth, $state, $http) {
    _classCallCheck(this, PasswordController);

    this.user = {};
    this.user.email = $state.params.email;
    this.errors = {};
    this.submitted = false;

    this.Auth = Auth;
    this.$state = $state;
    this.$http = $http;
  }

  _createClass(PasswordController, [{
    key: 'reset',
    value: function reset(form) {
      var _this = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.user.token = this.$state.params.token;
        this.$http.post('api/users/reset/' + this.$state.params.token, this.user).then(function (data) {
          _this.errors.message = data.data.message;
          _this.errors.email = '';
          _this.loading = false;
        }).catch(function (err) {
          _this.errors.message = '';
          _this.errors.email = err.data.message;
          _this.loading = false;
        });
      }
    }
  }, {
    key: 'forgot',
    value: function forgot(form) {
      var _this2 = this;

      this.submitted = true;

      if (form.$valid) {
        this.loading = true;
        this.$http.post('api/users/forgot', this.user).then(function (data) {
          _this2.errors.message = data.data.message;
          _this2.errors.email = '';
          _this2.loading = false;
        }).catch(function (err) {
          _this2.errors.message = '';
          _this2.errors.email = err.data.message;
          _this2.loading = false;
        });
      }
    }
  }]);

  return PasswordController;
}();

angular.module('mediaboxApp').controller('PasswordController', PasswordController);
//# sourceMappingURL=password.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SignupController = function () {
  function SignupController(Auth, $state) {
    _classCallCheck(this, SignupController);

    this.user = {};
    this.errors = {};
    this.submitted = false;
    this.Auth = Auth;
    this.$state = $state;
  }

  _createClass(SignupController, [{
    key: 'register',
    value: function register(form) {
      var _this = this;

      console.log(this.user);
      this.submitted = true;
      if (form.$valid) {
        this.loading = true;
        this.Auth.createUser({
          name: this.user.name,
          email: this.user.email,
          phone: this.user.phone,
          company: this.user.company,
          website: this.user.website,
          role: this.user.role,
          password: this.user.password
        }).then(function () {
          // Account created, redirect to home
          _this.$state.go('/');
        }).catch(function (err) {
          err = err.data;
          // this.errors = {};
          _this.loading = false;
          // Update validity of form fields that match the sequelize errors
          if (err.name) {
            angular.forEach(err.errors, function (field) {
              // console.log('err',field);
              form[field.path].$setValidity('mongoose', false);
              // this.errors[field] = err.message;
            });
          }
        });
      }
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this.$state.go('login');
    }
  }]);

  return SignupController;
}();

angular.module('mediaboxApp').controller('SignupController', SignupController);
//# sourceMappingURL=signup.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var AddressController = function () {
        function AddressController(Toast, Address, Settings, socket, $http, $scope, $mdDialog) {
            _classCallCheck(this, AddressController);

            var vm = this;
            this.Address = Address;
            this.addr = {};
            this.$http = $http;
            this.$mdDialog = $mdDialog;
            this.socket = socket;
            this.Toast = Toast;
            this.newAddress = false;
            this.options = {};
            this.Settings = Settings;
            this.getMyAddress();
            $scope.$on('$destroy', function () {
                socket.unsyncUpdates('address');
            });
        }

        _createClass(AddressController, [{
            key: 'getMyAddress',
            value: function getMyAddress() {
                var vm = this;
                vm.Address.my.query(function (res) {
                    vm.address = res;
                    vm.addr = res[0];
                    vm.socket.syncUpdates('address', vm.address);
                });
            }
        }, {
            key: 'switchAddress',
            value: function switchAddress(a) {
                this.addr = a;
            }
        }, {
            key: 'delete',
            value: function _delete(item) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Would you like to delete the address?').textContent('This is unrecoverable').ariaLabel('Confirm delete address').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Address.delete({ id: item._id }, function () {}, function (res) {
                        vm.Toast.show({ type: 'error', text: res });
                    });
                });
            }
        }, {
            key: 'saveAddress',
            value: function saveAddress(data) {
                var vm = this;
                data.country = vm.Settings.country.name;
                vm.loadingAddress = true;
                if (_.has(data, '_id')) {
                    this.Address.update({ id: data._id }, data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    }, function (err) {
                        // If rejected by auth interceptor.service
                        vm.loadingAddress = false;
                    });
                } else {
                    this.Address.save(data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    });
                }
                vm.addressForm(false);
            }
        }, {
            key: 'addressForm',
            value: function addressForm(visible) {
                this.showAddressForm = visible;
            }
        }, {
            key: 'cancelForm',
            value: function cancelForm(addr) {
                this.showAddressForm = false;
                this.addr = this.address[0];
            }
        }]);

        return AddressController;
    }();

    angular.module('mediaboxApp').controller('AddressController', AddressController);
})();
//# sourceMappingURL=address.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('address', {
    url: '/address?id&msg',
    templateUrl: 'app/address/address.html',
    controller: 'AddressController as address',
    authenticate: true
  });
});
//# sourceMappingURL=address.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var AdminController = function AdminController(User, Settings, appConfig) {
    _classCallCheck(this, AdminController);

    var userRoles = appConfig.userRoles || [];
    this.options = [{ field: 'name' }, { field: 'role', dataType: 'select', options: userRoles }];
    if (Settings.demo) this.options.push({ field: 'null', heading: 'email (Hidden in demo mode)' });else this.options.push({ field: 'email' });

    this.options.push({ field: 'provider', noEdit: true });
  }

  //   delete(user) {
  //     user.$remove();
  //     this.users.splice(this.users.indexOf(user), 1);
  //   }
  ;

  angular.module('mediaboxApp.admin').controller('AdminController', AdminController);
})();
//# sourceMappingURL=admin.controller.js.map

'use strict';

angular.module('mediaboxApp.admin').config(function ($stateProvider) {
  $stateProvider.state('admin', {
    url: '/admin',
    templateUrl: 'app/admin/admin.html',
    controller: 'AdminController as admin',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=admin.router.js.map

"use strict";

(function (angular, undefined) {
	angular.module("mediaboxApp.constants", []).constant("appConfig", {
		"userRoles": ["guest", "user", "manager", "admin"],
		"reviewSettings": {
			"enabled": true,
			"moderate": false
		},
		"wishlist": true,
		"mailOptions": {}
	});
})(angular);
//# sourceMappingURL=app.constant.js.map

'use strict';

angular.module('mediaboxApp').controller('BookCtrl', function ($scope) {
  $scope.options = [{ field: 'image', heading: 'Image', dataType: 'image' }, { field: 'name', title: 'Title', dataType: 'text' }, { field: 'author', dataType: 'text' }, { field: 'category', dataType: 'select', options: ['Fiction', 'Non fiction', 'Inspirational', 'Novel', 'Science', 'Story'] }, { field: 'price', dataType: 'currency' }, { field: 'releaseDate', dataType: 'date' }, { field: 'isbn', heading: 'ISBN', dataType: 'text', noEdit: true }, { field: 'active', heading: 'Availability', dataType: 'boolean' }];
});
//# sourceMappingURL=book.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('book', {
    url: '/book',
    templateUrl: 'app/book/book.html',
    controller: 'BookCtrl',
    authenticate: true,
    title: 'Books Management'
  });
});
//# sourceMappingURL=book.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brand.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brand', {
    url: '/brand',
    templateUrl: 'app/brand/brand.html',
    controller: 'BrandCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brand.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandMGCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brandmg.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brandmg', {
    url: '/brandmg',
    templateUrl: 'app/brandmg/brandmg.html',
    controller: 'BrandMGCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brandmg.js.map

'use strict';

angular.module('mediaboxApp').controller('BrandTVCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'brand', dataType: 'number', heading: 'ID' }, { field: 'image', dataType: 'image' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=brandtv.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('brandtv', {
    url: '/brandtv',
    templateUrl: 'app/brandtv/brandtv.html',
    controller: 'BrandTVCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=brandtv.js.map

'use strict';

angular.module('mediaboxApp').controller('LeftCtrl', function ($scope, $timeout, $mdSidenav, $log) {
  $scope.close = function () {
    // Component lookup should always be available since we are not using `ng-if`
    $mdSidenav('left').close().then(function () {
      $log.debug("close LEFT is done");
    });
  };
}).controller('RightCtrl', function ($scope, $timeout, $mdSidenav, $log) {
  $scope.close = function () {
    // Component lookup should always be available since we are not using `ng-if`
    $mdSidenav('right').close().then(function () {
      $log.debug("close RIGHT is done");
    });
  };
}).controller('CampaignController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  var qAll = {};
  qAll.where = { 'items.advertiser.email': Auth.getCurrentUser().email };

  vm.campaignsAll = Campaign.my.query(qAll, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var qPending = {};
          qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

          Campaign.my.query(qPending, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qPending = {};
            qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

            Campaign.my.query(qPending, function (res) {

              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [
      //{ field: "campaignNo", title:"Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaign.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('campaign', {
    url: '/campaign',
    templateUrl: 'app/campaign/campaign.html',
    controller: 'CampaignController as campaign',
    authenticate: true
  });
});
//# sourceMappingURL=campaign.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignCompletedController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var itemsGrid = [];
          var qFinished = {};
          qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
          Campaign.my.query(qFinished, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [
    //{ field: "campaignNo", title: "Campaign ID" },
    { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qFinished = {};
            qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
            Campaign.my.query(qFinished, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [{ field: "campaignNo", title: "Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignCompleted.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignRunningController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          var qRunning = {};
          qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

          Campaign.my.query(qRunning, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qRunning = {};
            qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
            Campaign.my.query(qRunning, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [
      //{ field: "campaignNo", title:"Campaign #", width: "70px" },
      //{ field: "publisher", title:"Publisher", width: "100px" },
      // { field: "category", title:"Category", width: "50px" },
      { field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Inserts", width: "30px" },
      //    { 

      //    title: "Status",
      //     width: "40px",
      //      template: function (dataItem) {
      //          return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
      //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
      //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
      //         "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
      //          "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
      //            "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
      //     } 
      // },
      {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
          //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
          // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignRunning.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('CampaignScheduledController', function ($scope, Cart, Auth, $log, $mdSidenav, Campaign, $loading, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {
  //clear items added to campaign from cart
  //clear items added to campaign from cart
  Cart.cart.clearItems();
  Cart.cart.products = 20;

  Auth.getCurrentUser().photo = {};

  //alert(Auth.getCurrentUser().company);
  ////console.log(Auth.getCurrentUser());


  $loading.start("campaigns");

  ////console.log(Cart);

  var vm = this;
  vm.cart = Cart.cart;

  vm.itemsGrid = [];

  vm.toggleLeft = buildDelayedToggler('left');
  vm.toggleRight = buildToggler('right');
  vm.isOpenRight = function () {
    return $mdSidenav('right').isOpen();
  };
  /**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
  function debounce(func, wait, context) {
    var timer;
    return function debounced() {
      var context = $scope,
          args = Array.prototype.slice.call(arguments);
      $timeout.cancel(timer);
      timer = $timeout(function () {
        timer = undefined;
        func.apply(context, args);
      }, wait || 10);
    };
  }
  /**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
  function buildDelayedToggler(navID) {
    return debounce(function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    }, 200);
  }
  function buildToggler(navID) {
    return function () {
      $mdSidenav(navID).toggle().then(function () {
        $log.debug("toggle " + navID + " is done");
      });
    };
  }

  vm.cmp = {};
  vm.campaignStatusLov = Campaign.status;
  vm.campaignStatus = [{ name: '', val: 402 }, { name: 'Avail Check', val: 201 }, { name: 'Buy', val: 202 }];

  vm.mediaLibrary = function (index) {
    $mdDialog.show({
      template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
      controller: function controller($scope, $mdDialog, $http, socket, $state) {
        // Start query the database for the table
        var vm = this;
        $scope.loading = true;
        $http.get('/api/media/').then(function (res) {
          $scope.loading = false;
          $scope.media = res.data;
          socket.syncUpdates('media', $scope.data);
        }, handleError);

        function handleError(error) {
          // error handler
          $scope.loading = false;
          if (error.status === 403) {
            Toast.show({
              type: 'error',
              text: 'Not authorised to make changes.'
            });
          } else {
            Toast.show({
              type: 'error',
              text: error.status
            });
          }
        }
        $scope.ok = function (path) {
          $mdDialog.hide(path);
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
        $scope.addNewImage = function () {
          $state.go('media');
          //vm.save(vm.product)
          $mdDialog.hide();
        };
      }

    }).then(function (answer) {
      //console.log(answer);
      if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
    }, function () {});
  };

  vm.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };

  vm.campaignsAll = Campaign.my.query({}, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qPending = {};
  qPending.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

  vm.campaignsPending = Campaign.my.query(qPending, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qScheduled = {};
  qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsScheduled = Campaign.my.query(qScheduled, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qRunning = {};
  qRunning.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

  vm.campaignsRunning = Campaign.my.query(qRunning, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  var qFinished = {};
  qFinished.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Completed' }] };

  vm.campaignsCompleted = Campaign.my.query(qFinished, function (res) {

    var totalCampaign = res.length;

    res.totalCampaign = totalCampaign;
    ////console.log(totalCampaign);
    $loading.finish("campaigns");

    // }
    // res.total = total;
  });

  vm.getTotal = function (item) {
    // //console.log(item);
    var total = 0;

    for (var i = 0; i < item.items.length; i++) {

      // items[i].total = 0;

      var p = item.items[i].price;
      var q = item.items[i].quantity;
      total += p * q;
      // var x.sub.push(total);
    }
    // //console.log(total);

    return total;
  };

  // alert(Auth.getCurrentUser().email);


  vm.mainGridOptions = {
    dataSource: {

      transport: {
        read: function read(options) {
          //options holds the grids current page and filter settings
          var qScheduled = {};
          qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

          Campaign.my.query(qScheduled, function (res) {

            console.log(res);

            for (var j = 0; j < res.length; j++) {
              var total = 0;
              var item = res[j];
              for (var i = 0; i < item.items.length; i++) {

                var p = item.items[i].price;
                var q = item.items[i].quantity;
                total += p * q;
              }

              res[j].total = total;
            }

            options.success(res);
            ////console.log(res);
          });
        }
      },
      pageSize: 10,
      serverPaging: true,
      serverSorting: true
    },
    toolbar: ['excel', 'pdf'],

    excel: {
      allPages: true,
      proxyURL: "//demos.telerik.com/kendo-ui/service/export",
      fileName: 'Mediabox-campaigns.xlsx',
      filterable: true
    },
    pdf: {
      allPages: true,
      avoidLinks: true,
      paperSize: "A4",
      margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
      landscape: true,
      repeatHeaders: true,
      template: $("#page-template").html(),
      scale: 0.8
    },
    sortable: true,
    pageable: true,
    editable: "popup",

    filterable: true,

    dataBound: function dataBound() {
      this.expandRow(this.tbody.find("tr.k-master-row").first());
    },
    columns: [{ field: "campaignNo", title: "Campaign #" }, { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Date Created", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    //{ field: "endDate", title: "Start Date-End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
    { field: "status", title: "Status", template: function template(dataItem) {
        return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>" +
        // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
        "<div  ng-show = \"dataItem.status=='Campaign Placed'\" class=\"alert alert-danger\" ><small>Waiting Response<small></div>" + "<div  ng-show = \"dataItem.status=='Campaign Accepted'\" class=\"alert alert-success\" ><small>Campaign Approved</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Rejected'\" class=\"alert alert-danger\" ><small>Campaign Rejected</small> </div>" + "<div  ng-show = \"dataItem.status=='Campaign Completed'\" class=\"alert alert-success\" ><small>Campaign Completed</small> </div>";
      } }, { field: "total", title: "Total", format: "{0:c2}" }]
  };

  vm.detailGridOptions = function (dataItem) {

    return {
      dataSource: {
        filter: { field: "campaignNo", operator: "eq", value: dataItem.campaignNo },
        transport: {
          read: function read(options) {
            //options holds the grids current page and filter settings
            var itemsGrid = [];
            var qScheduled = {};
            qScheduled.where = { $and: [{ 'items.advertiser.email': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

            Campaign.my.query(qScheduled, function (res) {
              ////console.log(res);


              var totalFinal = 0;
              var totalCampaign = res.length;

              for (var j = 0; j < res.length; j++) {
                var total = 0;

                var item = res[j];
                for (var i = 0; i < item.items.length; i++) {

                  var itemGridTemp = {
                    campaignNo: item.campaignNo,
                    status: item.status,
                    id: item._id,
                    advertiser: item.items[i].advertiser,
                    category: item.items[i].category,
                    creative: item.items[i].creative,
                    image: item.items[i].image,
                    messages: item.items[i].messages,
                    mrp: item.items[i].mrp,
                    name: item.items[i].name,
                    price: item.items[i].price,
                    publisher: item.items[i].publisher,
                    publisheruid: item.items[i].publisheruid,
                    quantity: item.items[i].quantity,
                    request: item.items[i].request,
                    size: item.items[i].size,
                    sku: item.items[i].sku,
                    uid: item.items[i].uid
                  };

                  var p = item.items[i].price;
                  var q = item.items[i].quantity;
                  total += p * q;

                  vm.itemsGrid.push(itemGridTemp);
                }

                res[j].total = total;
              }

              res.totalFinal = total;

              var data = [];
              ////console.log(vm.itemsGrid);
              for (var i = 0; i < vm.itemsGrid.length; i++) {
                var item = vm.itemsGrid[i];
                if (item.campaignNo == dataItem.campaignNo) {
                  //alert(item.campaignNo);
                  data.push(item);
                }

                options.success(data);
                //console.log(data);

                vm.data = [];
              }

              vm.itemsGrid = [];
            });
          }
        },
        serverPaging: true,
        serverSorting: true,
        serverFiltering: true,
        pageSize: 5,
        filterable: true

      },
      scrollable: false,
      sortable: true,

      pageable: true,
      columns: [{ field: "name", title: "Name", width: "80px" }, { field: "category", title: "Start - End Date", width: "60px" }, { field: "price", title: "Price", format: "{0:c2}", width: "50px" }, { field: "quantity", title: "Inserts", width: "30px" }, {
        field: "creative",
        title: "Creative",
        width: "20px",
        template: function template(dataItem) {
          return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
        } }, {
        title: "Action",
        width: "40px",
        template: function template(dataItem) {
          return "<div  ng-show= \"dataItem.status=='Campaign Accepted'\" ><md-button ng-click=\"vm.addToCart({'sku':dataItem.id, 'name':dataItem.name ,'advertiser':dataItem.advertiser,'publisher':dataItem.publisher,'publisheruid':dataItem.publisheruid,'price':dataItem.price, 'quantity':dataItem.quantity,'image':dataItem.image,  'vid':dataItem.id} ,dataItem.quantity)\" class=\"md-raised cart\">" + "<ng-md-icon icon=\"shopping_cart\"></ng-md-icon>" + "</div>";
        } }]
    };
  };

  vm.action = function (campaign) {
    // method
    ////console.log(campaign);
    Campaign.delete({ id: campaign._id }, function () {
      ////console.log("Campaign deleted");

      Campaign.save(campaign).$promise.then(function () {
        toastr.success("Campaign info saved successfully", "Success");
      });
    });
  };

  vm.changeStatus = function (campaign) {

    Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {
      ////console.log(res);
    }, function (error) {
      // error handler
      ////console.log(error);
      if (error.data.errors) {
        var err = error.data.errors;
        toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
      } else {
        var msg = error.data.message;
        toastr.error(msg);
      }
    });
  };

  vm.addToCart = function (item, i) {

    Cart.cart.addItem(item, i);
    Cart.cart.flagOn();

    Toast.show({
      type: 'success',
      text: item.publisher + "-" + item.name + "" + "Has Been Added to Cart"
    });
  };

  var toNumber = function toNumber(value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
  };
});
//# sourceMappingURL=campaignScheduled.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('CalendarController', ['$scope', '$compile', 'CampaignCalendar', function ($scope, $compile, CampaignCalendar) {

    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();

    $scope.changeTo = 'Hungarian';
    $scope.calendarView = 'month';
    $scope.viewDate = date;
    $scope.cellIsOpen = true;
    /* event source that pulls from google.com */

    /* event source that contains custom events on the scope */
    $scope.events = CampaignCalendar.query();

    //console.log($scope.events);

    $scope.eventClicked = function (event) {
        // alert.show('Clicked', event);
    };

    $scope.eventEdited = function (event) {
        // alert.show('Edited', event);
    };

    $scope.eventDeleted = function (event) {
        // alert.show('Deleted', event);
    };

    $scope.eventTimesChanged = function (event) {
        // alert.show('Dropped or resized', event);
    };
}]);
//# sourceMappingURL=calendar.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsController = function () {
    function CampaignsController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog, $compile) {
      _classCallCheck(this, CampaignsController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.Cart = Cart, this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.tab = 1;

      this.setTab = function (tabId) {
        this.tab = tabId;
      };

      this.isSet = function (tabId) {
        return this.tab === tabId;
      };

      var qAll = {};
      qAll.where = { 'items.advertiser.email': Auth.getCurrentUser().email };
      this.campaigns = Campaign.pub.query(qAll, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          //console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      var qPending = {};
      qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };

      this.campaignsPending = Campaign.pub.query(qPending, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qScheduled = {};
      qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsScheduled = Campaign.pub.query(qScheduled, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qRunning = {};
      qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsRunning = Campaign.pub.query(qRunning, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      var qFinished = {};
      qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };

      this.campaignsCompleted = Campaign.pub.query(qFinished, function (res) {

        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      this.items = Campaign.pub.query(qAll, function (res) {

        var total = 0;

        // for(var i=0;i<res.length;i++){
        //     var subTotal = 0;
        for (var j = 0; j < res.length; j++) {

          // //console.log(res[j].campaignDate);

          total = 0;
          // //console.log();
          // subTotal += res[i].shipping.charge;
          var item = res[j];

          // //console.log(item.items);
          // var x = item.items
          // var x.sub = [];

          for (var i = 0; i < item.items.length; i++) {

            var p = item.items[i].price;
            var q = item.items[i].quantity;
            total += p * q;
            // var x.sub.push(total);
          }
          // //console.log(total);
        }
        res.total = total;
        ////console.log(res);
        $loading.finish('campaigns');

        // }
        // res.total = total;
      });

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings

              var qPending = {};
              qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };
              Campaign.pub.query(qPending, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // //console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status", template: function template(dataItem) {
            return " <span class=\"md-subhead\"><md-select ng-model=\"dataItem.status\"  ng-change=\"vm.changeStatus(dataItem)\" flex><md-option ng-value=\"o\" ng-repeat=\"o in vm.Settings.campaignStatus\">{{o}}</md-option></md-select></span>";
            // return "<div  ng-if = \"dataItem.status =='Campaign Placed'\">"+
            //  "<md-select ng-model=\"dataItem.status\" value=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></md-select>"+
            //   "</div>"+

            //  "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
            //  "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
            //  "</div>"; 
          } }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        //console.log(this.dataItem);

        return {
          update: function update(e) {
            //console.log(e);
            // e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          edit: function edit(e) {
            //e.success();
            alert("edit called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          destroy: function destroy(e) {
            e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          create: function create(e) {
            e.success();
            alert("update called");
            e.container.find("input[name=price]").data("KendoNumericTextBox");
          },
          toolbar: ["create"],
          dataSource: {
            schema: {
              model: {
                id: "id",
                fields: {
                  "id": { type: "number" },
                  "publisher": { type: "String" },
                  "name": { type: "String" },
                  "price": { type: "number" },
                  "quantity": { type: "number" },
                  "creative": { type: "upload" }
                }
              }
            },
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qPending = {};
                qPending.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'status': 'Campaign Placed' }] };
                Campaign.pub.query(qPending, function (res) {
                  ////console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        campaignName: item.campaignName,
                        campaignid: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid,
                        position: i

                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  ////console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    //console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,
          editable: "inline",

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "80px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "100px", template: function template(dataItem) {
              return "<div class=\"form-group has-feedback\">" + "<label class=\"control-label\">&nbsp</label>" + "<input type=\"text\" name=\"daterange\"  class=\"form-control\" width=\"150px\" value=\"dataItem.category\" id=\"config-demo\"   ng-model= \"dataItem.category\"\>" + "<i class=\"glyphicon glyphicon-calendar form-control-feedback\"></i>" + "</div>";
            } }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {

              return "<md-input-container>" + "<label>&nbsp</label>" + "<input  type=\"number\" value=\"dataItem.price\" ng-model= \"dataItem.price\"\>" + "</md-input-container>";
            } }, { field: "quantity", title: "Quantity", width: "40px", template: function template(dataItem) {

              return "<md-input-container>" + "<label>&nbsp</label>" + "<input  type=\"number\" value=\"dataItem.quantity\" ng-model= \"dataItem.quantity\"\>" + "</md-input-container>";
            } }, {
            field: "creative",
            title: "Creative",
            width: "40px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          //     { 
          //       title:"Action",
          //        width: "50px" ,
          //         template: function (dataItem) {
          //        //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
          //     // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
          //     return "<div  ng-if = \"dataItem.status.val=='402'\">"+
          //            "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>"+
          // "</div>"+

          //            "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
          //            "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
          //            "</div>";  
          //  }},
          // { command: [
          //    { name :"Update",
          //      click:function(dataItem){
          //        //console.log(e);
          //        alert("clicked event");
          //    }},
          //    // {name:"edit"},
          //    // {name:"destroy"}

          //  ],width :"40px"}
          //  
          {
            field: "campaignNo",
            title: "Update",
            width: "60px",
            template: function template(dataItem) {
              return "<div>" + "<button  class=\"btn btn-success\"  ng-click=\"vm.updateItem(dataItem)\" ><i class=\"fa fa-check\">Update</i><span class=\"glyphicon glyphicon-check\"></span></button></div>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // //console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // ////console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          //console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          //console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            ////console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            ////console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;

        this.Campaign.update({ id: campaign._id }, { campaignName: campaign.campaignName,
          status: campaign.status,
          startDate: campaign.items[0].startDate,
          endDate: campaign.items[0].endDate }).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }, {
      key: 'updateItem',
      value: function updateItem(campaign) {

        var dateArray = campaign.category.split('-');

        var newItem = {
          name: campaign.name,
          publisher: campaign.publisher,
          category: campaign.category,
          price: campaign.price,
          quantity: campaign.quantity,
          position: true
        };

        var vm = this;
        this.Campaign.update({ id: campaign.campaignid }, { campaignName: campaign.campaignName,
          startDate: dateArray[0],
          endDate: dateArray[1],
          items: newItem }).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsController;
  }();

  angular.module('mediaboxApp').controller('CampaignsController', CampaignsController);
})();
//# sourceMappingURL=campaigns.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('campaigns', {
    url: '/campaigns',
    templateUrl: 'app/campaigns/campaigns.html',
    controller: 'CampaignsController as campaigns',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=campaigns.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsCompletedController = function () {
    function CampaignsCompletedController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsCompletedController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          //console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qFinished = {};
              qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qFinished, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // //console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status" }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        //console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qFinished = {};
                qFinished.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.endDate': { $lt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qFinished, function (res) {
                  ////console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  ////console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    //console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsCompletedController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // //console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // ////console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          //console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          //console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            ////console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            ////console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsCompletedController;
  }();

  angular.module('mediaboxApp').controller('CampaignsCompletedController', CampaignsCompletedController);
})();
//# sourceMappingURL=campaignsCompleted.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsRunningController = function () {
    function CampaignsRunningController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsRunningController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          //console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qRunning = {};
              qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qRunning, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // //console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } }, { field: "status", title: "Status" }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        //console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qRunning = {};
                qRunning.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $lt: Date.now() } }, { 'items.endDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qRunning, function (res) {
                  ////console.log(res);


                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  ////console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    //console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsRunningController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // //console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // ////console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          //console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          //console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            ////console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            ////console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsRunningController;
  }();

  angular.module('mediaboxApp').controller('CampaignsRunningController', CampaignsRunningController);
})();
//# sourceMappingURL=campaignsRunning.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CampaignsScheduledController = function () {
    function CampaignsScheduledController(Cart, Country, Auth, PaymentMethod, Shipping, Coupon, Campaign, Toast, Settings, $state, $scope, $loading, Upload, $timeout, $http, socket, $mdDialog) {
      _classCallCheck(this, CampaignsScheduledController);

      $loading.start("campaigns");
      var vm = this;
      vm.itemsGrid = [];
      this.campaignStatusLov = Campaign.status;
      this.Campaign = Campaign;
      this.Toast = Toast;
      this.Settings = Settings;
      this.$state = $state;
      this.options = {};
      //this.campaigns = Campaign.query();
      this.campaignStatus = [{ name: '', val: 402 }, { name: 'Approved', val: 305 }, { name: 'Reject', val: 500 }];

      this.campaignStatusCreativeAdded = [{ name: 'Completed', val: 309 }];

      this.campaigns = Campaign.pub.query({}, function (res) {
        var totalCampaign = res.length;

        res.totalCampaign = totalCampaign;
        //console.log(totalCampaign);
        $loading.finish("campaigns");

        // }
        // res.total = total;
      });

      vm.mediaLibrary = function (index) {
        $mdDialog.show({
          template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content padding"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Creative\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
          controller: function controller($scope, $mdDialog, $http, socket, $state) {
            // Start query the database for the table
            var vm = this;
            $scope.loading = true;
            $http.get('/api/media/').then(function (res) {
              $scope.loading = false;
              $scope.media = res.data;
              socket.syncUpdates('media', $scope.data);
            }, handleError);

            function handleError(error) {
              // error handler
              $scope.loading = false;
              if (error.status === 403) {
                Toast.show({
                  type: 'error',
                  text: 'Not authorised to make changes.'
                });
              } else {
                Toast.show({
                  type: 'error',
                  text: error.status
                });
              }
            }
            $scope.ok = function (path) {
              $mdDialog.hide(path);
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
            $scope.addNewImage = function () {
              $state.go('media');
              //vm.save(vm.product)
              $mdDialog.hide();
            };
          }

        }).then(function (answer) {
          //console.log(answer);
          if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
        }, function () {});
      };

      vm.imageDetails = function (img) {
        $mdDialog.show({
          template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n          <div>\n            <img ng-src="{{img}}" draggable="false"  class="detail-image"/>\n          </div>\n          </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
          controller: function controller($scope, $mdDialog) {
            $scope.img = img;
            $scope.delete = function (img) {
              var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
              $mdDialog.show(confirm).then(function () {
                $http.delete('/api/media/' + img._id).then(function () {
                  $mdDialog.hide();
                }, handleError);
              }, function () {
                $mdDialog.hide();
              });
            };
            $scope.hide = function () {
              $mdDialog.hide();
            };
            $scope.cancel = function () {
              $mdDialog.cancel();
            };
          }
        }).then(function (answer) {
          $scope.alert = 'You said the information was "' + answer + '".';
        }, function () {
          $scope.alert = 'You cancelled the dialog.';
        });
      };

      this.itemsGrid = [];

      this.mainGridOptions = {
        dataSource: {

          transport: {
            read: function read(options) {
              //options holds the grids current page and filter settings
              var qScheduled = {};
              qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
              Campaign.pub.query(qScheduled, function (res) {

                for (var j = 0; j < res.length; j++) {
                  var total = 0;
                  var item = res[j];
                  for (var i = 0; i < item.items.length; i++) {

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                  }

                  res[j].total = total;
                }

                options.success(res);
                // //console.log(res);
              });
            }
          },
          pageSize: 10,
          serverPaging: true,
          serverSorting: true
        },
        toolbar: ['excel', 'pdf'],

        excel: {
          allPages: true,
          proxyURL: "//demos.telerik.com/kendo-ui/service/export",
          fileName: 'Mediabox-campaigns.xlsx',
          filterable: true
        },
        pdf: {
          allPages: true,
          avoidLinks: true,
          paperSize: "A4",
          margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
          landscape: true,
          repeatHeaders: true,
          template: $("#page-template").html(),
          scale: 0.8
        },
        sortable: true,
        pageable: true,

        filterable: true,

        dataBound: function dataBound() {
          this.expandRow(this.tbody.find("tr.k-master-row").first());
        },
        columns: [//{ field: "items[0].advertiser.company", title: "Advertiser" },
        //{ field: "campaignNo", title: "Campaign ID" },
        { field: "campaignName", title: "Campaign Name" }, { field: "created_at", title: "Campaign Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        //{ field: "endDate", title: "End Date",type: 'datetime',template: "#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #" },
        { field: "total", title: "Total", template: function template(dataItem) {
            return "<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$ " + dataItem.total + "</span></div>";
          } },
        /// { field: "status", title: "Status" },
        { field: "status", title: "Status", template: function template(dataItem) {
            return " <span class=\"md-subhead\"><md-select ng-model=\"dataItem.status\"  ng-change=\"vm.changeStatus(dataItem)\" flex><md-option ng-value=\"o\" ng-repeat=\"o in vm.Settings.campaignStatus\">{{o}}</md-option></md-select></span>";
            // return "<div  ng-if = \"dataItem.status =='Campaign Placed'\">"+
            //  "<md-select ng-model=\"dataItem.status\" value=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></md-select>"+
            //   "</div>"+

            //  "<div  ng-show = \"!dataItem.status.val=='402'\" >"+
            //  "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>"+
            //  "</div>"; 
          } }]
      };

      this.detailGridOptions = function (dataItem) {

        this.dataItem = dataItem;
        this.uCampaign = dataItem;
        //console.log(this.dataItem);

        return {
          dataSource: {
            filter: { field: "id", operator: "eq", value: dataItem.id },
            transport: {
              read: function read(options) {
                //options holds the grids current page and filter settings
                var itemsGrid = [];
                var qScheduled = {};
                qScheduled.where = { $and: [{ 'items.publisheruid': Auth.getCurrentUser().email }, { 'items.startDate': { $gt: Date.now() } }, { 'status': 'Campaign Accepted' }] };
                Campaign.pub.query(qScheduled, function (res) {

                  var totalFinal = 0;
                  var totalCampaign = res.length;

                  for (var j = 0; j < res.length; j++) {
                    var total = 0;

                    var item = res[j];
                    for (var i = 0; i < item.items.length; i++) {

                      var itemGridTemp = {
                        campaignNo: item.campaignNo,
                        id: item._id,
                        advertiser: item.items[i].advertiser,
                        category: item.items[i].category,
                        creative: item.items[i].creative,
                        image: item.items[i].image,
                        messages: item.items[i].messages,
                        mrp: item.items[i].mrp,
                        name: item.items[i].name,
                        price: item.items[i].price,
                        publisher: item.items[i].publisher,
                        quantity: item.items[i].quantity,
                        request: item.items[i].request,
                        size: item.items[i].size,
                        sku: item.items[i].sku,
                        status: item.items[i].status,
                        uid: item.items[i].uid
                      };

                      var p = item.items[i].price;
                      var q = item.items[i].quantity;
                      total += p * q;

                      vm.itemsGrid.push(itemGridTemp);
                    }

                    res[j].total = total;
                  }

                  res.totalFinal = total;

                  var data = [];
                  ////console.log(vm.itemsGrid);
                  for (var i = 0; i < vm.itemsGrid.length; i++) {
                    var item = vm.itemsGrid[i];
                    if (item.campaignNo == dataItem.campaignNo) {
                      //alert(item.campaignNo);
                      data.push(item);
                    }

                    options.success(data);
                    //console.log(data);

                    vm.data = [];
                  }

                  vm.itemsGrid = [];
                });
              }
            },
            serverPaging: true,
            serverSorting: true,
            serverFiltering: true,
            pageSize: 5,
            filterable: true

          },
          scrollable: false,
          sortable: true,

          pageable: true,
          columns: [
          //{ field: "campaignNo", title:"Campaign #", width: "70px" },
          //{ field: "email", title:"Email", width: "70px" },
          { field: "publisher", title: "Publisher", width: "100px" }, { field: "name", title: "Name", width: "70px" }, { field: "category", title: "Dates", width: "70px" }, {
            field: "price",
            title: "Price",
            width: "50px",

            template: function template(dataItem) {
              return "<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$" + dataItem.price + "</span></div>";
            } }, { field: "quantity", title: "Quantity", width: "50px" }, {
            field: "creative",
            title: "Creative",
            width: "50px",
            template: function template(dataItem) {
              return "<div ng-hide=\"dataItem.creative\">" + "<button  class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"vm.mediaLibrary(dataItem)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>" + "<div ng-show=\"dataItem.creative\">" + "<button  class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"vm.imageDetails(dataItem.creative)\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>" + "</div>";
              //return "<div> <button  class=\"btn btn-danger\"  ng-click=\"vm.open(cart.items,item,item.creative,'md')\" ><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button></div>";
            } },
          //    { 
          //      field: "status.name", 
          //      title: "Status", 
          //      width: "40px" ,
          //      template: function (dataItem) {
          //      return "<div ng-show= \"dataItem.status.val=='305'\" class=\"alert alert-success\"><small>Approved</small></div>"+
          //         // "<div ng-show=\"!dataItem.creative\" class=\"alert alert-danger\" ><small>Needs Creative</small></div>"+
          //          "<div  ng-show = \"dataItem.status.val=='402'\" class=\"alert alert-danger\" ><small>Pending<small></div>"+
          //       "<div  ng-show = \"dataItem.status.val=='300'\" class=\"alert alert-success\" ><small>Ready</small> </div>"+
          //      "<div  ng-show = \"dataItem.status.val=='500'\" class=\"alert alert-danger\" ><small>Rejected</small> </div>"+
          //        "<div  ng-show = \"dataItem.status.val=='309'\" class=\"alert alert-success\" ><small>Completed</small> </div>";
          // } 

          //    },
          {
            title: "Action",
            width: "50px",
            template: function template(dataItem) {
              //return "<div ng-show= \"dataItem.status.val=='305'\"><button class=\"btn-success btn-sm btn-success\" ng-click=\"cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);\" ng-show=\"checkCart(dataItem.name)\"><i class=\"fa fa-shopping-cart\" ></i></button></div>";
              // return "<button class=\"btn-success btn-sm btn-success\" ng-click=\"goToSite(site)\">Buy</button>";
              return "<div  ng-if = \"dataItem.status.val=='402'\">" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatus track by p.val\" ng-change=\"vm.action(dataItem)\" class=\"k-select\" style=\"max-width: 150px\"></select>" + "</div>" + "<div  ng-show = \"!dataItem.status.val=='402'\" >" + "<select ng-model=\"dataItem.status\" ng-options=\"p.name for p in vm.campaignStatusCreativeAdded track by p.val\" ng-change=\"vm.action(o)\" class=\"k-select\"  style=\"max-width: 150px\"></select>" + "</div>";
            } }]
        };
      };
    } //end constructor

    _createClass(CampaignsScheduledController, [{
      key: 'navigate',
      value: function navigate(params) {
        this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
      }
    }, {
      key: 'getTotal',
      value: function getTotal(item) {
        // //console.log(item);
        var total = 0;

        for (var i = 0; i < item.items.length; i++) {

          // items[i].total = 0;

          var p = item.items[i].price;
          var q = item.items[i].quantity;
          total += p * q;
          // var x.sub.push(total);
        }
        // ////console.log(total);

        return total;
      }
    }, {
      key: 'action',
      value: function action(items) {

        var newStatus = { name: 'Approved', val: 305 };

        //var updated = _.merge(itemToMergeCampaign,items.itemToMergeItem);
        // method

        if (items) {
          //console.log(vm.uCampaign._id);
          //vm.uCampaign.items = [];
          //console.log(items);

          Campaign.update({ id: vm.uCampaign._id }, items).$promise.then(function (res) {
            ////console.log(res);
            toastr.success("Campaign has been Approved", "Success");
          }, function (error) {
            // error handler
            ////console.log(error);
            if (error.data.errors) {
              var err = error.data.errors;
              toastr.error(err[Object.keys(err)].message, err[Object.keys(err)].name);
            } else {
              var msg = error.data.message;
              toastr.error(msg);
            }
          });
        }
      }
    }, {
      key: 'changeStatus',
      value: function changeStatus(campaign) {
        var vm = this;
        var vm = this;
        this.Campaign.update({ id: campaign._id }, campaign).$promise.then(function (res) {}, function (error) {
          // error handler
          if (error.data.errors) {
            vm.Toast.show({
              type: 'error',
              text: error.data.errors.status.message
            });
          } else {
            vm.Toast.show({
              type: 'success',
              text: error.statusText
            });
          }
        });
      }
    }]);

    return CampaignsScheduledController;
  }();

  angular.module('mediaboxApp').controller('CampaignsScheduledController', CampaignsScheduledController);
})();
//# sourceMappingURL=campaignsScheduled.controller.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var CartController = function CartController(ToggleComponent, $filter, $timeout, Media, Auth, Toast, Campaign, Settings, Cart, SweetAlert, Category, Brand, Product, Inventory, $state, $stateParams, $mdMedia, $mdDialog) {
        _classCallCheck(this, CartController);

        var vm = this;

        /* autocomplete */
        vm.simulateQuery = true;
        vm.querySearch = querySearch;
        vm.selectedItemChange = selectedItemChange;
        vm.searchTextChange = searchTextChange;
        vm.products = [];
        vm.product = {};
        vm.product.variants = [];
        vm.cart = Cart.cart;
        vm.Settings = Settings;
        vm.$mdMedia = $mdMedia;
        vm.$filter = $filter;
        vm.Media = Media;
        this.Media = Media;
        vm.Toast = Toast;
        vm.loaded = [];
        vm.available = []; //store the inventory available for each item
        vm.notAvailable = [];
        vm.notAvailableObj = {};

        //console.log(vm.cart);
        // var productId = localStorage !== null ? localStorage.productId : null;

        if ($stateParams.search) // When searched print the search text inside search textbox 
            vm.searchText = $stateParams.name;

        vm.cart.getBestShipper().$promise.then(function (data) {
            vm.shipping = data[0];
            vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
        });

        vm.mediaLibrary = function (index) {
            $mdDialog.show({
                template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
                controller: function controller($scope, $mdDialog, $http, socket, $state) {
                    // Start query the database for the table
                    var vm = this;
                    $scope.loading = true;
                    $http.get('/api/media/').then(function (res) {
                        $scope.loading = false;
                        $scope.media = res.data;
                        socket.syncUpdates('media', $scope.data);
                    }, handleError);

                    function handleError(error) {
                        // error handler
                        $scope.loading = false;
                        if (error.status === 403) {
                            Toast.show({
                                type: 'error',
                                text: 'Not authorised to make changes.'
                            });
                        } else {
                            Toast.show({
                                type: 'error',
                                text: error.status
                            });
                        }
                    }
                    $scope.ok = function (path) {
                        $mdDialog.hide(path);
                    };
                    $scope.hide = function () {
                        $mdDialog.hide();
                    };
                    $scope.cancel = function () {
                        $mdDialog.cancel();
                    };
                    $scope.addNewImage = function () {
                        $state.go('media');
                        //vm.save(vm.product)
                        $mdDialog.hide();
                    };
                }

            }).then(function (answer) {
                //console.log(answer);
                if (index === 1000000) vm.cart.items.push({ size: 'x', creative: answer });else vm.cart.items[index].creative = answer;
            }, function () {});
        };

        function querySearch(input, variant, index) {

            console.log(variant);

            //console.log(inpu
            vm.loaded[index] = false;

            var dateArray = input.split('-');
            var startDateTemp = new Date(dateArray[0]);
            var startDate = startDateTemp.toISOString();
            var endDateTemp = new Date(dateArray[1]);
            var endDate = endDateTemp.toISOString();

            var yyyyArray = dateArray[1].split('/');
            var data = [];

            if (input) {
                data = Inventory.query({ where: { pname: variant.publisher, 'vname': variant.name, 'year': yyyyArray[2], 'startDate': { $lt: startDate }, 'endDate': { $gte: endDate } }, limit: 1, skip: 0, select: { 'available': 1 } }, function (res) {

                    console.log(res);

                    $timeout(function (argument) {

                        if (res[0]) {
                            if (res[0].available > 0) {
                                vm.loaded[index] = 'available';
                                vm.available[index] = res[0].available;
                                if (vm.notAvailable.indexOf(index) != -1) {
                                    vm.notAvailable.remove(index);
                                }
                            } else {
                                vm.loaded[index] = 'notavailable';
                                vm.available[index] = 0;
                                vm.notAvailable.push(index);
                            }
                        } else {
                            vm.loaded[index] = 'notavailable';
                            vm.available[index] = 0;
                            vm.notAvailable.push(index);
                        }
                    }, 2000);
                });
            }

            console.log(vm.notAvailable);
            return data;
        }

        function selectedItemChange(item) {
            $state.go('single-product', { id: item._id, slug: item.slug, search: true, name: item.name }, { reload: false });
        }

        function searchTextChange() {}
        /**
         * Create filter function for a query string
         */

        vm.isLoggedIn = Auth.isLoggedIn;
        vm.openFilter = function () {
            ToggleComponent('filtermenu').open();
        };
        vm.openCart = function () {
            ToggleComponent('cart').open();
            vm.cart.getBestShipper().$promise.then(function (data) {
                vm.shipping = data[0];
                vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
            });
        };
        var originatorEv;
        vm.openMenu = function ($mdOpenMenu, ev) {
            originatorEv = ev;
            $mdOpenMenu(ev);
        };

        vm.menu = [{
            'title': 'Home',
            'link': '/'
        }];

        vm.brands = Brand.query({ active: true });

        vm.isCollapsed = true;
        vm.isCollapsed1 = true;
        vm.getCurrentUser = Auth.getCurrentUser;

        vm.gotoDetail = function (params) {
            $state.go('single-product', { id: params.sku, slug: params.slug }, { reload: false });
        };

        vm.createCampaign = function (cart) {

            for (var i = 0; i < cart.items.length; i++) {
                cart.items[i];
                var dateArray = cart.items[i].category.split('-');
                cart.items[i].startDate = dateArray[0];
                cart.items[i].endDate = dateArray[1];
            }

            //console.log(cart);

            var newCampaign = {
                campaignNo: cart.campaignNo,
                cartName: cart.campaignName,
                skuArray: cart.skuArray,
                totalWeight: cart.totalWeight,
                taxRate: cart.taxRate,
                tax: cart.tax,
                campaignName: cart.campaignName,
                objective: cart.objective,
                startDate: cart.startDate,
                endDate: cart.endDate,
                products: cart.products,
                totalSpend: cart.totalSpend,
                spendStats: cart.spendStats,
                shipping: cart.shipping,
                age: cart.age,
                uid: cart.uid,
                income: cart.income,
                items: cart.items

            };

            //console.log(newCampaign);

            if (cart.campaignName == "") {

                swal('Oops...', 'Campaign name  required!', 'error');
            } else {

                var mytable = "<table class=\"table table-striped table-responsive\">" + "<tr>" + "<td class=\"col-sm-4\" style=\"text-align:left\">Publisher</td>" + "<td class=\"col-sm-6\" style=\"text-align:left\">Ad Space</td>" +
                //"<td class=\"col-sm-3\" style=\"text-align:left\">Dates</td>"+
                "<td class=\"col-sm-1\" style=\"text-align:left\">Price</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">Inserts</td>" + "</tr></tbody>";

                for (var i = 0; i < cart.items.length; i++) {

                    mytable += "<tr><td class=\"col-sm-4\" style=\"text-align:left\">" + cart.items[i].publisher + "</td>" + "<td class=\"col-sm-6\" style=\"text-align:left\">" + cart.items[i].name + "</td>" +
                    // "<td class=\"col-sm-3\" style=\"text-align:left\">"+cart.items[i].category+"</td>"+
                    "<td class=\"col-sm-1\" style=\"text-align:left\">" + vm.Settings.currency.symbol + parseFloat(cart.items[i].price) + "</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">" + cart.items[i].quantity + "</td>" + "</tr>";
                }

                mytable += "<tr>" + "<td class=\"col-sm-2\" style=\"text-align:left\">SubTotal</td>" + "<td class=\"col-sm-4\" style=\"text-align:left\">" + vm.Settings.currency.symbol + parseFloat(cart.getTotalPrice()) + "</td>" + "<td class=\"col-sm-4\" style=\"text-align:left\">&nbsp;</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">&nbsp;</td>" + "<td class=\"col-sm-1\" style=\"text-align:left\">&nbsp;</td></tr>";

                mytable += "</tbody></table>";

                swal({
                    title: 'Confirm to continue',
                    text: "A proposal will be send to the publisher(s)!",
                    type: 'warning',
                    html: mytable,
                    width: '600px',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, Continue!',
                    cancelButtonText: 'No, cancel!',
                    confirmButtonClass: 'btn btn-success',
                    cancelButtonClass: 'btn btn-danger',
                    buttonsStyling: false
                }).then(function (vm) {
                    setTimeout(function (vm) {

                        swal("proposal Send!", "Your proposal has been send ,you will get response from the publisher within 7 working days!", "success");

                        var vm = this;
                        Campaign.save(newCampaign).$promise.then(function (res) {

                            var vm = this;
                            for (var i = 0; i < newCampaign.items.length; i++) {
                                var vm = this;
                                var item = newCampaign.items[i];

                                //console.log(item);

                                Media.update({ id: item.creative }, { pub: item.uid }).$promise.then(function (res) {}, function (error) {
                                    // error handler
                                    // 
                                    console.log(error);
                                    if (error.data.errors.status.message == 'not found') {
                                        Toast.show({
                                            type: 'error',
                                            text: "Creative not found"
                                        });
                                    } else if (error.data.errors) {
                                        Toast.show({
                                            type: 'error',
                                            text: error.data.errors.status.message
                                        });
                                    } else {
                                        Toast.show({
                                            type: 'success',
                                            text: error.statusText
                                        });
                                    }
                                });
                            }

                            $state.go('campaign');
                        });
                    }, 2000);
                }, function (dismiss) {
                    // dismiss can be 'cancel', 'overlay',
                    // 'close', and 'timer'
                    if (dismiss === 'cancel') {
                        swal("Cancelled", "Process cancelled :)", "error");
                    }
                });
            }
        };

        vm.getQuantity = function (sku) {
            for (var i = 0; i < vm.cart.items.length; i++) {
                if (vm.cart.items[i].sku === sku) {
                    return vm.cart.items[i].quantity;
                }
            }
        };

        vm.getQuantity = function (sku) {
            for (var i = 0; i < vm.cart.items.length; i++) {
                if (vm.cart.items[i].sku === sku) {
                    return vm.cart.items[i].quantity;
                }
            }
        };
        vm.toggle = function (item, list) {
            //   console.log(item,list);
            if (angular.isUndefined(list)) list = [];
            var idx = list.indexOf(item);
            if (idx > -1) list.splice(idx, 1);else list.push(item);
            vm.filter();
        };

        vm.categories = Category.loaded.query();

        //console.log(vm.categories);

        vm.close = function () {
            ToggleComponent('cart').close();
        };
    };

    angular.module('mediaboxApp').controller('CartController', CartController);
})();
//# sourceMappingURL=cart.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('cart', {
    url: '/cart',
    templateUrl: 'app/cart/cart.html',
    controller: 'CartController as cart',
    authenticate: true
  });
});
//# sourceMappingURL=cart.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var CategoryComponent = function CategoryComponent(Modal) {
    _classCallCheck(this, CategoryComponent);

    this.message = 'Hello';
  };

  angular.module('mediaboxApp').component('category', {
    templateUrl: 'app/category/category.html',
    controller: CategoryComponent
  });
})();
//# sourceMappingURL=category.controller.js.map

'use strict';

// angular.module('mediaboxApp')
//   .config(function ($stateProvider) {
//     $stateProvider
//       .state('category', {
//         url: '/category',
//         template: '<category></category>'
//       });
//   });


angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('category', {
    url: '/category',
    params: { options: null, columns: null },
    views: {
      '': {
        templateUrl: 'app/category/main.html',
        controller: 'CategoriesMainController as main'
      },
      'content@category': {
        url: '/content',
        templateUrl: 'app/category/list.html',
        controller: 'CategoriesListController as list'
      }
    },
    authenticate: 'manager'
  }).state('category-detail', {
    url: '/category-detail/:id',
    onEnter: onEnterUserListDetail, // To open right sidebar
    params: { category: null, categories: null, brands: null, features: null },
    parent: 'category',
    views: {
      '': {
        templateUrl: 'app/category/main.html'
      },
      'detail': {
        templateUrl: 'app/category/detail.html',
        controller: 'CategoriesDetailController as detail'
      }
    },
    authenticate: 'manager'
  }).state('categories-create', {
    url: '/categories-create',
    parent: 'categories',
    params: { data: null },
    views: {
      '': {}
    },
    authenticate: 'manager'
  });
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);

    function showDetails() {
      ToggleComponent('categories.detailView').open();
    }
  }
});
//# sourceMappingURL=category.js.map

'use strict';

(function () {

  function CategoriesDetailController($http, $state, Toast, $stateParams, ToggleComponent, Settings, $mdDialog, socket) {
    var vm = this;
    vm.myDate = new Date();
    vm.header = 'cat';
    vm.cat = {};
    vm.options = {};
    vm.cat.subcat = [];
    vm.cat.newSubCat = {};
    vm.cat.features = [];
    vm.cat.keyFeatures = [];
    vm.unsavedCategory = $stateParams.categories;
    vm.category = angular.copy($stateParams.categories);
    vm.options.categories = angular.copy($stateParams.categories);

    vm.mediaLibrary = function (index) {
      $mdDialog.show({
        template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                \t\t<div class="thumbnail">\n                \t\t\t\t<img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                \t\t</div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
        controller: function controller($scope, $mdDialog, $http, socket, $state) {
          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }

          // Start query the database for the table
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            $state.go('media');
            vm.save(vm.cat);
            $mdDialog.hide();
          };
        }

      }).then(function (answer) {
        vm.cat.subcat[index].image = answer;
      }, function () {});
    };

    // goBack.$inject = ['ToggleComponent'];
    function goBack() {
      ToggleComponent('categories.detailView').close();
      $state.go('^', {}, { location: false });
    }
    vm.goBack = goBack;

    vm.save = function (cat) {
      // refuse to work with invalid data
      if (!cat) {
        Toast.show({
          type: 'error',
          text: 'No cat defined.'
        });
        return;
      }
      if ('newSubCat' in cat) {
        vm.cat.subcat.push(cat.newSubCat);
      }

      function success() {
        vm.cat.newSubCat = {};
        Toast.show({
          type: 'success',
          text: 'Category has been updated'
        });
      };

      function err(err) {
        console.log(err);
        if (cat && err) {}

        Toast.show({
          type: 'warn',
          text: 'Error while updating database'
        });
      };

      $http.patch('/api/categories/' + cat._id, cat).then(success).catch(err);
    };

    vm.deleteFeature = function (index, cat) {
      vm.cat.features.splice(index, 1);
      vm.save(cat);
    };

    vm.deleteKF = function (index, cat) {
      vm.cat.keyFeatures.splice(index, 1);
      vm.save(cat);
    };

    vm.deleteVariants = function (index, cat) {
      vm.cat.subcat.splice(index, 1);
      vm.save(cat);
    };
  }

  angular.module('mediaboxApp').controller('CategoriesDetailController', CategoriesDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function CategoriesListController($scope, $http, socket, $state, $stateParams, Modal, Toast, Settings, Category, $location, $anchorScroll, $mdDialog) {
    this.cols = [
    // {field: 'image', heading: 'image'},
    { field: 'edit', heading: 'Action' }, { field: 'name', heading: 'name' }, { field: 'status', heading: 'status' }];
    this.header = 'Categories';
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;
    // vm.Cat = Cat;
    // the selected item id
    var _id = null;
    var originatorEv;

    // Tabs
    var selected = null,
        previous = null;
    // this.tabs = tabs;
    $scope.newSubItem = function (scope) {
      var nodeData = scope.$modelValue;
      nodeData.child.push({
        id: nodeData.id * 10 + nodeData.child.length,
        title: nodeData.title + '.' + (nodeData.child.length + 1),
        child: []
      });
    };

    $scope.visible = function (item) {
      return !($scope.query && $scope.query.length > 0 && item.title.indexOf($scope.query) === -1);
    };

    $scope.findNodes = function () {};

    this.getCategories = function () {
      vm.loading = true;
      $http.get('/api/categories').then(function (res) {
        vm.loading = false;
        vm.data = res.data;
        // socket.syncUpdates('category', vm.data);
      }, handleError);
    };

    this.remove = function (scope, node) {
      var confirm = this.$mdDialog.confirm().title('Are you sure to delete the category?').textContent('This is unrecoverable').ariaLabel('Confirm delete category').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        scope.remove();
        $http.delete('/api/categories/' + node._id, node);
      });
    };

    vm.toggle = function (scope) {
      scope.toggle();
    };

    $scope.treeOptions = {
      dropped: function dropped(event) {
        var sourceNode = event.source.nodeScope;
        var op = event.source.nodesScope.$nodeScope;
        var destNodes = event.dest.nodesScope;
        var sortBefore = event.source.index + 1;
        var sortAfter = event.dest.index + 1;
        var np = destNodes.$parent;
        var me = sourceNode.$modelValue;
        var oldParent = null;
        var newParent = null;
        // var oldParentId = null;
        if (!_.isNull(op)) {
          // If I had a oldParent (If I was already assigned to a oldParent) 
          // Update oldParent's child reference
          oldParent = op.$modelValue;
          $http.put('/api/categories/' + oldParent._id, oldParent).then().catch(err);
        }
        if (!_.isUndefined(np) && !_.isNull(np)) {
          // If I have a newParent now
          // Update my new parent's child reference
          newParent = np.$modelValue;

          $http.put('/api/categories/' + newParent._id, newParent).then().catch(err);
          me.parent = newParent._id;
        }

        $http.put('/api/categories/' + me._id, me).then(vm.getCategories).catch(err);
        // I was recently created or not under any parent
      }

    };

    this.selectedIndex = 2;
    $scope.$watch('selectedIndex', function (current, old) {
      previous = selected;
    });

    // Add new category
    this.addTab = function (category) {
      $http.post('/api/categories', category).then(function (res) {
        vm.loading = false;
        vm.getCategories();
        $location.hash('bottom');
        $anchorScroll();
      }, handleError);
    };

    this.sort.reverse = true;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };

    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'cat.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, 'cat.csv');
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8'
        });
        saveAs(blob, 'cat.xls');
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'cat.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (cat) {
      return _id === cat._id;
    };

    // Start query the database for categories
    vm.loading = true;
    $http.get('/api/categories').then(function (res) {
      vm.loading = false;
      vm.data = res.data;
    }, handleError);

    // Start query the database for brands
    vm.loading = true;
    $http.get('/api/brands').then(function (res) {
      vm.loading = false;
      vm.brands = res.data;
      socket.syncUpdates('brand', vm.brands);
    }, handleError);

    this.saveSubCategory = function (i, cat) {
      if (cat) {
        i.subcat.push(cat);
      }
      $http.put('/api/categories/' + i._id, i).then(success).catch(err);
    };
    function success(res) {
      var item = vm.cat = res.data;
      Toast.show({ type: 'success', text: 'Category has been updated' });
    }

    function err(err) {
      Toast.show({ type: 'warn', text: 'Error while updating database' });
    }

    this.changeStatus = function (x) {
      $http.put('/api/categories/' + x._id, x).then(success).catch(err);
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Are you sure to delete the category?').textContent('This is unrecoverable').ariaLabel('Confirm delete category').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/categories/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 403) {
        Toast.show({ type: 'error', text: 'Not authorised to make changes.' });
      } else if (err.type !== 'demo') {
        Toast.show({ type: 'error', text: error.status });
      }
    }

    $scope.$on('$destroy', function () {
      socket.unsyncUpdates('categories');
    });

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('category-detail', { categories: item }, { location: false });
    };
  }

  angular.module('mediaboxApp').controller('CategoriesListController', CategoriesListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function CategoriesMainController(Modal, $stateParams) {
    // var options = {api:'cat'};
    // var cols = [{field: 'name', heading:'Name'}];
    // this.create = function(){
    //   Modal.show(cols,options);
    // }
  }

  angular.module('mediaboxApp').controller('CategoriesMainController', CategoriesMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var CheckoutController = function () {
        function CheckoutController(Cart, Country, PaymentMethod, Shipping, Coupon, Order, Pay, Toast, Address, Settings, socket, $scope, Auth, $stateParams, $state, $http, $mdDialog, $window) {
            _classCallCheck(this, CheckoutController);

            var vm = this;
            this.msg = 'No items in cart.';
            this.customer = {};
            this.coupon = {};
            this.Coupon = Coupon;
            this.Shipping = Shipping;
            this.Order = Order;
            this.Pay = Pay;
            this.cart = Cart.cart;
            this.Address = Address;
            this.Auth = Auth;
            this.addr = {};
            this.order = {};
            this.$http = $http;
            this.$mdDialog = $mdDialog;
            this.$window = $window;
            this.socket = socket;
            this.Toast = Toast;
            this.Cart = Cart;
            this.newAddress = false;
            this.options = { email: 'smkorera@mediabox.co.zw' };
            this.stripeToken = {
                number: '4242424242424242',
                cvc: '123',
                exp_month: '12',
                exp_year: '2020'
            };
            PaymentMethod.active.query(function (res) {
                vm.paymentOptions = res;
                vm.options.paymentMethod = res[0];
            });
            this.Settings = Settings;
            this.getMyAddress();
            if ($stateParams.id === '404') this.payment = { id: $stateParams.id, msg: JSON.parse($stateParams.msg) };else if ($stateParams.msg) this.payment = { id: $stateParams.id, msg: [{ field: ':', issue: $stateParams.msg }] };

            this.$state = $state;
            $scope.$on('$destroy', function () {
                socket.unsyncUpdates('address');
            });
            // vm.cartTotal = Cart.cart.getTotalPrice();
            // vm.cartCount = Cart.cart.getTotalCount();
            //vm.getBestShipper()
        }

        _createClass(CheckoutController, [{
            key: 'getMyAddress',
            value: function getMyAddress() {
                var vm = this;
                vm.Address.my.query(function (res) {
                    vm.address = res;
                    vm.addr = res[0];
                    vm.options.paymentMethod = vm.paymentOptions[0];
                    vm.socket.syncUpdates('address', vm.address);
                });
            }
        }, {
            key: 'switchAddress',
            value: function switchAddress(a) {
                this.options.paymentMethod = this.paymentOptions[0];
                this.addr = a;
                // this.getBestShipper();         
            }
        }, {
            key: 'delete',
            value: function _delete(item) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Would you like to delete the address?').textContent('This is unrecoverable').ariaLabel('Confirm delete address').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Address.delete({ id: item._id }, function () {}, function (res) {
                        vm.Toast.show({ type: 'error', text: res });
                    });
                });
            }
            // Setting the default country on page load
            // getBestShipper(){
            //   var vm = this;
            //   vm.Cart.cart.getBestShipper().$promise.then(function(data){
            //       vm.shipping = data[0];
            //   })
            // }

        }, {
            key: 'saveAddress',
            value: function saveAddress(data) {
                var vm = this;
                data.country = vm.Settings.country.name;
                vm.loadingAddress = true;
                if (_.has(data, '_id')) {
                    this.Address.update({ id: data._id }, data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    }, function (err) {
                        // If rejected by auth interceptor.service
                        vm.loadingAddress = false;
                    });
                } else {
                    this.Address.save(data, function () {
                        vm.loadingAddress = false;
                        vm.getMyAddress();
                    });
                }
                vm.addressForm(false);
            }
        }, {
            key: 'addressForm',
            value: function addressForm(visible) {
                this.showAddressForm = visible;
            }
        }, {
            key: 'cancelForm',
            value: function cancelForm(addr) {
                this.showAddressForm = false;
                this.addr = this.address[0];
            }
        }, {
            key: 'checkout',
            value: function checkout(order, o, clearCart) {

                var vm = this;
                order = _.merge(order, o);
                order.options = {};
                if (!_.has(order, 'phone') || !order.phone) {
                    vm.Toast.show({ type: 'error', text: 'You need to specify an address with phone number' });
                    return;
                }

                if (!_.has(order, 'paymentMethod') || order.paymentMethod.name == undefined || o.paymentMethod.name == null || o.paymentMethod.name == "") {
                    vm.Toast.show({ type: 'error', text: 'Please select a payment method' });
                    return;
                }

                if (this.cart.items.length == 0) {
                    vm.Toast.show({ type: 'error', text: 'Your cart found empty. Please add some items' });
                }
                //order.shipping = vm.shipping.best
                if (!vm.coupon) vm.coupon = { amount: 0 };else if (!vm.coupon.amount) vm.coupon = { amount: 0 };
                order.couponAmount = vm.coupon.amount;
                order.stripeToken = vm.stripeToken;
                order.country_code = vm.Settings.country.code;
                order.currency_code = vm.Settings.currency.code;
                order.exchange_rate = vm.Settings.currency.exchange_rate;
                order.total = vm.cartTotal + this.cart.getHandlingFee() - vm.coupon.amount;
                order.email = this.Auth.getCurrentUser().email;
                order.payment = 'Pending';
                order.items = this.cart.items;
                delete order._id;
                if (true) {

                    this.loading = true;
                    this.cart.flagOff();

                    this.cart.checkout(order, clearCart);
                } else {
                    vm.Toast.show({ type: 'error', text: 'Item not available for your location' });
                }
            }
        }, {
            key: 'removeCoupon',
            value: function removeCoupon() {
                this.coupon = {};
            }
        }, {
            key: 'checkCoupon',
            value: function checkCoupon(code, cartValue) {
                var q = {};
                var vm = this;
                // x.where is required else it adds unneccessery colons which can not be parsed by the JSON parser at the Server
                q.where = { code: code, active: true, 'minimumCartValue': { $lte: cartValue } };
                this.Coupon.query(q, function (res) {
                    vm.coupon = res[0];
                });
            }
        }]);

        return CheckoutController;
    }();

    angular.module('mediaboxApp').controller('CheckoutController', CheckoutController);
})();
//# sourceMappingURL=checkout.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('checkout', {
    url: '/checkout?id&msg',
    templateUrl: 'app/checkout/checkout.html',
    controller: 'CheckoutController as checkout',
    authenticate: true
  }).state('payment/prepare', {
    url: '/payment/prepare',
    authenticate: true
  });
});
//# sourceMappingURL=checkout.js.map

'use strict';

angular.module('mediaboxApp').controller('ContactCtrl', function ($scope) {
  $scope.options = [{ field: 'photo', dataType: 'image' }, { field: 'name', noEdit: true }, { field: 'email' }, { field: 'phone' }, { field: 'category', dataType: 'select', options: ['Family', 'Friends', 'Acquaintances', 'Services'] }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=contact.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('contact', {
    url: '/contact',
    templateUrl: 'app/contact/contact.html',
    controller: 'ContactCtrl',
    authenticate: true,
    title: 'Contacts Manager'
  });
});
//# sourceMappingURL=contact.js.map

'use strict';

angular.module('mediaboxApp').controller('CountryCtrl', function ($scope) {
  $scope.options = [{ field: 'name' }, { field: 'dial_code' }, { field: 'code' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=country.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('country', {
    url: '/country',
    templateUrl: 'app/country/country.html',
    controller: 'CountryCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=country.js.map

'use strict';

angular.module('mediaboxApp').controller('CouponCtrl', function ($scope) {
  $scope.options = [{ field: 'code' }, { field: 'amount', dataType: 'currency' }, { field: 'minimumCartValue', dataType: 'number' }, { field: 'info' }, { field: 'type' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=coupon.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('coupon', {
    url: '/coupon',
    templateUrl: 'app/coupon/coupon.html',
    controller: 'CouponCtrl',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=coupon.js.map

'use strict';

angular.module('mediaboxApp').controller('CustomerCtrl', function ($scope) {
  $scope.options = [{ field: 'photo', heading: 'Image', dataType: 'image' }, { field: 'name', noSort: true, noEdit: true }, { field: 'address', dataType: 'textarea' }, { field: 'country', dataType: 'select', options: ['India', 'USA', 'Australlia', 'China', 'Japan'] }, { field: 'active', heading: 'Status', dataType: 'boolean' }];
});
//# sourceMappingURL=customer.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('customer', {
    url: '/customer',
    templateUrl: 'app/customer/customer.html',
    controller: 'CustomerCtrl',
    authenticate: true
  });
});
//# sourceMappingURL=customer.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var DashboardController = function DashboardController(Settings) {
    _classCallCheck(this, DashboardController);

    this.getColor = function ($index) {
      var _d = ($index + 1) % 11;
      var bg = '';

      switch (_d) {
        case 1:
          bg = 'red';break;
        case 2:
          bg = 'green';break;
        case 3:
          bg = 'darkBlue';break;
        case 4:
          bg = 'blue';break;
        case 5:
          bg = 'yellow';break;
        case 6:
          bg = 'pink';break;
        case 7:
          bg = 'darkBlue';break;
        case 8:
          bg = 'purple';break;
        case 9:
          bg = 'deepBlue';break;
        case 10:
          bg = 'lightPurple';break;
        default:
          bg = 'yellow';break;
      }

      return bg;
    };

    this.pages = [];
    this.pages = Settings.menu.pages;
  };

  angular.module('mediaboxApp').controller('DashboardController', DashboardController);
})();
//# sourceMappingURL=dashboard.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('dashboard', {
    url: '/dashboard',
    templateUrl: 'app/dashboard/dashboard.html',
    controller: 'DashboardController',
    controllerAs: 'dashboard',
    title: 'Shop Dashboard for Admin',
    authenticate: true
  });
});
//# sourceMappingURL=dashboard.js.map

'use strict';

angular.module('mediaboxApp').controller('DocumentationCtrl', function () {
  this.topFeatures = [{ h: 'PayPal Shopping Cart', p: 'Enter your paypal app ID into settings, add products and start selling with no matter of time. This has got inbuilt multi currency support with curency conversion feature', i: 'assets/images/paypal-e9dccdb656.png' }, { h: 'MEAN Stack', p: 'Developed using the most popular MEAN(MongoDB + Express + Angular + Node) which has a RestAPI based architecture with high scallability.', i: 'assets/images/mean.png' }, { h: 'Authentication', p: 'Inbuilt authentication mechanism with role based user access and user management', i: 'assets/images/user-roles-4e6a449f54.png' }, { h: 'Material Design', p: 'Most of the components are based on Google Material designe guidelines which gives you a responsive, bold and accessible design with great amount of user interactivity', i: 'assets/images/material-design-f0a449231f.png' }, { h: 'Emails', p: 'Integration of emails at diffent levels like Order Placement, Forgot/Reset password gives a secure as well as informative feeling', i: 'assets/images/email-bdab61141f.png' }, { h: 'Modular Code', p: 'The modular application structure gives you enormous ability to modify, test and deploy easily', i: 'assets/images/code-6ff7c0abcb.png' }];
  this.why = [{ h: 'Drag and drop category selection', i: 'playlist_add', c: 'fill: #FF5722' }, { h: 'AngularJS Shopping Cart', i: 'shopping_basket', c: 'fill:#DE140E' }, { h: 'Local + OAUTH login', i: 'lock_outline', c: 'fill: #2196F3' }, { h: 'Email integration', i: 'email', c: 'fill: #FABD0E' }, { h: 'PayPal Checkout', i: 'account_balance_wallet', c: 'fill: #795548' }, { h: 'Material Design', i: 'devices', c: 'fill: #ab47bc' }, { h: 'CRUD Generator', i: 'settings', c: 'fill: #3949ab' }, { h: 'Image uploader', i: 'collections', c: 'fill: #8bc34a' }, { h: 'ReST API based backend', i: 'http', c: 'fill: #26a69a' }];

  this.future = [{ h2: 'Multivendor', p: 'Support for multiple vendors where each vendor will have their own profile to mange their orders' }, { h2: 'Social Media', p: 'Integration of social info profile of each customer' }, { h2: 'Backorders', p: 'Shoppers can order an item even if stock is 0' }, { h2: 'Additional Payment Methods', p: 'Support for more payment methods e.g. Stripe, Credit Card.' }, { h2: 'Inventory Mangement', p: 'The store owner can manage inventory with automated replenishment orders' }, { h2: 'SMS Integration', p: 'SMS for each important transaction performed' }, { h2: 'Hotkeys', p: 'Keyboard Shortcuts for regular tasks' }, { h2: 'Reviews', p: 'Product Reviews and Comments' }, { h2: 'Ratings', p: 'Product Ratings feature' }, { h2: 'Tax Management', p: 'Integrated Tax Manager' }, { h2: 'Theming', p: 'Advanced theming support for the whole website' }, { h2: 'Static Page Management', p: 'Create and edit static pages, such as Contact, About, or Support.' }, { h2: 'Returns and Refunds', p: 'Adminster and manage returns and refunds.' }];

  this.newFeatures = [{ h2: 'Coupons', p: 'Ability yo manage discount coupons on cart total', i: 'settings' }, { h2: 'Media Management', p: 'With integrated drag and drop image upload its easy to manage the images for the whole shop' }, { h2: 'NodeJS Module', p: 'ES6 module structure for serve side programming.' }, { h2: 'Order Management', p: 'PayPal integration with orders' }, { h2: 'User Roles', p: 'Role based user management for both client and server side e.g. User, Manager, Administrator' }, { h2: 'Email Integration', p: 'Now an email is sent as soon as a order is placed or payment failed' }, { h2: 'Material Design', p: 'Mobile Centered Material Designed components with accessibility support' }, { h2: 'New Design Principle', p: 'Flex based page design principle' }, { h2: 'CRUD Table', p: 'Free Material CRUD Table module comes with this Material Shop' }, { h2: 'Image Selector', p: 'Directly select image for a product from the media gallery' }, { h2: 'Cloning', p: 'Now Clone any brand, country, shipping, coupon to save time' }, { h2: 'Multi Level Category', p: 'Drag and drop category management upto 10 levels' }, { h2: 'Multi Currency', p: 'Support for additional currencies beyond US Dollars from a single settings page' }, { h2: 'Forgot Password', p: 'Forgotten password of a user or shop manager can be retrieved with a encryption based email service' }, { h2: 'Contact Page', p: 'A tiny little popup window for anybody to reach the store owner with any grievance or suggestions' }, { h2: 'PayPal', p: 'Now PayPal integration is more powerful with the managed payment status' }, { h2: 'Search', p: 'Auto-suggest, keyword product search.' }];

  this.storeFrontFeatures = [{ h2: 'MEAN', p: 'The MEAN Stack ecommerce with Material Design' }, { h2: 'AngularJS', p: 'A whole ecommerce application created using AngularJS as front end' }, { h2: 'NodeJS', p: 'The backend (server side) is backed with the awesome NodeJS framework for better speed and wide extensions support with a very large community base' }, { h2: 'MongoDB', p: 'The document based No_SQL database used for faster communication and more efficiency' }, { h2: 'Modular', p: 'Industry standard application module structure' }, { h2: 'Single Page', p: 'SPA(Single Page App) created with the power of AngularJS and ui-router' }, { h2: 'One Page Checkout', p: 'Instant and single page advance checkout system' }, { h2: 'SocketIO', p: 'Now every activity by a user or shop manger is reflected in realtime across the web app(without page reloads)' }, { h2: 'Acive/Inactive', p: 'Option to save inactive product for publishing later' }, { h2: 'Product Variants', p: 'Option to add multiple variants of a single product with different price, size and image' }, { h2: 'Product Features', p: 'Additional product details in key/value list' }, { h2: 'Featured Product Details', p: 'More product details in key/value list which need to be highlighted in the product details page' }, { h2: 'Cross Platform', p: 'Cross Platform development setup with efficient with gulp, bower, npm' }, { h2: 'Product Category', p: 'Category wise product details' }, { h2: 'Filters', p: 'Advanced features like Multiple brands selector, Prodcut type filter, price slider' }, { h2: 'OAUTH', p: 'Integrated social media login' }, { h2: 'Passwords', p: 'Reset and Change Password option' }, { h2: 'Infinite Scroll', p: 'Automatically load more products on scroll without the need of pagination' }, { h2: 'SEO friendly', p: 'SEO friendly URLs for each page' }, { h2: 'Assistive Technology', p: 'Ready for screen readers for improved assistive' }, { h2: 'Contact Form', p: 'Email service for queries/suggestions/grievances through popup contact form' }];

  this.storeBackFeatures = [{ h2: 'Manage Backoffice', p: 'Products, Categories, Brand, Order Management from admin panel with easy directives' }, { h2: 'Order Management', p: 'Manage Order and Change Status from admin panel' }, { h2: 'Product Variants', p: 'Facility for Multiple product variants (size, color, price, image)' }, { h2: 'User roles', p: '- Administrator, User, Manager' }, { h2: 'Quality Code', p: 'Secure and quality code - Takes care all single page web app standards' }, { h2: 'Secure', p: 'Securely built and prevent security attacks' }, { h2: 'CRUD Generator', p: 'Generates CRUD(Create, Read, Update, Delete) pages automatically from database.' }, { h2: 'ReST API', p: 'NodeJS based ReST API architecture' }, { h2: 'Date picker', p: 'Integrated material designed date picker for date fields' }, { h2: 'Modular Code', p: 'Code is Modular, Maintainable, Well Structured, Easy to customize, Production Ready' }, { h2: 'HTML Components Generator', p: 'Automatically generates dropdowns, datepickers, number field, toggle switch based on field types' }, { h2: 'Exportable', p: 'Easily export the table as Excel, JSON, txt format' }];
});
//# sourceMappingURL=documentation.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('doc', {
    url: '/index',
    templateUrl: 'app/documentation/index.html',
    controller: 'DocumentationCtrl as doc'
  }).state('terms', {
    url: '/index/terms',
    templateUrl: 'app/documentation/install.html',
    controller: 'DocumentationCtrl as doc'
  }).state('faq', {
    url: '/index/faq',
    templateUrl: 'app/documentation/features.html',
    controller: 'DocumentationCtrl as doc'
  }).state('verified-publishers', {
    url: '/index/verified',
    templateUrl: 'app/documentation/use.html',
    controller: 'DocumentationCtrl as doc'
  });
}).directive('docMenu', function ($state) {
  return {
    restrict: 'E',
    link: function link(scope, element, attrs) {
      scope.page = $state.current.name;
    },
    template: '\n      <md-toolbar class="md-whiteframe-2dp">\n        <div class="md-toolbar-tools navbar" layout="row" layout-align="space-around center">\n          <h3><a ui-sref="/">Material Shop</a></h3>\n        <md-button ui-sref="docInstall" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docInstall\'"><ng-md-icon icon="now_widgets"></ng-md-icon>Installation</md-button>\n        <md-button ui-sref="doc" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'doc\'"><ng-md-icon icon="star"></ng-md-icon>Highlights</md-button>\n        <md-button ui-sref="docFeatures" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docFeatures\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Features</md-button>\n        <md-button ui-sref="docUse" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docUse\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Store Use</md-button>\n        <md-button ui-sref="/" class="md-raised md-default md-button md-ink-ripple" flex="20" ng-hide="page==\'docBack\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Store Demo</md-button>\n      </div>\n      </md-toolbar>\n      '
  };
}).directive('docNav', function ($state) {
  return {
    restrict: 'E',
    link: function link(scope, element, attrs) {
      scope.page = $state.current.name;
    },
    template: '\n      <md-button ui-sref="docInstall" class="md-raised md-primary md-button md-ink-ripple" ng-hide="page==\'docInstall\'"><ng-md-icon icon="now_widgets"></ng-md-icon>Installation</md-button>\n        <md-button ui-sref="doc" class="md-raised md-primary md-button md-ink-ripple"   ng-hide="page==\'doc\'"><ng-md-icon icon="star"></ng-md-icon>Highlights</md-button>\n        <md-button ui-sref="docFeatures" class="md-raised md-primary md-button md-ink-ripple" ng-hide="page==\'docFeatures\'"><ng-md-icon icon="spellcheck"></ng-md-icon>Features</md-button>\n      '
  };
});
//# sourceMappingURL=documentation.js.map

'use strict';

angular.module('mediaboxApp').controller('FeatureCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=feature.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('feature', {
    url: '/feature',
    templateUrl: 'app/feature/feature.html',
    controller: 'FeatureCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=feature.js.map

'use strict';

angular.module('mediaboxApp').controller('KeyFeatureCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=keyfeature.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('keyfeature', {
    url: '/keyfeature',
    templateUrl: 'app/keyfeature/keyfeature.html',
    controller: 'KeyFeatureCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=keyfeature.js.map

"use strict";
//# sourceMappingURL=campaign.controller.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var MainController = function () {
        function MainController($scope, $state, $stateParams, $http, $location, Cart, Product, Brand, BrandMG, BrandTV, Category, Feature, Settings, socket, $rootScope, $injector, $loading, $timeout, $mdMedia) {
            _classCallCheck(this, MainController);

            var vm = this;
            // Start query the database for products
            // this.loading = true;
            // if ($stateParams.productSku) { // != null
            //     this.product = this.store.getProduct($stateParams.productSku);
            // }
            // this
            this.$http = $http;
            this.$timeout = $timeout;
            this.$loading = $loading;
            this.$mdMedia = $mdMedia;
            this.$location = $location;
            this.$state = $state;
            this.Product = Product;
            this.product = {};
            this.products = {};
            this.filtered = {};
            this.products.busy = false;
            this.products.end = false;
            this.products.after = 0;
            this.products.items = [];
            this.fl = {};
            this.fl.brands = [];
            this.fl.categories = [];
            this.priceSlider = {};
            this.features = Feature.group.query();
            this.categories = Category.query();
            this.brands = Brand.query({ active: true });
            this.Brand = Brand;
            this.Category = Category;
            this.BrandMG = BrandMG;
            this.BrandTV = BrandTV;
            this.selected = [];
            this.$scope = $scope;
            this.$rootScope = $rootScope;
            this.$injector = $injector;
            this.Settings = Settings;
            // this.fl.brands = this.selected;
            this.sort = this.products.sort = $stateParams.sort;
            this.q = { where: { active: true }, limit: 10 };
            this.f = [];
            this.fl.features = {};
            this.resetPriceRange();

            // This is done at ui-router resolve
            // var id = $stateParams.id;
            // // Storing the product id into localStorage because the _id of the selected product which was passed as a hidden parameter from products won't available on page refresh
            // if (localStorage !== null && JSON !== null && id !== null) {
            //     localStorage.productId = id;
            // }
            // var productId = localStorage !== null ? localStorage.productId : null;

            // if (productId && productId !== 'undefined') { // To avoid product undefined error at Category/slug/id page
            //     this.product = Product.get({id:productId});
            // }


            //Range slider config
            this.priceSlider = {
                min: 0,
                max: 3000,
                options: {
                    floor: 0,
                    step: 1,
                    translate: function translate(value) {
                        return vm.Settings.currency.symbol + value;
                    },
                    onStart: function onStart() {
                        // ////console.log('start slider......');
                    },
                    onChange: function onChange() {
                        // ////console.log('change slider......');
                    },
                    onEnd: function onEnd() {
                        // ////console.log('end slider......');
                        vm.filter(vm, 'price');
                    }
                }
            };

            if ('page' in $stateParams) {
                this.brands = false;
                ////console.log($stateParams);
                if ($stateParams.slug === 'magazines' || $stateParams.slug === 'newspapers') {
                    this.brands = this.BrandMG.query({ active: true });
                    ////console.log(this.brands);
                } else if ($stateParams.slug === 'banner' || $stateParams.slug === 'social-media') {
                    this.brands = this.Brand.query({ active: true });
                    ////console.log(this.brands);
                } else if ($stateParams.slug === 'television' || $stateParams.slug === 'cinema' || $stateParams.slug === 'radio') {
                    this.brands = this.BrandTV.query({ active: true });
                    ////console.log(this.brands);
                } else {}

                    //this.brands = this.Brand.query({active:true});

                    // If category or brand page

                if ($stateParams.page && $stateParams._id) {
                    this.products.brand = { _id: $stateParams._id };
                    this.breadcrumb = { type: $stateParams.page };
                    this.generateBreadCrumb(this, $stateParams.page, $stateParams._id);
                    if ($stateParams.page === 'Category') {
                        this.fl.categories.push({ _id: $stateParams._id, name: $stateParams.slug });
                    } else if ($stateParams.page === 'Brand') {

                        this.fl.brands.push({ _id: $stateParams._id, name: $stateParams.slug });
                    }
                    // this.resetPriceRange(this);
                } else {
                    this.q = { sort: this.sort, limit: 10 };
                }
                this.filter(this);
            } else {
                this.q = { limit: 10 };
            }

            this.scroll = function () {
                if (this.products.busy || this.products.end) {
                    return;
                }
                this.products.busy = false;
                this.q.skip = this.products.after;
                this.displayProducts(this.q);
            };

            $scope.$on('$destroy', function () {
                socket.unsyncUpdates('product');
            });

            this.selectedFeatures = [];
            this.selectedSubFeatures = [];
        }
        // for the checkboxs


        _createClass(MainController, [{
            key: 'exists',
            value: function exists(item, list) {
                if (angular.isUndefined(list)) list = [];
                return list.indexOf(item) > -1;
                // this.filter(this);
            }
        }, {
            key: 'toggle',
            value: function toggle(item, list) {
                var idx = list.indexOf(item);
                if (idx > -1) list.splice(idx, 1);else list.push(item);
                this.filter(this);
            }
        }, {
            key: 'navigate',
            value: function navigate(page, params) {
                if (page === 'sort') {
                    delete params.$$hashKey;
                    var paramString = JSON.stringify(params);
                    this.$state.go(this.$state.current, { sort: paramString }, { reload: true });
                } else if (params) {
                    this.$location.replace().path(page + '/' + params.slug + '/' + params._id);
                } else {
                    this.$location.replace().path('/');
                }
            }
        }, {
            key: 'gotoDetail',
            value: function gotoDetail(params) {
                this.$state.go('single-product', { id: params._id, slug: params.slug }, { reload: false });
            }
        }, {
            key: 'gotoCheckout',
            value: function gotoCheckout(params) {
                this.$state.go('checkout');
            }
        }, {
            key: 'generateBreadCrumb',
            value: function generateBreadCrumb(vm, page, id) {
                vm.breadcrumb.items = [];
                var api = vm.$injector.get(page);
                api.get({ id: id }).$promise.then(function (child) {
                    vm.breadcrumb.items.push(child);
                    if (page === 'Category') {
                        vm.breadcrumb.items.push({ name: 'All Categories' });
                    } else if (page === 'Brand') {
                        vm.breadcrumb.items.push({ name: 'All Brands' });
                    }
                });
            }
        }, {
            key: 'filter',
            value: function filter(vm) {
                // var q = {};
                var f = [];
                if (vm.fl.features) {
                    _.forEach(vm.fl.features, function (val, key) {
                        if (val.length > 0) {
                            f.push({ 'features.key': key, 'features.val': { $in: val } });
                        }
                    });
                }

                if (vm.fl.brands) {
                    if (vm.fl.brands.length > 0) {
                        var brandIds = [];
                        _.forEach(vm.fl.brands, function (brand) {
                            brandIds.push(brand._id);
                        });
                        f.push({ 'brand': { $in: brandIds } });
                    }
                }
                if (vm.fl.categories) {
                    if (vm.fl.categories.length > 0) {
                        var categoryIds = [];
                        _.forEach(vm.fl.categories, function (category) {
                            categoryIds.push(category._id);
                        });
                        f.push({ 'category': { $in: categoryIds } });
                    }
                }

                f.push({ 'variants.price': { $gt: vm.priceSlider.min, $lt: vm.priceSlider.max } });

                // var vm = this;
                if (f.length > 0) {
                    vm.q.where = { $and: f };
                } else {
                    vm.q.where = {};
                }

                vm.displayProducts(vm.q, true);
                // vm.resetPriceRange(vm.q);
            }
        }, {
            key: 'sortNow',
            value: function sortNow(sort) {
                this.q.sort = sort;
                this.displayProducts(this.q, true);
            }
        }, {
            key: 'displayProducts',
            value: function displayProducts(q, flush) {
                var products = this.products;
                var filtered = this.filtered;
                var $loading = this.$loading;
                if (flush) {
                    q.skip = 0;
                    products.items = [];
                    products.end = false;
                    products.after = 0;
                }
                $loading.start('products');
                products.busy = true;
                var vm = this;
                this.Product.query(q, function (data) {

                    for (var i = 0; i < data.length; i++) {
                        var success2 = function success2(res) {
                            //////console.log(res.data.name);    
                            item.startDate = res.data.name;
                        };

                        var err2 = function err2(err) {
                            ////console.log(err);
                            // if (product && err) {
                            // }

                        };

                        var success = function success(res) {
                            //////console.log(res.data.name);    
                            item.endDate = res.data.name;
                        };

                        var err = function err(_err) {
                            ////console.log(err);
                            // if (product && err) {
                            // }

                        };

                        var item = data[i];

                        ////console.log(item.category);
                        var catid = item.category;
                        var brandid = item.brand;

                        vm.$http.get('/api/brands/' + brandid).then(success2).catch(err2);

                        vm.$http.get('/api/categories/' + catid).then(success).catch(err);

                        products.items.push(item);
                        ////console.log(item);
                    }
                    // Products count
                    filtered.count = data.length + products.after;
                    if (data.length >= 5) {
                        products.after = products.after + data.length;
                    } else {
                        products.end = true;
                    }

                    products.busy = false;
                    $loading.finish('products');
                }, function () {
                    products.busy = false;
                    vm.$loading.finish('products');
                }).$promise.then(function () {
                    vm.Product.count.query(q, function (res) {
                        products.count = res[0].count;
                    });
                });
            }
        }, {
            key: 'resetPriceRange',
            value: function resetPriceRange(q) {
                // Could not be implemented. Need to try again later
                var vm = this;
                vm.Product.pr.get(q, function (data) {
                    vm.priceSlider.options.floor = data.min;
                    vm.priceSlider.min = data.min;
                    vm.priceSlider.options.ceil = data.max;
                    vm.priceSlider.max = 3000;
                });
            }

            // For Price slider

        }, {
            key: 'currencyFormatting',
            value: function currencyFormatting(value) {
                return this.Settings.currency.symbol + ' ' + value.toString();
            }
        }, {
            key: 'removeFeatures',
            value: function removeFeatures(features, k, f) {
                this.fl.features[k] = _.without(features, f);
                this.filter(this);
            }
        }, {
            key: 'removeBrand',
            value: function removeBrand(brand) {
                var index = this.fl.brands.indexOf(brand);
                if (index > -1) {
                    this.fl.brands.splice(index, 1);
                    this.filter(this);
                }
            }
        }, {
            key: 'removeCategory',
            value: function removeCategory() {
                this.fl.categories = undefined;
                this.filter();
            }
        }, {
            key: 'handleError',
            value: function handleError(error) {
                // error handler
                this.loading = false;
                if (error.status === 403) {
                    Toast.show({
                        type: 'error',
                        text: 'Not authorised to make changes.'
                    });
                } else {
                    Toast.show({
                        type: 'error',
                        text: error.status
                    });
                }
            }
        }]);

        return MainController;
    }();

    angular.module('mediaboxApp').controller('MainController', MainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
    $stateProvider.state('/', {
        url: '/',
        templateUrl: 'app/main/main.html',
        controller: 'MainController as main',
        title: 'Mediabox | Discover | Plan | Buy '
    }).state('/Category', {
        url: '/Category',
        templateUrl: 'app/main/test.html',
        controller: 'MainController as main',
        title: 'Categories'
    }).state('/campaign', {
        url: '/campaign',
        templateUrl: 'app/main/campaign.html',
        controller: 'CampaignController as cart',
        title: 'Campaign'

    }).state('single-product', {
        params: { id: null, name: null, slug: null, search: false },
        url: '/p/:slug',
        templateUrl: 'app/main/single-product.html',
        controller: 'SingleProductController as single',
        title: 'Product details',
        resolve: {
            SingleProduct: function SingleProduct($stateParams, Product) {
                // Storing the product id into localStorage because the _id of the selected product which was passed as a hidden parameter from products won't available on page refresh
                var id = $stateParams.id;
                if (localStorage !== null && JSON !== null && id !== null) {
                    localStorage.productId = id;
                }
                var productId = localStorage !== null ? localStorage.productId : null;

                if (productId) {
                    // != null
                    if (id) {
                        return Product.get({ id: productId });
                    }
                }

                // return productId;
            }
        }
    }).state('main', {
        title: 'Mediabox',
        url: '/',
        templateUrl: 'app/main/main.html',
        controller: 'MainController as main',
        params: {
            sort: null
        }
    })
    // When a category selected from the navbar megamenu
    .state('SubProduct', {
        title: 'All products under current category or brand',
        url: '/:page/:slug/:_id',
        templateUrl: 'app/main/main.html',
        controller: 'MainController as main',
        params: {
            id: null,
            sort: null,
            brand: null,
            category: null,
            price1: 0,
            price2: 100000
        }
    });
});
//# sourceMappingURL=main.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var SingleProductController = function () {
        function SingleProductController($stateParams, $location, $scope, $timeout, Product, Review, socket, SingleProduct, Auth, Toast, LoginModal, $mdDialog, appConfig) {
            _classCallCheck(this, SingleProductController);

            var vm = this;

            vm.$mdDialog = $mdDialog;
            vm.$scope = $scope;
            vm.$timeout = $timeout;
            vm.currentUser = Auth.getCurrentUser();
            vm.LoginModal = LoginModal;
            vm.Auth = Auth;
            vm.Toast = Toast;
            vm.Review = Review;

            $scope.vm = vm;

            var id = $stateParams.id;
            ////console.log($stateParams);
            //
            if (id == null) {

                var slug = $location.search().slug;
                var id = $location.search().id;

                vm.product = Product.get({ id: id }, function (res) {

                    vm.learn(res);
                });
            } else {

                if (localStorage !== null && JSON !== null && id !== null) {
                    localStorage.productId = id;
                }
                vm.productId = localStorage !== null ? localStorage.productId : null;

                SingleProduct.$promise.then(function (res) {

                    vm.product = res;

                    vm.learn(res);

                    ////console.log(res.category.name);
                    if (!appConfig.reviewSettings.enabled) {
                        // If the settings says not to enable reviews
                        return;
                    }
                    vm.q = { pid: SingleProduct._id };
                    vm.getReviews();
                });
                vm.i = 0;
            }

            vm.changeIndex = function (i) {
                vm.i = i;
            };
        }

        _createClass(SingleProductController, [{
            key: 'preview',
            value: function preview(adspace) {

                ////console.log(adspace);
                var vm = this;

                if (adspace.image) {

                    vm.name = adspace.name;
                    vm.size = adspace.size;
                    vm.formart = adspace.formart;

                    vm.image = {
                        src: adspace.image,
                        position: {
                            x: -137.5,
                            y: -68
                        },
                        scaling: 1,
                        maxScaling: 5,
                        scaleStep: 0.11,
                        mwScaleStep: 0.09,
                        moveStep: 99,
                        fitOnload: true,
                        progress: 0
                    };

                    this.$timeout(function () {
                        angular.element('#movecenter').triggerHandler('click');
                    });

                    this.$scope.$watch('adspace.image', function (newValue) {
                        if (typeof newValue != "string") {
                            ////console.log(newValue);

                        }
                    });
                } else {
                    vm.name = false;
                    vm.size = false;
                }
            }
        }, {
            key: 'getReviews',
            value: function getReviews() {
                var vm = this;
                vm.Review.my.query(vm.q, function (r) {
                    vm.reviews = r;
                    vm.publishtRatings(vm.reviews);
                });
            }
        }, {
            key: 'publishtRatings',
            value: function publishtRatings(r) {
                var vm = this;
                var reviewCount = 0;
                var rating = { r5: 0, r4: 0, r3: 0, r2: 0, r1: 0, count: 0, total: 0, avg: 0 };
                r.forEach(function (i) {
                    if (i.message) reviewCount++;
                    if (i.rating) rating.count++;
                    if (i.rating) rating.total = rating.total + i.rating;
                    if (i.rating == 5) rating.r5++;
                    if (i.rating == 4) rating.r4++;
                    if (i.rating == 3) rating.r3++;
                    if (i.rating == 2) rating.r2++;
                    if (i.rating == 1) rating.r1++;
                }, this);
                vm.reviewCount = reviewCount;
                rating.avg = Math.round(rating.total / rating.count * 10) / 10;
                vm.rating = rating;
            }
        }, {
            key: 'deleteReview',
            value: function deleteReview(review) {
                var vm = this;
                var confirm = this.$mdDialog.confirm().title('Are you sure to delete your review?').textContent('This is unrecoverable').ariaLabel('Confirm delete review').ok('Please do it!').cancel('No. keep');

                this.$mdDialog.show(confirm).then(function () {
                    vm.Review.delete({ id: review._id }, function () {
                        vm.getReviews();
                    }, function (err) {
                        vm.Toast.show({ type: 'error', text: 'Error while saving your review: ' + err.data });
                    });
                });
            }
        }, {
            key: 'learn',
            value: function learn(res) {
                var vm = this;

                if (res.category.name == "Magazines") {
                    vm.magazines = true;
                } else if (res.category.name == "Television") {
                    vm.television = true;
                } else if (res.category.name == "Radio") {
                    vm.radio = true;
                } else if (res.category.name == "Newspapers") {
                    vm.newspapers = true;
                } else if (res.category.name == "Fliers") {
                    vm.fliers = true;
                } else if (res.category.name == "Cinema") {
                    vm.cinema = true;
                } else if (res.category.name == "Airline") {
                    vm.airline = true;
                } else if (res.category.name == "Instore") {
                    vm.instore = true;
                } else if (res.category.name == "Email Marketing") {
                    vm.emailMarketing = true;
                } else if (res.category.name == "Bulk SMS") {
                    vm.bulkSms = true;
                } else if (res.category.name == "Banner") {
                    vm.banner = true;
                } else if (res.category.name == "Social Media") {
                    vm.socialMedia = true;
                } else if (res.category.name == "Billboards") {
                    vm.billboards = true;
                } else {
                    vm.default = true;
                }
            }
        }, {
            key: 'myReview',
            value: function myReview(review) {
                if (this.Auth.getCurrentUser().email == review.email) return true;
            }
        }, {
            key: 'reviewForm',
            value: function reviewForm() {
                var vm = this;
                if (!vm.Auth.getCurrentUser().name) {
                    vm.LoginModal.show('single-product', true); // Reload the route, else it won't show the wishlist status of the product
                    return;
                }
                vm.$mdDialog.show({
                    templateUrl: 'app/main/review-form.html',
                    controller: NewReviewController
                }).then(function (data) {
                    vm.getReviews();
                    if (vm.reviewSettings.moderate) vm.Toast.show({ type: 'success', text: 'Your review is under moderation. Will be visible to public after approval.' });
                });

                function NewReviewController($scope, $mdDialog, Review, Toast) {
                    var user = vm.Auth.getCurrentUser();
                    $scope.hide = function () {
                        $mdDialog.hide();
                    };
                    $scope.cancel = function () {
                        $mdDialog.cancel();
                    };
                    $scope.save = function (data) {
                        if (!data) {
                            $scope.message = 'Please rate the item from a scale of 1-5';
                            return;
                        }
                        data.pid = vm.product._id;
                        data.pname = vm.product.name;
                        data.pslug = vm.product.slug;
                        data.email = user.email;
                        data.reviewer = user.name;
                        Review.save(data, function () {}, function (err) {
                            Toast.show({ type: 'error', text: 'Error while saving your review: ' + err.data });
                        });
                        $mdDialog.hide(data);
                    };
                }
                NewReviewController.$inject = ['$scope', '$mdDialog', 'Review', 'Toast'];
            }
        }]);

        return SingleProductController;
    }();

    SingleProductController.$inject = ['$stateParams', '$location', '$scope', '$timeout', 'Product', 'Review', 'socket', 'SingleProduct', 'Auth', 'Toast', 'LoginModal', '$mdDialog', 'appConfig'];

    angular.module('mediaboxApp').controller('SingleProductController', SingleProductController);
})();
//# sourceMappingURL=single.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('MediaCtrl', function ($scope, Upload, $timeout, $http, socket, $mdDialog, Settings, Toast) {

  $scope.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n        \t<div>\n            <img ng-if="img.type===\'image/png\'" ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n            <img ng-if="img.type===\'image/jpeg\'" ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n            <img ng-if="img.type===\'image/gif\'" ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n            <audio ng-if="img.type===\'audio/mp3\'" controls ng-src="{{img.path}}"></audio>\n            <video ng-if="img.type===\'video/mp4\'" controls >\n              <source ng-src="{{img.path}}" type="video/mp4">\n            </video>\n          </div>\n        \t<div>\n            <ul>\n              <li><strong>Media Name:</strong> {{img.originalFilename}}</li>\n              <li><strong>Media Size:</strong> {{img.size}}</li>\n              <li><strong>Media type:</strong> {{img.type}}</li>\n              <li><strong>Date Uploaded:</strong> {{img.created_at}}</li>\n              <li><strong>Uploaded By:</strong> {{img.name}}</li>\n\n            </ul>\n\n            <button><a ng-href = "{{img.path}}" target="_blank">Click to Download!</a></button>\n        \t</div>\n        </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };
  // Start query the database for the table
  $scope.loading = true;
  $http.get('/api/media/').then(function (res) {
    console.log(res);
    $scope.loading = false;
    $scope.data = res.data;
    socket.syncUpdates('media', $scope.data);
  }, handleError);

  function handleError(error) {
    // error handler
    $scope.loading = false;
    if (error.status === 403) {
      Toast.show({
        type: 'error',
        text: 'Not authorised to make changes.'
      });
    } else {
      Toast.show({
        type: 'error',
        text: error.status
      });
    }
  }
  $scope.$watch('files', function () {
    $scope.upload($scope.files);
  });
  $scope.$watch('file', function () {
    if ($scope.file != null) {
      $scope.files = [$scope.file];
    }
  });
  $scope.log = '';

  $scope.upload = function (files) {
    if (files && files.length) {
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        if (!file.$error) {
          Upload.upload({
            url: 'api/media',
            data: {
              username: $scope.username,
              file: file
            }
          }).then(function (resp) {
            $timeout(function () {
              $scope.log = 'file: ' + resp.config.data.file.name + ', Response: ' + JSON.stringify(resp.data) + '\n' + $scope.log;
              $scope.result = resp.data;
            });
          }, function (response) {
            if (response.status > 0) {
              $scope.errorMsg = response.status + ': ' + response.data;
            }
          }, function (evt) {
            var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
            $scope.log = 'progress: ' + progressPercentage + '% ' + evt.config.data.file.name + '\n' + $scope.log;
            $scope.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));
          });
        }
      }
    }
  };
});
//# sourceMappingURL=media.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('media', {
    url: '/media',
    templateUrl: 'app/media/media.html',
    controller: 'MediaCtrl',
    authenticate: true
  });
});
//# sourceMappingURL=media.js.map

'use strict';

angular.module('mediaboxApp').controller('MediasCtrl', function ($scope, Upload, Media, Auth, $timeout, $http, socket, $mdDialog, Settings, Toast) {

  $scope.imageDetails = function (img) {
    $mdDialog.show({
      template: '\n    <md-dialog aria-label="Image Details Dialog"  ng-cloak>\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>Media Details</h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n  <md-dialog-content>\n    <div class="md-dialog-content">\n      <div layout="row" class="md-whiteframe-z2">\n        <div class="flexbox-container">\n        \t<div>\n            <img ng-src="{{img.path}}" draggable="false" alt="{{img.name}}" class="detail-image"/>\n          </div>\n        \t<div>\n            <ul>\n              <li><strong>Media Name:</strong> {{img.originalFilename}}</li>\n              <li><strong>Media Size:</strong> {{img.size}}</li>\n              <li><strong>Media type:</strong> {{img.type}}</li>\n              <li><strong>Media path:</strong> {{img.path}}</li>\n              <li><strong>Date Uploaded:</strong> {{img.created_at}}</li>\n              <li><strong>Uploaded By:</strong> {{img.uid}}</li>\n\n            </ul>\n        \t</div>\n        </div>\n      </div>\n  </md-dialog-content>\n  <md-dialog-actions layout="row">\n    <span flex></span>\n    <md-button ng-click="delete(img)" class="md-warn">\n     Delete Permanently\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n',
      controller: function controller($scope, Auth, Media, $mdDialog) {
        $scope.img = img;
        $scope.delete = function (img) {
          var confirm = $mdDialog.confirm().title('Would you like to delete the media permanently?').textContent('Media once deleted can not be undone.').ariaLabel('Delete Media').ok('Please do it!').cancel('Cancel');
          $mdDialog.show(confirm).then(function () {
            $http.delete('/api/media/' + img._id).then(function () {
              $mdDialog.hide();
            }, handleError);
          }, function () {
            $mdDialog.hide();
          });
        };
        $scope.hide = function () {
          $mdDialog.hide();
        };
        $scope.cancel = function () {
          $mdDialog.cancel();
        };
      }
    }).then(function (answer) {
      $scope.alert = 'You said the information was "' + answer + '".';
    }, function () {
      $scope.alert = 'You cancelled the dialog.';
    });
  };
  // Start query the database for the table
  $scope.loading = true;

  Media.pub.query(function (res) {
    console.log(res);
    $scope.loading = false;
    $scope.data = res;
    socket.syncUpdates('media', $scope.data);
  });

  function handleError(error) {
    // error handler
    $scope.loading = false;
    if (error.status === 403) {
      Toast.show({
        type: 'error',
        text: 'Not authorised to make changes.'
      });
    } else {
      Toast.show({
        type: 'error',
        text: error.status
      });
    }
  }
  $scope.$watch('files', function () {
    $scope.upload($scope.files);
  });
  $scope.$watch('file', function () {
    if ($scope.file != null) {
      $scope.files = [$scope.file];
    }
  });
  $scope.log = '';

  $scope.upload = function (files) {
    if (files && files.length) {
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        if (!file.$error) {
          Upload.upload({
            url: 'api/media',
            data: {
              username: $scope.username,
              file: file
            }
          }).then(function (resp) {
            $timeout(function () {
              $scope.log = 'file: ' + resp.config.data.file.name + ', Response: ' + JSON.stringify(resp.data) + '\n' + $scope.log;
              $scope.result = resp.data;
            });
          }, function (response) {
            if (response.status > 0) {
              $scope.errorMsg = response.status + ': ' + response.data;
            }
          }, function (evt) {
            var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
            $scope.log = 'progress: ' + progressPercentage + '% ' + evt.config.data.file.name + '\n' + $scope.log;
            $scope.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));
          });
        }
      }
    }
  };
});
//# sourceMappingURL=medias.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('medias', {
    url: '/medias',
    templateUrl: 'app/medias/medias.html',
    controller: 'MediasCtrl',
    authenticate: 'true'
  });
});
//# sourceMappingURL=medias.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var OrderController = function () {
        function OrderController(Cart, Auth, Order, Toast, Settings, $state, $stateParams, $loading) {
            _classCallCheck(this, OrderController);

            var vm = this;
            this.orderStatusLov = Order.status;
            this.Toast = Toast;
            this.Auth = Auth;
            this.Settings = Settings; // Used to get currency symbol
            this.$state = $state;
            this.options = {};
            this.payment = $stateParams;
            this.itemsGrid = [];

            if ($stateParams.id) // If payment was successful clear cart
                Cart.cart.clearItems();

            this.itemsGrid = [];

            $loading.start("orders");

            this.orders = Order.my.query({}, function (res) {
                var total = 0;
                for (var i = 0; i < res.length; i++) {
                    //     var subTotal = 0;
                    var item = res[i];
                    total += item.amount.total;
                    //console.log(total);
                    $loading.finish("orders");
                }
                $loading.finish("orders");
                res.total = total;
            });

            /***data table**/

            this.mainGridOptions = {
                dataSource: {

                    transport: {
                        read: function read(options) {
                            //options holds the grids current page and filter settings
                            Order.my.query({ sort: { created_at: -1 } }, function (res) {

                                for (var j = 0; j < res.length; j++) {
                                    var total = 0;
                                    var item = res[j];
                                    for (var i = 0; i < item.items.length; i++) {

                                        var p = item.items[i].price;
                                        var q = item.items[i].quantity;
                                        total += p * q;
                                    }

                                    res[j].total = total;
                                }

                                options.success(res);
                                //console.log(res);
                            });
                        }
                    },
                    pageSize: 10,
                    serverPaging: true,
                    serverSorting: true
                },
                toolbar: ['excel', 'pdf'],

                excel: {
                    allPages: true,
                    proxyURL: "//demos.telerik.com/kendo-ui/service/export",
                    fileName: 'Mediabox-campaigns.xlsx',
                    filterable: true
                },
                pdf: {
                    allPages: true,
                    avoidLinks: true,
                    paperSize: "A4",
                    margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
                    landscape: true,
                    repeatHeaders: true,
                    template: $("#page-template").html(),
                    scale: 0.8
                },
                sortable: true,
                pageable: true,
                editable: "popup",

                filterable: true,

                dataBound: function dataBound() {
                    this.expandRow(this.tbody.find("tr.k-master-row").first());
                },
                columns: [
                // { field: "orderNo", title: "Order Number" },
                { field: "created_at", title: "Order Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" }, { field: "status", title: "Status" }, { field: "payment.id", title: "Payment Reference" }, { field: "amount.total", title: "Total", format: "{0:c2}" }]
            };

            this.detailGridOptions = function (dataItem) {

                return {
                    dataSource: {
                        filter: { field: "orderNo", operator: "eq", value: dataItem.orderNo },
                        transport: {
                            read: function read(options) {
                                //options holds the grids current page and filter settings
                                var itemsGrid = [];
                                var q = {};
                                //q.where = { $and: [ { 'items.uid' : Auth.getCurrentUser().email }, { 'status':'Campaign Placed'} ] };
                                Order.my.query(function (res) {
                                    //console.log(res);


                                    var totalFinal = 0;
                                    var totalOrder = res.length;

                                    for (var j = 0; j < res.length; j++) {
                                        var total = 0;

                                        var item = res[j];
                                        for (var i = 0; i < item.items.length; i++) {

                                            var itemGridTemp = {
                                                orderNo: item.orderNo,
                                                puburl: item.items[i].url,
                                                id: item.items[i]._id,
                                                advertiser: item.items[i].advertiser,
                                                category: item.items[i].category,
                                                mrp: item.items[i].mrp,
                                                name: item.items[i].name,
                                                price: parseFloat(item.items[i].price),
                                                publisher: item.items[i].publisher,
                                                quantity: item.items[i].quantity,
                                                size: item.items[i].size,
                                                sku: item.items[i].sku,
                                                uid: item.items[i].uid
                                            };

                                            var p = item.items[i].price;
                                            var q = item.items[i].quantity;
                                            total += p * q;

                                            vm.itemsGrid.push(itemGridTemp);
                                        }

                                        res[j].total = total;
                                    }

                                    res.totalFinal = total;

                                    var data = [];
                                    //console.log(vm.itemsGrid);
                                    for (var i = 0; i < vm.itemsGrid.length; i++) {
                                        var item = vm.itemsGrid[i];
                                        if (item.orderNo == dataItem.orderNo) {
                                            //alert(item.campaignNo);
                                            data.push(item);
                                        }

                                        options.success(data);
                                        //console.log(data);

                                        vm.data = [];
                                    }

                                    vm.itemsGrid = [];
                                });
                            }
                        },
                        serverPaging: true,
                        serverSorting: true,
                        serverFiltering: true,
                        pageSize: 5,
                        filterable: true

                    },
                    scrollable: false,
                    sortable: true,

                    pageable: true,
                    columns: [{ field: "orderNo", title: "Order #", width: "50px" }, { field: "publisher", title: "Publisher", width: "50px" },
                    //{ field: "category", title:"Category", width: "100px" },
                    { field: "name", title: "Name", width: "100px" }, { field: "price", title: "Price", width: "50px", format: "{0:c2}" }, { field: "quantity", title: "Quantity", width: "50px" }]
                };
            };
        } //end constuctor

        _createClass(OrderController, [{
            key: "navigate",
            value: function navigate(params) {
                this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
            }
        }, {
            key: "getTotal",
            value: function getTotal(item) {
                ////console.log(item);
                var total = 0;

                for (var i = 0; i < item.items.length; i++) {

                    // items[i].total = 0;

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                    // var x.sub.push(total);
                }
                ////console.log(total);

                return total;
            }
        }, {
            key: "changeStatus",
            value: function changeStatus(order) {
                var vm = this;
                var vm = this;
                this.Order.update({ id: order._id }, order).$promise.then(function (res) {}, function (error) {
                    // error handler
                    if (error.data.errors) {
                        vm.Toast.show({
                            type: 'error',
                            text: error.data.errors.status.message
                        });
                    } else {
                        vm.Toast.show({
                            type: 'success',
                            text: error.statusText
                        });
                    }
                });
            }
        }]);

        return OrderController;
    }();

    angular.module('mediaboxApp').controller('OrderController', OrderController);
})();
//# sourceMappingURL=order.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('order', {
    url: '/order?id&msg',
    templateUrl: 'app/order/order.html',
    controller: 'OrderController as order',
    authenticate: true
  });
});
//# sourceMappingURL=order.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var OrdersController = function () {
        function OrdersController(Cart, Auth, Order, Toast, Settings, $state, $stateParams, $loading) {
            _classCallCheck(this, OrdersController);

            var vm = this;

            this.Order = Order;
            this.orderStatusLov = Order.status;
            this.Toast = Toast;
            this.Auth = Auth;
            this.Settings = Settings; // Used to get currency symbol
            this.$state = $state;
            this.options = {};
            this.itemsGrid = [];

            this.tab = 1;
            this.tabMenu = 1;

            this.setTab = function (tabId) {
                this.tab = tabId;
            };

            this.isSet = function (tabId) {
                return this.tab === tabId;
            };

            this.setMenuTab = function (newTab) {
                //console.log(newTab);
                this.tabMenu = newTab;
            };

            this.isSetMenu = function (tabNum) {
                return this.tabMenu === tabNum;
            };

            $loading.start("orders");

            this.orders = Order.pub.query({}, function (res) {
                var total = 0;
                for (var i = 0; i < res.length; i++) {
                    //     var subTotal = 0;
                    var item = res[i];
                    for (var j = 0; j < item.items.length; j++) {

                        // items[i].total = 0;

                        var p = item.items[j].price;
                        var q = item.items[j].quantity;
                        total += p * q;
                        // var x.sub.push(total);
                    }
                    // res.total = total;
                    ////console.log(total);
                    $loading.finish("orders");
                }
                $loading.finish("orders");
                res.total = total;
            });

            /***data table**/

            this.mainGridOptions = {
                dataSource: {

                    transport: {
                        read: function read(options) {
                            //options holds the grids current page and filter settings
                            Order.pub.query(function (res) {

                                for (var j = 0; j < res.length; j++) {
                                    var total = 0;
                                    var item = res[j];
                                    for (var i = 0; i < item.items.length; i++) {

                                        var p = item.items[i].price;
                                        var q = item.items[i].quantity;
                                        total += p * q;
                                    }

                                    res[j].total = total;
                                }

                                options.success(res);
                            });
                        }
                    },
                    pageSize: 10,
                    serverPaging: true,
                    serverSorting: true
                },
                toolbar: ['excel', 'pdf'],

                excel: {
                    allPages: true,
                    proxyURL: "//demos.telerik.com/kendo-ui/service/export",
                    fileName: 'Mediabox-Orders.xlsx',
                    filterable: true
                },
                pdf: {
                    allPages: true,
                    avoidLinks: true,
                    paperSize: "A4",
                    margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
                    landscape: true,
                    repeatHeaders: true,
                    template: $("#page-template").html(),
                    scale: 0.8
                },
                sortable: true,
                pageable: true,

                filterable: true,

                dataBound: function dataBound() {
                    this.expandRow(this.tbody.find("tr.k-master-row").first());
                },
                columns: [{ field: "created_at", title: "Order Date", type: 'datetime', template: "#=  (created_at == null)? '' : kendo.toString(kendo.parseDate(created_at, 'yyyy-MM-dd'), 'MM/dd/yy') #" }, { field: "status", title: "Status" }, { field: "payment.id", title: "Payment Reference" }, { field: "total", title: "Total", format: "{0:c2}" }]
            };

            this.detailGridOptions = function (dataItem) {

                return {
                    dataSource: {
                        transport: {
                            read: function read(options) {
                                //options holds the grids current page and filter settings
                                var itemsGrid = [];
                                Order.pub.query({}, function (res) {

                                    var total = 0;
                                    var totalOrder = res.length;

                                    // //console.log(res.OrderName);
                                    // for(var i=0;i<res.length;i++){
                                    //     var subTotal = 0;
                                    for (var j = 0; j < res.length; j++) {
                                        total = 0;
                                        // //console.log();
                                        // subTotal += res[i].shipping.charge;
                                        var item = res[j];
                                        ////console.log(dataItem.orderNo);


                                        //s //console.log(item.orderNo);
                                        //itemsGrid.push(item.items);
                                        // var x = item.items
                                        // var x.sub = [];

                                        for (var i = 0; i < item.items.length; i++) {

                                            var itemGridTemp = {
                                                orderNo: item.orderNo,
                                                id: item._id,
                                                advertiser: item.items[i].advertiser,
                                                category: item.items[i].category,
                                                mrp: item.items[i].mrp,
                                                name: item.items[i].name,
                                                price: parseFloat(item.items[i].price),
                                                publisher: item.items[i].publisher,
                                                quantity: item.items[i].quantity,
                                                size: item.items[i].size,
                                                sku: item.items[i].sku,
                                                uid: item.items[i].uid
                                            };

                                            // items[i].total = 0;

                                            var p = item.items[i].price;
                                            var q = item.items[i].quantity;
                                            total += p * q;
                                            res.totalSpend = total;
                                            // var x.sub.push(total);

                                            vm.itemsGrid.push(itemGridTemp);
                                        }
                                        ////console.log(total);
                                    }
                                    res.total = total;
                                    res.totalOrder = totalOrder;

                                    var data = [];
                                    ////console.log(vm.itemsGrid);
                                    for (var i = 0; i < vm.itemsGrid.length; i++) {
                                        var item = vm.itemsGrid[i];
                                        if (item.orderNo == dataItem.orderNo) {
                                            //alert(item.campaignNo);
                                            data.push(item);
                                        }

                                        options.success(data);

                                        vm.data = [];
                                    }

                                    vm.itemsGrid = [];
                                });
                            }
                        },
                        serverPaging: true,
                        serverSorting: true,
                        serverFiltering: true,
                        pageSize: 5,
                        filter: { field: "orderNo", operator: "eq", value: dataItem.orderNo }

                    },
                    scrollable: false,
                    sortable: true,

                    pageable: true,
                    columns: [{ field: "orderNo", title: "Order #", width: "50px" }, { field: "publisher", title: "Product/Site", width: "100px" }, { field: "name", title: "Name", width: "100px" }, { field: "price", title: "Price", format: "{0:c2}", width: "50px" }, { field: "quantity", title: "Quantity", width: "50px" }]
                };
            };
        } //end constuctor

        _createClass(OrdersController, [{
            key: "navigate",
            value: function navigate(params) {
                this.$state.go('single-product', { id: params.sku, slug: params.description }, { reload: false });
            }
        }, {
            key: "getTotal",
            value: function getTotal(item) {
                // //console.log(item);
                var total = 0;

                for (var i = 0; i < item.items.length; i++) {

                    // items[i].total = 0;

                    var p = item.items[i].price;
                    var q = item.items[i].quantity;
                    total += p * q;
                    // var x.sub.push(total);
                }
                // //console.log(total);

                return total;
            }
        }, {
            key: "changeStatus",
            value: function changeStatus(order) {

                ////console.log(order);
                var vm = this;
                var vm = this;
                this.Order.update({ id: order._id }, order).$promise.then(function (res) {}, function (error) {
                    // error handler
                    if (error.data.errors) {
                        vm.Toast.show({
                            type: 'error',
                            text: error.data.errors.status.message
                        });
                    } else {
                        vm.Toast.show({
                            type: 'success',
                            text: error.statusText
                        });
                    }
                });
            }
        }]);

        return OrdersController;
    }();

    angular.module('mediaboxApp').controller('OrdersController', OrdersController);
})();
//# sourceMappingURL=orders.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('orders', {
    url: '/orders',
    templateUrl: 'app/orders/orders.html',
    controller: 'OrdersController as orders',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=orders.js.map

'use strict';

angular.module('mediaboxApp').controller('PaymentMethodCtrl', function ($scope) {
  $scope.options = [{ field: 'name', dataType: 'select', options: ['PayPal', 'COD', 'Stripe'] }, { field: 'email' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=payment-method.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('payment-method', {
    url: '/payment-method',
    templateUrl: 'app/payment-method/payment-method.html',
    controller: 'PaymentMethodCtrl',
    authenticate: 'admin'
  });
});
//# sourceMappingURL=payment-method.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var PaymentController = function PaymentController() {
    _classCallCheck(this, PaymentController);
  };

  angular.module('mediaboxApp').controller('PaymentController', PaymentController);
})();
//# sourceMappingURL=payment.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('payment-success', {
    url: '/payment/success',
    templateUrl: 'app/payment/success.html',
    controller: 'PaymentController as payment',
    authenticate: true
  }).state('payment-cancel', {
    url: '/payment/cancel',
    templateUrl: 'app/payment/cancel.html',
    controller: 'PaymentController as payment',
    authenticate: true
  }).state('payment-error', {
    url: '/payment/error',
    templateUrl: 'app/payment/error.html',
    controller: 'PaymentController as payment',
    authenticate: true
  });
});
//# sourceMappingURL=payment.js.map

'use strict';

angular.module('mediaboxApp').controller('ProductEfficiencyController', ['$q', 'EmployeeList', 'EmployeeSales', 'EmployeeTeamSales', 'EmployeeAverageSales', 'EmployeeQuarterSales', function ($q, EmployeeList, EmployeeSales, EmployeeTeamSales, EmployeeAverageSales, EmployeeQuarterSales) {

        this.startDate = new Date(2017, 0, 1);

        this.endDate = new Date(2017, 11, 1);

        this.currentDate = new Date(2017, 5, 8);

        this.currentEmployee = null;

        var employeeTeamSales = EmployeeTeamSales.query();

        var employeeAverageSales = EmployeeAverageSales.query();

        var employeeQuarterSales = EmployeeQuarterSales.query();

        var employeeList = EmployeeList.query();

        var employeeSales = EmployeeSales.query();

        //console.log(employeeSales);

        this.employeeListDataSource = new kendo.data.DataSource();

        this.employeeTeamSalesDataSource = new kendo.data.DataSource();

        this.employeeQuarterSalesDataSource = new kendo.data.DataSource();

        this.employeeAverageSalesDataSource = new kendo.data.DataSource({
                aggregate: [{
                        field: 'EmployeeSales',
                        aggregate: 'average'
                }]
        });

        this.employeeSalesDataSource = new kendo.data.SchedulerDataSource();

        this.changeCurrentEmployee = function (employee) {

                //console.log(employee);
                this.currentEmployee = employee;

                var currentEmployeeQuarterSales = employeeQuarterSales.filter(function (sale) {
                        return sale.EmployeeID == employee.EmployeeID;
                })[0].Sales;

                //console.log(currentEmployeeQuarterSales);

                this.currentEmployeeQuarterSales = currentEmployeeQuarterSales[0].Current;

                this.employeeQuarterSalesDataSource.data(currentEmployeeQuarterSales);

                var currentEmployeeTeamSales = employeeTeamSales.filter(function (sale) {
                        return sale.EmployeeID == employee.EmployeeID;
                })[0].Sales;

                this.employeeTeamSalesDataSource.data(currentEmployeeTeamSales);

                var currentEmployeeAverageSales = employeeAverageSales.filter(function (sale) {
                        return sale.EmployeeID == employee.EmployeeID;
                });

                this.employeeAverageSalesDataSource.data(currentEmployeeAverageSales);

                var aggregates = this.employeeAverageSalesDataSource.aggregates();

                this.currentEmployeeAverageSalesNumber = aggregates.EmployeeSales ? aggregates.EmployeeSales.average : 0;

                var currentEmployeeSales = employeeSales.filter(function (sale) {
                        return sale.EmployeeID == employee.EmployeeID;
                }).map(function (sale) {
                        return {
                                description: sale.Description,
                                start: kendo.parseDate(sale.Start),
                                title: sale.Title,
                                end: kendo.parseDate(sale.End)
                        };
                });

                this.employeeSalesDataSource.data(currentEmployeeSales);
        };

        $q.all([employeeQuarterSales.$promise, employeeList.$promise, employeeAverageSales.$promise, employeeTeamSales.$promise, employeeSales.$promise]).then(function () {
                this.employeeListDataSource.data(employeeList);
                this.changeCurrentEmployee(employeeList[0]);
        }.bind(this));
}]);
//# sourceMappingURL=product-efficiency.controller.js.map

"use strict";
//# sourceMappingURL=product-efficiency.js.map

'use strict';

(function () {

    function ProductsDetailController($http, $state, Toast, Inventory, $stateParams, ToggleComponent, Settings, $mdDialog, socket, $scope) {
        var vm = this;
        this.Inventory = Inventory;
        vm.myDate = new Date();
        vm.header = 'product';

        vm.product = {};
        vm.options = {};
        vm.product.variants = [];
        vm.product.variants.slots = [];
        vm.product.newVariant = {};
        vm.product.newVariant.slots = [];
        vm.product.features = [];
        vm.product.stats = [];
        vm.product.keyFeatures = [];
        vm.unsavedProduct = $stateParams.products;
        vm.product = angular.copy($stateParams.products);
        vm.options.categories = angular.copy($stateParams.categories);

        $scope.$watch('vm.product.category', function (newValue) {
            console.log(vm.product.category);
            if (typeof newValue != "string") {
                console.log(vm.product.category);
            }
        });

        if (vm.product.category == '582597286bf2000d54ac92fa' || vm.product.category == '5825972f6bf2000d54ac92fb' || vm.product.category == '582597976bf2000d54ac9304') {
            vm.options.brands = $stateParams.brandtvs;
        } else if (vm.product.category == '582597646bf2000d54ac9300' || vm.product.category == '5825976d6bf2000d54ac9301') {
            vm.options.brands = $stateParams.brandmgs;
        } else {
            vm.options.brands = angular.copy($stateParams.brands);
        }

        vm.options.brandmgs = angular.copy($stateParams.brandmgs);
        vm.options.brandtvs = angular.copy($stateParams.brandtvs);
        console.log($stateParams);

        vm.options.variants = angular.copy($stateParams.variants);
        vm.options.features = angular.copy($stateParams.features);
        vm.options.statistics = angular.copy($stateParams.statistics);
        vm.options.keyfeatures = angular.copy($stateParams.keyfeatures);

        

        // The whole category hierarchy
        vm.loading = true;
        $http.get('/api/categories/all').then(function (res) {
            vm.loading = false;
            vm.options.categories = res.data;
        }, handleError);

        vm.changeCategory = function (cat) {

            console.log(vm.product.category);
            if (vm.product.category == '582597286bf2000d54ac92fa' || vm.product.category == '5825972f6bf2000d54ac92fb' || vm.product.category == '582597976bf2000d54ac9304') {
                vm.options.brands = $stateParams.brandtvs;
            } else if (vm.product.category == '582597646bf2000d54ac9300' || vm.product.category == '5825976d6bf2000d54ac9301') {
                vm.options.brands = $stateParams.brandmgs;
            } else {
                vm.options.brands = angular.copy($stateParams.brands);
            }
        };

        vm.save = function (product) {

            console.log(product);

            // refuse to work with invalid data
            if (!product) {
                Toast.show({
                    type: 'error',
                    text: 'No product defined.'
                });
                return;
            }
            if ('newVariant' in product) {

                // Configure dates
                var today = new Date();
                var dd = today.getDate();
                var mm = today.getMonth() + 1; //January is 0!
                var yyyy = today.getFullYear();

                if (dd < 10) {
                    dd = '0' + dd;
                }

                if (mm < 10) {
                    mm = '0' + mm;
                }
                // Create date and slots array
                var years = [{ yyyy: yyyy }, { yyyy: yyyy + 1 }, { yyyy: yyyy + 2 }, { yyyy: yyyy + 3 }, { yyyy: yyyy + 4 }];
                var months = [{ mm: 0 }, { mm: 1 }, { mm: 2 }, { mm: 3 }, { mm: 4 }, { mm: 5 }, { mm: 6 }, { mm: 7 }, { mm: 8 }, { mm: 9 }, { mm: 10 }, { mm: 11 }];

                var vm = this;
                var a = [];
                _.each(years, function (d) {
                    var k = d.yyyy;

                    var w = [];
                    _.each(months, function (m) {
                        //console.log(m);
                        //
                        if (product.newVariant.model == 'Weekly' || product.newVariant.model == 'BiWeekly') {

                            var results = vm.getWeeksInMonth(m.mm, k);

                            _.each(results, function (res) {
                                a.push({ productid: product._id, pname: product.name, vname: product.newVariant.name, year: k, startDate: new Date(k, m.mm, res.start), endDate: new Date(k, m.mm, res.end), available: product.newVariant.stockLevel, active: true });
                            });
                        } else {
                            var startDate = new Date(k, m.mm, 1);
                            var endDate = new Date(k, m.mm + 1, 0);
                            a.push({ productid: product._id, pname: product.name, vname: product.newVariant.name, year: k, startDate: startDate, endDate: endDate, available: product.newVariant.stockLevel, active: true });
                        }
                    });

                    // var week = [];
                    // _.each(months,function(m){
                    //   //console.log(m);
                    //   var results = vm.getWeeksInMonth( m.mm ,k);         

                    //   _.each(results,function(res){
                    //      week.push({startDate:new Date(k, m.mm, res.start),endDate:new Date(k, m.mm, res.end)});

                    //   })        

                    // })

                    // console.log(week);
                    var v = [];
                    _.each(w, function (r) {
                        v.push({ slot: r, available: product.newVariant.stockLevel, active: true });
                    });
                    a.push({ k: k, v: v });

                    //console.log(a);
                });

                vm.product.variants.push(product.newVariant);

                this.Inventory.save(a, function (res) {
                    console.log(res);
                });
            }

            $http.put('/api/products/' + product._id, product).then(success).catch(err);

            function success(res) {
		
                 Toast.show({
                    type: 'success',
                    text: 'Product has been updated'
                });
            }

            function err(err) {
                console.log(err);
                if (product && err) {}

                Toast.show({
                    type: 'warn',
                    text: 'Error while updating database'
                });
            }
        };

        vm.mediaLibrary = function (index) {
            $mdDialog.show({
                template: '<md-dialog aria-label="Media Library" ng-cloak flex="95">\n        <md-toolbar class="md-warn">\n          <div class="md-toolbar-tools">\n            <h2>Media Library</h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="cancel()">\n              <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>\n            </md-button>\n          </div>\n        </md-toolbar>\n\n        <md-dialog-content>\n            <div class="md-dialog-content"  class="md-whiteframe-z2">\n                <md-grid-list class="media-list" md-cols-xs ="3" md-cols-sm="4" md-cols-md="5" md-cols-lg="7" md-cols-gt-lg="10" md-row-height-gt-md="1:1" md-row-height="4:3" md-gutter="12px" md-gutter-gt-sm="8px" layout="row" layout-align="center center">\n                  <md-grid-tile ng-repeat="i in media" class="md-whiteframe-z2" ng-click="ok(i.path)">\n                    <div class="thumbnail">\n                        <img ng-src="{{i.path}}" draggable="false" alt="{{i.name}}">\n                    </div>\n                    <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\n                  </md-grid-tile>\n                </md-grid-list>\n          </div>\n        </md-dialog-content>\n        <md-dialog-actions layout="row">\n          <span flex></span>\n          <md-button ng-click="addNewImage()" class="md-warn md-raised">\n           Add new Image\n          </md-button>\n        </md-dialog-actions>\n      </md-dialog>\n',
                controller: function controller($scope, $mdDialog, $http, socket, $state) {
                    // Start query the database for the table
                    var vm = this;
                    $scope.loading = true;
                    $http.get('/api/media/').then(function (res) {
                        $scope.loading = false;
                        $scope.media = res.data;
                        socket.syncUpdates('media', $scope.data);
                    }, handleError);

                    function handleError(error) {
                        // error handler
                        $scope.loading = false;
                        if (error.status === 403) {
                            Toast.show({
                                type: 'error',
                                text: 'Not authorised to make changes.'
                            });
                        } else {
                            Toast.show({
                                type: 'error',
                                text: error.status
                            });
                        }
                    }
                    $scope.ok = function (path) {
                        $mdDialog.hide(path);
                    };
                    $scope.hide = function () {
                        $mdDialog.hide();
                    };
                    $scope.cancel = function () {
                        $mdDialog.cancel();
                    };
                    $scope.addNewImage = function () {
                        var vm = this;
                        $state.go('media');
                        vm.save(vm.product);
                        $mdDialog.hide();
                    };
                }

            }).then(function (answer) {
                if (index === 1000000) vm.product.variants.push({ size: 'x', image: answer });else vm.product.variants[index].image = answer;
            }, function () {});
        };

        function goBack() {
            ToggleComponent('products.detailView').close();
            $state.go('^', {}, { location: false });
        }
        vm.goBack = goBack;

        vm.deleteFeature = function (index, product) {
            vm.product.features.splice(index, 1);
            vm.save(product);
        };

        vm.deleteKeyFeature = function (index, product) {
            vm.product.keyFeatures.splice(index, 1);
            vm.save(product);
        };

        vm.deleteStat = function (index, product) {
            vm.product.stats.splice(index, 1);
            vm.save(product);
        };

        vm.deleteKF = function (index, product) {
            vm.product.keyFeatures.splice(index, 1);
            vm.save(product);
        };

        vm.deleteVariants = function (index, product) {
            vm.product.variants.splice(index, 1);
            vm.save(product);
        };

        vm.getWeeksInMonth = function (month, year) {
            var weeks = [],
                firstDate = new Date(year, month, 1),
                lastDate = new Date(year, month + 1, 0),
                numDays = lastDate.getDate();

            var start = 1;
            var end = 7 - firstDate.getDay();
            while (start <= numDays) {
                weeks.push({ start: start, end: end });
                start = end + 1;
                end = end + 7;
                if (end > numDays) end = numDays;
            }

            //console.log(weeks);
            return weeks;
        };

        function handleError(error) {
            // error handler
            vm.loading = false;
            if (error.status === 403) {
                Toast.show({
                    type: 'error',
                    text: 'Not authorised to make changes.'
                });
            } else {
                Toast.show({
                    type: 'error',
                    text: error.status
                });
            }
        }
    }

    angular.module('mediaboxApp').controller('ProductsDetailController', ProductsDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function ProductsListController($scope, $http, socket, $state, $mdDialog, $stateParams, Modal, Toast, Settings) {
    this.cols = [{ field: 'image', heading: 'image' }, { field: 'name', heading: 'name' }, { field: 'active', heading: 'active' }];
    this.header = 'Product';
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;

    // the selected item id
    var _id = null;
    var originatorEv;

    this.sort.predicate = 'name';
    this.sort.reverse = false;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };

    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'product.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, "product.csv");
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"
        });
        saveAs(blob, "product.xls");
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, 'product.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (product) {
      return _id === product._id;
    };

    // Start query the database for products
    vm.loading = true;
    $http.get('/api/products/products').then(function (res) {
      vm.loading = false;
      vm.data = res.data;
      socket.syncUpdates('product', vm.data);
    }, handleError);

    // Start query the database for brands
    vm.loading = true;
    $http.get('/api/brands').then(function (res) {
      vm.loading = false;
      vm.brands = res.data;
      socket.syncUpdates('brand', vm.brands);
    }, handleError);

    $http.get('/api/brandmgs').then(function (res) {
      vm.loading = false;
      vm.brandmgs = res.data;
      socket.syncUpdates('brandmg', vm.brandmgs);
    }, handleError);

    $http.get('/api/brandtvs').then(function (res) {
      vm.loading = false;
      vm.brandtvs = res.data;
      socket.syncUpdates('brandtv', vm.brandtvs);
    }, handleError);

    // Start query the database for categories
    vm.loading = true;
    $http.get('/api/categories').then(function (res) {
      vm.loading = false;
      vm.categories = res.data;
      socket.syncUpdates('category', vm.categories);
    }, handleError);

    // Start query the database for features
    vm.loading = true;
    $http.get('/api/features').then(function (res) {
      vm.loading = false;
      vm.features = res.data;
      socket.syncUpdates('feature', vm.features);
    }, handleError);
    // Start query the database for features
    vm.loading = true;
    $http.get('/api/keyfeatures').then(function (res) {
      vm.loading = false;
      vm.keyfeatures = res.data;
      socket.syncUpdates('feature', vm.features);
    }, handleError);

    vm.loading = true;
    $http.get('api/statistics').then(function (res) {
      vm.loading = false;
      vm.statistics = res.data;
      socket.syncUpdates('statistic', vm.statistics);
    }, handleError);

    this.changeStatus = function (x) {
      $http.put('/api/products/' + x._id, { active: x.active }).then(function () {}, handleError);
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to delete the product completely?').textContent('All its details will be deleted as well').ariaLabel('Confirm delete product').ok('Please do it!').cancel('No. keep');

      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/products/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 403) {
        Toast.show({
          type: 'error',
          text: 'Not authorised to make changes.'
        });
      } else {
        Toast.show({
          type: 'error',
          text: error.status
        });
      }
    }

    $scope.$on('$destroy', function () {
      socket.unsyncUpdates('product');
    });

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('product-detail', { products: item, brands: vm.brands, brandmgs: vm.brandmgs, brandtvs: vm.brandtvs, categories: vm.categories, features: vm.features, keyfeatures: vm.keyfeatures, statistics: vm.statistics }, { location: false });
    };

    this.gotoDetail = function (params) {
      $state.go('single-product', { id: params._id, slug: params.slug }, { reload: false });
    };
  }

  angular.module('mediaboxApp').controller('ProductsListController', ProductsListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function ProductsMainController(Modal, $stateParams) {
    var options = { api: 'product' };
    var cols = [{ field: 'sku', heading: 'SKU' }, { field: 'name', heading: 'Name' }, { field: 'description', heading: 'Description', dataType: 'textarea' }];
    this.create = function () {
      Modal.show(cols, options);
    };
  }

  angular.module('mediaboxApp').controller('ProductsMainController', ProductsMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

angular.module('mediaboxApp').controller('ProductCtrl', function ($scope) {
  $scope.summary = [{ field: 'name' }, { field: 'category' }, { field: 'active' }];
  $scope.details = [{ field: 'name' }, { field: 'category' }, { field: 'brand' }, { field: 'active' }];
});
//# sourceMappingURL=product.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('product', {
    url: '/product',
    params: { options: null, columns: null },
    views: {
      '': {
        templateUrl: 'app/product/main.html',
        controller: 'ProductsMainController as main'
      },
      'content@product': {
        url: '/content',
        templateUrl: 'app/product/list.html',
        controller: 'ProductsListController as list'
      }
    },
    authenticate: 'manager'
  }).state('product-detail', {
    url: '/product-detail/:id',
    onEnter: onEnterUserListDetail, // To open right sidebar
    params: { products: null, categories: null, brands: null, brandmgs: null, brandtvs: null, features: null, keyfeatures: null, statistics: null },
    parent: 'product',
    views: {
      '': {
        templateUrl: 'app/product/main.html'
      },
      'detail': {
        templateUrl: 'app/product/detail.html',
        controller: 'ProductsDetailController as detail'
      }
    },
    authenticate: 'manager'
  }).state('products-create', {
    url: '/products-create',
    parent: 'products',
    params: { data: null },
    views: {
      '': {}
    },
    authenticate: 'manager'
  });
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);

    function showDetails() {
      ToggleComponent('products.detailView').open();
    }
  }
});
//# sourceMappingURL=product.js.map

'use strict';

angular.module('mediaboxApp').controller('ProductsOrdersController', ['$q', 'Orders', 'OrderInformation', 'ProductDetails', 'EmployeeListValues', 'ProductSales', function ($q, Orders, OrderInformation, ProductDetails, ProductSales, EmployeeListValues) {

    var employees = EmployeeListValues.query();

    var shippers = [{ value: 1, text: "Speedy Express" }, { value: 2, text: "United Package" }, { value: 3, text: "Federal Shipping" }];

    this.ordersDataSource = new kendo.data.DataSource({
        pageSize: 20
    });

    this.orders = Orders.query();
    this.orderDetails = OrderInformation.query();

    //console.log(this.orderDetails);

    this.productDetails = ProductDetails.query();

    this.productSales = ProductSales.query();

    $q.all([this.orders.$promise, this.orderDetails.$promise, this.productDetails.$promise, this.productSales.$promise]).then(function () {
        this.orders.forEach(function (order) {
            order.OrderDate = kendo.parseDate(order.OrderDate);
        });
        this.ordersDataSource.data(this.orders);

        this.productsColumns = [{
            field: "ProductID",
            title: "PRODUCT NAME",
            values: this.productDetails.map(function (product) {
                return {
                    value: product.ProductID,
                    text: product.ProductName
                };
            })
        }, { field: "UnitPrice", title: "UNIT PRICE", format: "{0:c}", width: 220 }, { field: "Quantity", title: "QUANTITY", width: 220 }, { field: "Discount", title: "DISCOUNT", format: "{0:p}", width: 200, footerTemplate: "Grand total:" }, { field: "Total", title: "TOTAL", format: "{0:c}", footerTemplate: "<span name='sum'>#=kendo.toString(sum, 'c')#</span>", width: 120 }];
    }.bind(this));

    this.product = function (productId) {
        return this.productDetails.filter(function (product) {
            return product.ProductID === productId;
        })[0];
    };

    var productSalesDataSources = {};

    this.productSalesDataSource = function (productId) {
        var productSalesDataSource = productSalesDataSources[productId];

        if (!productSalesDataSource) {
            productSalesDataSource = new kendo.data.DataSource({
                data: this.productSales.filter(function (product) {
                    return product.ProductID = productId;
                })[0].ProductSales
            });
            productSalesDataSources[productId] = productSalesDataSource;
        }

        return productSalesDataSource;
    };

    var productDataSources = {};

    this.productDataSource = function (orderId) {
        var productDataSource = productDataSources[orderId];

        if (!productDataSource) {
            productDataSource = new kendo.data.DataSource({
                data: this.orderDetails.filter(function (product) {
                    return product.OrderID === orderId;
                }).map(function (product) {
                    var orderDetails = product.OrderDetails[0];
                    var sum = orderDetails.UnitPrice * orderDetails.Quantity;

                    orderDetails.Total = sum - sum * orderDetails.Discount;

                    return orderDetails;
                }),
                aggregate: [{ field: "Total", aggregate: "sum" }]
            });
            productDataSources[orderId] = productDataSource;
        }

        return productDataSource;
    };

    this.ordersColumns = [{ field: "OrderID", title: "ORDER ID" }, { field: "OrderDate", title: "ORDER DATE", format: "{0: yyyy-MM-dd}", width: 150 }, { field: "EmployeeID", title: "PRODUCT/SITE" }, { field: "CustomerID", title: "CUSTOMER" }, { field: "ShipCountry", title: "COUNTRY" }];
}]);
//# sourceMappingURL=products-orders.controller.js.map

"use strict";
//# sourceMappingURL=products-orders.js.map

'use strict';

angular.module('mediaboxApp').controller('RegionalSalesController', ['$q', 'Customers', 'CountryCustomers', 'OrderDetails', 'TopSellingProducts', 'scale', 'OrdersSum', function ($q, Customers, CountryCustomers, OrderDetails, TopSellingProducts, scale, OrdersSum) {
    this.selectedCountry = 'Zimbabwe';
    var sumAll = 0;

    this.startDate = new Date(2011, 0, 1);

    this.endDate = new Date(2017, 11, 1);

    this.customers = Customers.query();

    this.ordersTotal = OrdersSum.query(function (result) {
        console.log(result[0].sum);
        sumAll = result[0].sum;
    });

    this.countryCustomers = CountryCustomers.query();

    ////console.log(this.customers);

    this.marketDataSource = new kendo.data.DataSource();

    this.revenueDataSource = new kendo.data.DataSource();

    this.ordersDataSource = new kendo.data.DataSource();

    this.customersDataSource = new kendo.data.DataSource();

    this.topSellingProductsDataSource = new kendo.data.DataSource({ group: "productName" });

    this.orderDetails = OrderDetails.query();

    this.topSellingProducts = TopSellingProducts.query();

    //console.log(this.topSellingProducts);

    this.refresh = function () {
        this.currentCustomers = this.customersForCountry();
        this.currentOrders = this.ordersForCountry();
        this.market = this.marketShare();
        var percentage = 0;
        var revenue = 0;
        if (this.market.length > 1) {
            percentage = this.market[1].sales / this.market[0].sales;
            revenue = this.market[1].sales;
        }
        this.percentage = kendo.toString(percentage, "p2");
        this.revenue = kendo.toString(revenue, "c2");
        this.marketDataSource.data(this.market);
        var revenueData = this.ordersForCountry().map(function (order) {
            return {
                date: order.orderDate,
                value: order.price
            };
        });

        this.revenueDataSource.data(revenueData);

        var ordersData = this.ordersForCountry().map(function (order) {
            return {
                date: order.orderDate,
                value: 1
            };
        });

        this.ordersDataSource.data(ordersData);

        var customersData = this.countryCustomers.filter(function (customer) {
            var date = kendo.parseDate(customer.Date);
            return customer.Country === this.selectedCountry && date > this.startDate && date < this.endDate;
        }.bind(this)).map(function (customer) {
            return {
                date: customer.Date,
                value: customer.Value
            };
        });

        this.customersDataSource.data(customersData);

        this.currentTopSellingProducts = this.topSellingProducts.filter(function (product) {
            var date = kendo.parseDate(product.Date);
            return product.Country === this.selectedCountry && date > this.startDate && date < this.endDate;
        }.bind(this)).map(function (product) {
            return {
                productName: product.ProductName,
                date: product.Date,
                quantity: product.Quantity
            };
        });

        this.topSellingProductsDataSource.data(this.currentTopSellingProducts);
    };

    $q.all([this.customers.$promise, this.countryCustomers.$promise, this.orderDetails.$promise, this.topSellingProducts.$promise]).then(this.refresh.bind(this));

    this.customersForCountry = function () {
        return this.customers.filter(function (customer) {
            return customer.Country === this.selectedCountry;
        }.bind(this)).map(function (customer) {
            return customer.CompanyName;
        });
    };

    this.ordersForCountry = function () {
        return this.orderDetails.filter(function (order) {
            var orderDate = kendo.parseDate(order.orderDate);

            return order.country === this.selectedCountry && orderDate > this.startDate && orderDate < this.endDate;
        }.bind(this));
    };

    this.marketShare = function () {
        var sum = this.currentOrders.reduce(function (total, order) {
            return total + order.price;
        }, 0);

        var market = [{ country: "All", sales: sumAll }];

        if (sum > 0) {
            market.push({ country: this.selectedCountry, sales: sum });
        }

        return market;
    };

    this.mapLayers = [{
        style: {
            fill: {
                color: "#1996E4"
            },
            stroke: {
                color: "#FFFFFF"
            }
        },
        type: "shape",
        dataSource: {
            type: "geojson",
            transport: {
                read: {
                    dataType: "json",
                    url: "../content/dataviz/map/countries-sales.geo.json"
                }
            }
        }
    }];

    this.shapeCreated = function (e) {
        var color = scale(e.shape.dataItem.properties.sales).hex();
        e.shape.fill(color);
    };

    this.shapeMouseEnter = function (e) {
        e.shape.options.set("fill.color", "#0c669f");
    };

    this.shapeMouseLeave = function (e) {
        if (!e.shape.dataItem.properties.selected) {
            var sales = e.shape.dataItem.properties.sales;
            var color = scale(sales).hex();
            e.shape.options.set("fill.color", color);
            e.shape.options.set("stroke.color", "white");
        }
    };

    this.selectedShape = null;

    this.shapeClick = function (e) {
        if (this.selectedShape) {
            var sales = this.selectedShape.dataItem.properties.sales;
            var color = scale(sales).hex();
            this.selectedShape.options.set("fill.color", color);
            this.selectedShape.options.set("stroke.color", "white");
            if (true) {
                this.selectedShape.dataItem.properties.selected;
            }
        }

        e.shape.options.set("fill.color", "#0c669f");
        e.shape.options.set("stroke.color", "black");
        e.shape.dataItem.properties.selected = true;
        this.selectedShape = e.shape;
        this.selectedCountry = this.selectedShape.dataItem.properties.name;
        this.refresh();
    }.bind(this);
}]);
//# sourceMappingURL=regional-sales.controller.js.map

"use strict";
//# sourceMappingURL=regional-sales.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var ReviewController = function ReviewController() {
        _classCallCheck(this, ReviewController);

        this.options = [{ field: 'pid', heading: 'Product ID' }, { field: 'pname', heading: 'Product Name' }, { field: 'reviewer' }, { field: 'email' }, { field: 'message' }, { field: 'rating', dataType: 'number' }, { field: 'created', dataType: 'date' }];
    };

    angular.module('mediaboxApp').controller('ReviewController', ReviewController);
})();
//# sourceMappingURL=review.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('review', {
    url: '/review',
    templateUrl: 'app/review/review.html',
    controller: 'ReviewController as review',
    authenticate: true
  });
});
//# sourceMappingURL=review.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var ReviewsController = function ReviewsController() {
        _classCallCheck(this, ReviewsController);

        this.options = [{ field: 'pid', heading: 'Product ID' }, { field: 'pname', heading: 'Product Name' }, { field: 'reviewer' }, { field: 'email' }, { field: 'message' }, { field: 'rating', dataType: 'number' }, { field: 'created', dataType: 'date' }, { field: 'active', dataType: 'boolean' }];
    };

    angular.module('mediaboxApp').controller('ReviewsController', ReviewsController);
})();
//# sourceMappingURL=reviews.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('reviews', {
    url: '/reviews',
    templateUrl: 'app/reviews/reviews.html',
    controller: 'ReviewsController as reviews',
    authenticate: true
  });
});
//# sourceMappingURL=reviews.js.map

'use strict';

(function () {
  angular.module('mediaboxApp').constant('Settings', {
    demo: false,
    country: {
      name: 'Zimbabwe',
      code: 'ZW' // must be 2 digit code from the list https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2 
    },
    handlingFee: '5',
    currency: {
      code: 'USD', // Paypal currency code *** Please choose from https://developer.paypal.com/docs/classic/api/currency_codes/
      shop_currency: 'USD',
      symbol: '$ ', // Currency symbol to be displayed through out the shop
      exchange_rate: '1' // Paypal currency code(USD) / Shop currency (INR) ***  exchange_rate should not be 0 else it will generate divided by 0 error
    },
    paymentStatus: ['Pending', 'Paid', 'created'], // On success from Paypal it stores as created
    orderStatus: ['Payment Pending', 'Order Placed', 'Order Accepted', 'Order Executed', 'Shipped', 'Delivered', 'Cancelled', 'Not in Stock'],
    campaignStatus: ['Creative Pending', 'Campaign Placed', 'Campaign Ready', 'Campaign Accepted', 'Campaign Executed', 'Campaign Completed', 'Campaign Rejected'],
    menu: {
      pages: [// Main menu8
      { text: 'Transaction History', url: 'order', authenticate: true, icon: 'account_balance' }, { text: 'Manage Orders', url: 'orders', authenticate: true, role: 'manager', icon: 'shopping_basket' }, { text: 'Campaign Management', url: 'campaigns', authenticate: true, role: 'manager', icon: 'chrome_reader_mode' }, { text: 'Campaigns', url: 'campaign', authenticate: true, icon: 'perm_media' }, { text: 'Profile', url: 'address', authenticate: true, icon: 'directions' },
      //{text:'Reviews', url: 'review', authenticate: true, role: 'admin',icon: 'star'},
      //{text:'Moderate Reviews', url: 'reviews', authenticate: true, role: 'admin', icon: 'star'},
      //{text:'Wishlist', url: 'wish', authenticate: true, role: 'admin',icon: 'favorite'},
      { text: 'My Library', url: 'media', authenticate: true, icon: 'photo_library' }, { text: 'Media Library', url: 'medias', authenticate: true, role: 'manager', icon: 'photo_library' }, { text: 'Inventory', url: 'product', authenticate: true, role: 'manager', icon: 'style' }],
      user: [// Separate panel for user management tasks for both admin and user
      /// {text:'Users', url: 'admin', authenticate: true, role: 'admin', icon: 'perm_identity'},
      { text: 'Change Password', authenticate: true, url: 'cp', icon: 'settings_applications' }, { text: 'logout', authenticate: true, url: 'logout', icon: 'logout' }]
    }
  });
})();
//# sourceMappingURL=settings.js.map

'use strict';

angular.module('mediaboxApp').controller('ShippingCtrl', function ($scope) {
  $scope.options = [{ field: 'carrier' }, { field: 'country' }, { field: 'charge', dataType: 'currency' }, { field: 'minWeight', dataType: 'number' }, { field: 'maxWeight', dataType: 'number' }, { field: 'freeShipping', dataType: 'currency' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=shipping.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('shipping', {
    url: '/shipping',
    templateUrl: 'app/shipping/shipping.html',
    controller: 'ShippingCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=shipping.js.map

'use strict';

angular.module('mediaboxApp').controller('StatisticCtrl', function ($scope) {
  $scope.options = [{ field: 'key' }, { field: 'val' }, { field: 'active', dataType: 'boolean' }];
});
//# sourceMappingURL=statistic.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('statistic', {
    url: '/statistic',
    templateUrl: 'app/statistic/statistic.html',
    controller: 'StatisticCtrl',
    authenticate: 'manager'
  });
});
//# sourceMappingURL=statistic.js.map

'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var WishController = function () {
        function WishController(Wishlist, $state) {
            _classCallCheck(this, WishController);

            this.Wishlist = Wishlist;
            this.wishes = Wishlist.query();
            this.$state = $state;
        }

        _createClass(WishController, [{
            key: 'remove',
            value: function remove(wish) {
                var vm = this;
                this.Wishlist.delete({ id: wish._id }, function (res) {
                    if (res) {
                        vm.wishes = vm.Wishlist.query();
                    }
                });
            }
        }, {
            key: 'gotoDetail',
            value: function gotoDetail(params) {
                this.$state.go('single-product', { id: params.pid, slug: params.slug }, { reload: false });
            }
        }]);

        return WishController;
    }();

    angular.module('mediaboxApp').controller('WishController', WishController);
})();
//# sourceMappingURL=wish.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('wish', {
    url: '/wish',
    templateUrl: 'app/wish/wish.html',
    controller: 'WishController as wish',
    authenticate: true
  });
});
//# sourceMappingURL=wish.js.map

'use strict';

(function () {
  var NGPCanvas,
      NGPImage,
      NGPImageLoader,
      NGPIndicator,
      module,
      __bind = function __bind(fn, me) {
    return function () {
      return fn.apply(me, arguments);
    };
  };

  module = angular.module('ngPintura', []);

  NGPImageLoader = function () {
    function NGPImageLoader(files, loadedCb, progressCb) {
      var file, _i, _len, _ref;
      this.files = files != null ? files : [];
      this.loadedCb = loadedCb;
      this.progressCb = progressCb;
      this.onload = __bind(this.onload, this);
      this.loaded = 0;
      _ref = this.files;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        file.image = new Image();
        file.image.onload = this.onload;
        file.image.src = file.url;
      }
    }

    NGPImageLoader.prototype.onload = function () {
      this.loaded += 1;
      if (this.progressCb) {
        this.progressCb(this.loaded / this.files.length);
      }
      if (this.loaded >= this.files.length) {
        return this.loadedCb(this.files);
      }
    };

    return NGPImageLoader;
  }();

  NGPCanvas = function () {
    function NGPCanvas() {
      var imageNode, indicatorNode, layerNode, stageNode;
      stageNode = new Konva.Stage({
        container: angular.element('<div>')[0]
      });
      layerNode = new Konva.Layer();
      imageNode = new Konva.Image();
      indicatorNode = new Konva.Rect();
      stageNode.add(layerNode);
      layerNode.add(imageNode);
      layerNode.add(indicatorNode);
      this.progressCb = void 0;
      this.stage = stageNode;
      this.layer = layerNode;
      this.image = new NGPImage(imageNode);
      this.indicator = new NGPIndicator(indicatorNode);
    }

    NGPCanvas.prototype.resize = function (width, height) {
      this.stage.size({
        width: width,
        height: height
      });
      this.indicator.node.position({
        x: width / 2,
        y: height / 2
      });
      return this.image.adjustScaleBounds(this.stage.size());
    };

    NGPCanvas.prototype.imageChange = function (src) {
      this.image.node.visible(false);
      this.indicator.node.visible(true);
      this.indicator.animation.start();
      if (typeof src === 'string') {
        return Konva.Image.fromURL(src, function (_this) {
          return function (newImage) {
            _this.setImage(newImage.image());
            return newImage.destroy();
          };
        }(this));
      } else if (src instanceof Image) {
        return this.setImage(src);
      } else if (src instanceof Array) {
        return this.setCollage(src);
      } else {
        return console.log('src is empty or unknown format:', src);
      }
    };

    NGPCanvas.prototype.setImage = function (newImage) {
      this.image.node.size({
        width: newImage.width,
        height: newImage.height
      });
      this.image.node.image(newImage);
      this.indicator.node.visible(false);
      this.indicator.animation.stop();
      this.image.adjustScaleBounds(this.stage.size());
      this.image.node.visible(true);
      this.image.node.parent.draw();
      return this.image.node.fire(this.image.LOADED);
    };

    NGPCanvas.prototype.setCollage = function (files) {
      var loaded;
      loaded = function (_this) {
        return function (images) {
          var image, rowsX, rowsY, tmpLayer, _i, _len;
          rowsX = 0;
          rowsY = 0;
          tmpLayer = new Konva.Layer();
          for (_i = 0, _len = images.length; _i < _len; _i++) {
            image = images[_i];
            rowsX = Math.max(image.x + 1, rowsX);
            rowsY = Math.max(image.y + 1, rowsY);
            tmpLayer.add(new Konva.Image({
              image: image.image,
              x: image.x * image.image.width,
              y: image.y * image.image.height
            }));
          }
          return tmpLayer.toImage({
            x: 0,
            y: 0,
            width: rowsX * images[0].image.width,
            height: rowsY * images[0].image.height,
            callback: function callback(image) {
              _this.setImage(image);
              return tmpLayer.destroy();
            }
          });
        };
      }(this);
      return new NGPImageLoader(files, loaded, this.progressCb);
    };

    return NGPCanvas;
  }();

  /*
   *
   */

  NGPIndicator = function () {
    function NGPIndicator(node) {
      var _animFn;
      this.node = node;
      this.rotationSpeed = 270;
      this.node.setAttrs({
        width: 50,
        height: 50,
        fill: 'pink',
        stroke: 'white',
        strokeWidth: 4,
        zIndex: 99,
        visible: false,
        offset: {
          x: 25,
          y: 25
        }
      });
      _animFn = function (_this) {
        return function (frame) {
          var angleDiff;
          angleDiff = frame.timeDiff * _this.rotationSpeed / 1000;
          return _this.node.rotate(angleDiff);
        };
      }(this);
      this.animation = new Konva.Animation(_animFn, this.node.parent);
    }

    return NGPIndicator;
  }();

  /*
   *
   */

  NGPImage = function () {
    function NGPImage(node) {
      this.node = node;
      this.LOADED = 'loaded';
      this.node.draggable(true);
      this.minScale = 0.5;
      this.maxScale = 1;
      this.tween = void 0;
      this.tweenDuration = 0.25;
    }

    NGPImage.prototype.adjustScaleBounds = function (viewport) {
      if (!this.node.width() || !this.node.height()) {
        return;
      }
      this.minScale = viewport.width / this.node.width();
      if (viewport.height < this.node.height() * this.minScale) {
        this.minScale = viewport.height / this.node.height();
      }
      return this.minScale = Math.min(this.minScale, 1);
    };

    NGPImage.prototype._fitScale = function (scale) {
      return Math.min(Math.max(scale, this.minScale), this.maxScale);
    };

    NGPImage.prototype._zoomToPointAttrs = function (scale, point) {
      var attrs, imgPoint, scaling;
      scaling = this.node.scaleX() + scale;
      scaling = this._fitScale(scaling);
      imgPoint = this.node.getAbsoluteTransform().copy().invert().point(point);
      return attrs = {
        x: (-imgPoint.x + point.x / scaling) * scaling,
        y: (-imgPoint.y + point.y / scaling) * scaling,
        scaleX: scaling,
        scaleY: scaling
      };
    };

    NGPImage.prototype.zoomToPoint = function (scale, point) {
      this.node.setAttrs(this._zoomToPointAttrs(scale, point));
      return this.node.parent.draw();
    };

    NGPImage.prototype.zoomToPointer = function (scale) {
      return this.zoomToPoint(scale, this.node.getStage().getPointerPosition());
    };

    NGPImage.prototype._stageCenter = function () {
      var center;
      return center = {
        x: this.node.getStage().width() / 2,
        y: this.node.getStage().height() / 2
      };
    };

    NGPImage.prototype.zoomToCenter = function (scale) {
      return this.zoomToPoint(scale, this._stageCenter());
    };

    NGPImage.prototype.zoomToPointTween = function (scale, point, callback) {
      var tweenAttrs;
      tweenAttrs = this._zoomToPointAttrs(scale, point);
      if (scale !== this.node.scaleX() || tweenAttrs.x !== this.node.x() || tweenAttrs.y !== this.node.y()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(tweenAttrs, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    NGPImage.prototype.zoomToCenterTween = function (scale, callback) {
      return this.zoomToPointTween(scale, this._stageCenter(), callback);
    };

    NGPImage.prototype.moveByVectorTween = function (v, callback) {
      var pos;
      pos = this.node.position();
      if (v.x) {
        pos.x += v.x;
      }
      if (v.y) {
        pos.y += v.y;
      }
      if (pos.x !== this.node.x() || pos.y !== this.node.y()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(pos, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    NGPImage.prototype.fitInViewTween = function (callback) {
      var attrs, imgScaled;
      imgScaled = {
        width: this.node.width() * this.minScale,
        height: this.node.height() * this.minScale
      };
      attrs = {
        scaleX: this.minScale,
        scaleY: this.minScale,
        x: imgScaled.width < this.node.getStage().width() ? (this.node.getStage().width() - imgScaled.width) / 2 : 0,
        y: imgScaled.height < this.node.getStage().height() ? (this.node.getStage().height() - imgScaled.height) / 2 : 0
      };
      if (attrs.x !== this.node.x() || attrs.y !== this.node.y() || attrs.scaleX !== this.node.scaleX()) {
        if (this.tween) {
          this.tween.pause().destroy();
        }
        this.tween = new Konva.Tween(angular.extend(attrs, {
          node: this.node,
          duration: this.tweenDuration,
          easing: Konva.Easings.EaseOut,
          onFinish: callback
        }));
        return this.tween.play();
      }
    };

    return NGPImage;
  }();

  module.service('ngPintura', function () {
    return new NGPCanvas();
  });

  /**
   * pintura container
   * creates and shares paperjs scope with child directives
   * creates canvas
   */

  module.directive('ngPintura', ["ngPintura", "$window", function (ngPintura, $window) {
    var directive;
    return directive = {
      transclude: true,
      scope: {
        src: '=ngpSrc',
        scaling: '=ngpScaling',
        position: '=ngpPosition',
        fitOnload: '=ngpfitOnload',
        maxScaling: '=ngpMaxScaling',
        scaleStep: '=ngpScaleStep',
        mwScaleStep: '=ngpMwScaleStep',
        moveStep: '=ngpMoveStep',
        progress: '=ngpProgress'
      },
      link: function link(scope, element, attrs, ctrl, transcludeFn) {
        var applySyncScope, imageChange, imageLoad, maxScalingChange, mouseWheel, positionChange, resizeContainer, scalingChange, setScalingDisabled, syncScope;
        scope.slider = {
          value: void 0,
          fromScaling: function fromScaling(scale) {
            return this.value = parseInt((scale - ngPintura.image.minScale) / (ngPintura.image.maxScale - ngPintura.image.minScale) * 100);
          },
          toScaling: function toScaling() {
            return (ngPintura.image.maxScale - ngPintura.image.minScale) * (this.value / 100) + ngPintura.image.minScale;
          }
        };
        resizeContainer = function resizeContainer() {
          ngPintura.resize(element[0].clientWidth, element[0].clientHeight);
          return setScalingDisabled();
        };
        imageChange = function imageChange() {
          return ngPintura.imageChange(scope.src);
        };
        positionChange = function positionChange() {
          var _ref, _ref1;
          if (((_ref = scope.position) != null ? _ref.x : void 0) && ((_ref1 = scope.position) != null ? _ref1.y : void 0)) {
            ngPintura.image.node.position(scope.position);
            return ngPintura.layer.draw();
          }
        };
        scalingChange = function scalingChange() {
          ngPintura.image.node.scale({
            x: scope.scaling,
            y: scope.scaling
          });
          ngPintura.layer.draw();
          return scope.slider.fromScaling(scope.scaling);
        };
        mouseWheel = function mouseWheel(e) {
          e.evt.preventDefault();
          if (e.evt.wheelDeltaY > 0) {
            ngPintura.image.zoomToPointer(scope.mwScaleStep);
          } else {
            ngPintura.image.zoomToPointer(-scope.mwScaleStep);
          }
          return applySyncScope();
        };
        syncScope = function syncScope() {
          scope.position = ngPintura.image.node.position();
          scope.scaling = ngPintura.image.node.scaleX();
          if (scope.slider.toScaling() !== scope.scaling) {
            return scope.slider.fromScaling(scope.scaling);
          }
        };
        applySyncScope = function applySyncScope() {
          return scope.$apply(syncScope);
        };
        scope.fitInView = function () {
          return ngPintura.image.fitInViewTween(applySyncScope);
        };
        scope.moveUp = function () {
          return ngPintura.image.moveByVectorTween({
            y: scope.moveStep
          }, applySyncScope);
        };
        scope.moveDown = function () {
          return ngPintura.image.moveByVectorTween({
            y: -scope.moveStep
          }, applySyncScope);
        };
        scope.moveRight = function () {
          return ngPintura.image.moveByVectorTween({
            x: -scope.moveStep
          }, applySyncScope);
        };
        scope.moveLeft = function () {
          return ngPintura.image.moveByVectorTween({
            x: scope.moveStep
          }, applySyncScope);
        };
        scope.zoomIn = function () {
          return ngPintura.image.zoomToCenterTween(scope.scaleStep, applySyncScope);
        };
        scope.zoomOut = function () {
          return ngPintura.image.zoomToCenterTween(-scope.scaleStep, applySyncScope);
        };
        scope.sliderChange = function () {
          var scale;
          scale = scope.slider.toScaling() - ngPintura.image.node.scaleX();
          ngPintura.image.zoomToCenter(scale);
          return syncScope();
        };
        setScalingDisabled = function setScalingDisabled() {
          return scope.scalingDisabled = ngPintura.image.minScale >= ngPintura.image.maxScale;
        };
        imageLoad = function imageLoad() {
          if (scope.fitOnload) {
            scope.fitInView();
          }
          return setScalingDisabled();
        };
        maxScalingChange = function maxScalingChange() {
          ngPintura.image.maxScale = scope.maxScaling;
          return setScalingDisabled();
        };
        ngPintura.progressCb = function (progress) {
          return scope.$apply(function () {
            return scope.progress = progress;
          });
        };
        if (scope.maxScaling == null) {
          scope.maxScaling = 1;
        }
        if (scope.scaleStep == null) {
          scope.scaleStep = 0.4;
        }
        if (scope.mwScaleStep == null) {
          scope.mwScaleStep = 0.1;
        }
        if (scope.moveStep == null) {
          scope.moveStep = 100;
        }
        if (scope.fitOnload == null) {
          scope.fitOnload = true;
        }
        element.append(ngPintura.stage.content);
        resizeContainer();
        angular.element($window).on('resize', resizeContainer);
        scope.$watch('src', imageChange);
        scope.$watch('position', positionChange, true);
        scope.$watch('scaling', scalingChange);
        scope.$watch('maxScaling', maxScalingChange);
        ngPintura.image.node.on('dragend', applySyncScope);
        ngPintura.image.node.on('mousewheel', mouseWheel);
        ngPintura.image.node.on(ngPintura.image.LOADED, imageLoad);
        return transcludeFn(scope, function (clonedTranscludedTemplate) {
          return element.append(clonedTranscludedTemplate);
        });
      }
    };
  }]);
}).call(undefined);
//# sourceMappingURL=angular-pintura.js.map

'use strict';

(function () {

  function AuthService($location, $http, $cookies, $q, appConfig, Util, User) {
    var safeCb = Util.safeCb;
    var currentUser = {};
    var userRoles = appConfig.userRoles || [];

    if ($cookies.get('token') && $location.path() !== '/logout') {
      currentUser = User.get();
    }

    var Auth = {

      /**
       * Authenticate user and save token
       *
       * @param  {Object}   user     - login info
       * @param  {Function} callback - optional, function(error, user)
       * @return {Promise}
       */
      login: function login(_ref, callback) {
        var email = _ref.email,
            password = _ref.password;

        return $http.post('/auth/local', {
          email: email,
          password: password
        }).then(function (res) {
          $cookies.put('token', res.data.token);
          currentUser = User.get();
          return currentUser.$promise;
        }).then(function (user) {
          safeCb(callback)(null, user);
          return user;
        }).catch(function (err) {
          Auth.logout();
          safeCb(callback)(err.data);
          return $q.reject(err.data);
        });
      },


      /**
       * Delete access token and user info
       */
      logout: function logout() {
        $cookies.remove('token');
        currentUser = {};
      },


      /**
       * Create a new user
       *
       * @param  {Object}   user     - user info
       * @param  {Function} callback - optional, function(error, user)
       * @return {Promise}
       */
      createUser: function createUser(user, callback) {
        return User.save(user, function (data) {
          $cookies.put('token', data.token);
          currentUser = User.get();
          return safeCb(callback)(null, user);
        }, function (err) {
          Auth.logout();
          return safeCb(callback)(err);
        }).$promise;
      },


      /**
       * Change password
       *
       * @param  {String}   oldPassword
       * @param  {String}   newPassword
       * @param  {Function} callback    - optional, function(error, user)
       * @return {Promise}
       */
      changePassword: function changePassword(oldPassword, newPassword, callback) {
        return User.changePassword({ id: currentUser._id }, {
          oldPassword: oldPassword,
          newPassword: newPassword
        }, function () {
          return safeCb(callback)(null);
        }, function (err) {
          return safeCb(callback)(err);
        }).$promise;
      },


      /**
       * Gets all available info on a user
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, funciton(user)
       * @return {Object|Promise}
       */
      getCurrentUser: function getCurrentUser(callback) {
        if (arguments.length === 0) {
          return currentUser;
        }

        var value = currentUser.hasOwnProperty('$promise') ? currentUser.$promise : currentUser;
        return $q.when(value).then(function (user) {
          safeCb(callback)(user);
          return user;
        }, function () {
          safeCb(callback)({});
          return {};
        });
      },


      /**
       * Check if a user is logged in
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, function(is)
       * @return {Bool|Promise}
       */
      isLoggedIn: function isLoggedIn(callback) {
        if (arguments.length === 0) {
          return currentUser.hasOwnProperty('role');
        }

        return Auth.getCurrentUser(null).then(function (user) {
          var is = user.hasOwnProperty('role');
          safeCb(callback)(is);
          return is;
        });
      },

      isLoggedInAsync: function isLoggedInAsync(cb) {
        if (currentUser.hasOwnProperty('$promise')) {
          currentUser.$promise.then(function () {
            cb(true);
          }).catch(function () {
            cb(false);
          });
        } else if (currentUser.hasOwnProperty('role')) {
          cb(true);
        } else {
          cb(false);
        }
      },

      /**
       * Check if a user has a specified role or higher
       *   (synchronous|asynchronous)
       *
       * @param  {String}     role     - the role to check against
       * @param  {Function|*} callback - optional, function(has)
       * @return {Bool|Promise}
       */
      hasRole: function hasRole(role, callback) {
        var hasRole = function hasRole(r, h) {
          return userRoles.indexOf(r) >= userRoles.indexOf(h);
        };

        if (arguments.length < 2) {
          return hasRole(currentUser.role, role);
        }

        return Auth.getCurrentUser(null).then(function (user) {
          var has = user.hasOwnProperty('role') ? hasRole(user.role, role) : false;
          safeCb(callback)(has);
          return has;
        });
      },


      /**
       * Check if a user is an admin
       *   (synchronous|asynchronous)
       *
       * @param  {Function|*} callback - optional, function(is)
       * @return {Bool|Promise}
       */
      isAdmin: function isAdmin() {
        return Auth.hasRole.apply(Auth, [].concat.apply(['admin'], arguments));
      },


      /**
       * Get auth token
       *
       * @return {String} - a token string used for authenticating
       */
      getToken: function getToken() {
        return $cookies.get('token');
      }
    };

    return Auth;
  }

  angular.module('mediaboxApp.auth').factory('Auth', AuthService);
})();
//# sourceMappingURL=auth.service.js.map

'use strict';

(function () {

  function authInterceptor($q, $cookies, $injector, Util, Settings) {
    var state;

    return {
      // Add authorization token to headers
      request: function request(config) {
        config.headers = config.headers || {};
        if (Settings.demo) {
          if (config.method === 'PATCH' || config.method === 'PUT' || config.method === 'POST' || config.method === 'DELETE') {
            var allowedURL = config.url === '/auth/local' || config.url.match('api/users/*') // Allow login, signup, change-password, forgot, reset ** User Deletion blocked at admin page
            || config.url === '/api/orders' || config.url === '/api/reviews' || config.url === '/api/wishlists' || config.url === '/api/pay/stripe' || config.url === '/api/sendmail' || config.url.match('/api/address/*');
            if (!allowedURL || config.method === 'DELETE' || config.data.role) {
              // Do not allow delete in demo mode
              var response = { type: 'demo', text: 'Demo Mode: Unable to save', message: 'Demo Mode: Unable to save', data: 'Demo Mode: Unable to save' };
              $injector.get('Toast').show(response);
              return $q.reject(response);
            }
          }
        }
        if ($cookies.get('token') && Util.isSameOrigin(config.url)) {
          config.headers.Authorization = 'Bearer ' + $cookies.get('token');
        }
        return config;
      },


      // Intercept 401s and redirect you to login
      responseError: function responseError(response) {
        // console.log('error at auth interceptor', response)
        if (response.status === 401) {
          // $injector.get('Toast').show({type: 'error', text: response.statusText});
          if (response.config.url !== "/auth/local") // If the request is not from login modal page
            $injector.get('LoginModal').show('/'); // Causes circular dependency

          // (state || (state = $injector.get('$state'))).go('login');
          // remove any stale tokens
          $cookies.remove('token');
        }
        return $q.reject(response);
      }
    };
  }

  angular.module('mediaboxApp.auth').factory('authInterceptor', authInterceptor);
})();
//# sourceMappingURL=interceptor.service.js.map

'use strict';

(function () {

  angular.module('mediaboxApp.auth').run(function ($rootScope, $state, $location, Auth, LoginModal, Toast) {
    // Redirect to login if route requires auth and the user is not logged in, or doesn't have required role
    $rootScope.$on('$stateChangeStart', function (event, next) {
      // Routes that does not require login (Public routes)
      if (!next.authenticate) {
        return;
      }
      // Routes that require specific roles
      if (typeof next.authenticate === 'string') {
        Auth.hasRole(next.authenticate, _.noop).then(function (has) {
          if (has) {
            return;
          }
          $state.go('login');
          Toast.show({ type: 'error', text: 'Unauthorized to make changes' });
        });
      } else {
        // Routes that require only authentication without any specific roles
        Auth.isLoggedInAsync(function (is) {
          if (!is) {
            event.preventDefault();
            LoginModal.show(next.name);
          }
        });
      }
    });
    $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {
      // this is required if you want to prevent the $UrlRouter reverting the URL to the previous valid location
      Toast.show({ type: 'error', text: 'The requested page has some error' });
      return $location.path(fromState, fromParams);
    });
  });
})();
//# sourceMappingURL=router.decorator.js.map

'use strict';

(function () {

  function UserResource($resource) {
    return $resource('/api/users/:id/:controller', {
      id: '@_id'
    }, {
      changePassword: {
        method: 'PUT',
        params: {
          controller: 'password'
        }
      },
      get: {
        method: 'GET',
        params: {
          id: 'me'
        }
      }
    });
  }

  angular.module('mediaboxApp.auth').factory('User', UserResource);
})();
//# sourceMappingURL=user.service.js.map

'use strict';

angular.module('mediaboxApp').directive('input', ['$mdDatePicker', '$timeout', function ($mdDatePicker, $timeout) {
  return {
    restrict: 'E',
    require: '?ngModel',
    templateUrl: 'components/calendar/calendar.html',
    link: function link(scope, element, attrs, ngModel) {
      if ('undefined' !== typeof attrs.type && 'calendar' === attrs.type && ngModel) {
        $timeout(function () {
          var isDate = moment(ngModel.$modelValue).isValid();
          if (isDate) {
            ngModel.$setViewValue(moment(ngModel.$modelValue).format('YYYY-MM-DD'));
            ngModel.$render();
          }
        });
        // ngModel.$setViewValue('2013-12-10');
        // ngModel.$render();
        angular.element(element).on('click', function (ev) {
          var isDate = moment(ngModel.$modelValue).isValid();
          if (!isDate) {
            ngModel.$modelValue = Date.now();
          }
          $mdDatePicker(ev, ngModel.$modelValue).then(function (selectedDate) {
            $timeout(function () {
              var isDate = moment(selectedDate).isValid();
              if (isDate) {
                ngModel.$setViewValue(moment(selectedDate).format('YYYY-MM-DD'));
                ngModel.$render();
              }
            });
          });
        });
      }
    }
  };
}]).controller('DatePickerCtrl', ['$scope', '$mdDialog', 'currentDate', '$mdMedia', function ($scope, $mdDialog, currentDate, $mdMedia) {
  var self = this;
  this.currentDate = currentDate;
  this.currentMoment = moment(self.currentDate);
  this.weekDays = moment.weekdaysMin();

  $scope.$mdMedia = $mdMedia;
  $scope.yearsOptions = [];
  for (var i = 1970; i <= this.currentMoment.year() + 100; i++) {
    $scope.yearsOptions.push(i);
  }
  $scope.year = this.currentMoment.year();

  this.setYear = function () {
    self.currentMoment.year($scope.year);
  };

  this.selectDate = function (dom) {
    self.currentMoment.date(dom);
  };

  this.cancel = function () {
    $mdDialog.cancel();
  };

  this.confirm = function () {
    $mdDialog.hide(this.currentMoment.toDate());
  };

  this.getDaysInMonth = function () {
    var days = self.currentMoment.daysInMonth(),
        firstDay = moment(self.currentMoment).date(1).day();

    var arr = [];
    for (var i = 1; i <= firstDay + days; i++) {
      arr.push(i > firstDay ? i - firstDay : false);
    }
    return arr;
  };

  this.nextMonth = function () {
    self.currentMoment.add(1, 'months');
    $scope.year = self.currentMoment.year();
  };

  this.prevMonth = function () {
    self.currentMoment.subtract(1, 'months');
    $scope.year = self.currentMoment.year();
  };
}]).factory('$mdDatePicker', ['$mdDialog', function ($mdDialog) {
  var datePicker = function datePicker(targetEvent, currentDate) {
    var jsDate = moment(currentDate, 'DD-MMM-YYYY').toDate();
    if (!angular.isDate(jsDate)) {
      currentDate = Date.now();
    }
    return $mdDialog.show({
      controller: 'DatePickerCtrl',
      controllerAs: 'datepicker',
      templateUrl: '/modal.datepicker.html',
      targetEvent: targetEvent,
      locals: {
        currentDate: currentDate
      }
    });
  };

  return datePicker;
}]);
//# sourceMappingURL=calendar.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    var cartButtonsController =
    /*@ngInject*/
    function cartButtonsController(Cart, Auth) {
        _classCallCheck(this, cartButtonsController);

        this.cart = Cart.cart;
        this.Auth = Auth;
        this.addItem = function (product, variant, i) {
            var advertiser = this.Auth.getCurrentUser();
            i = i || 1;

            if (product.campaignName) {

                this.cart.addItem({ sku: variant._id, name: variant.name, slug: variant.formart, mrp: variant.model, image: variant.image, weight: variant.maxSize, size: variant.size, price: variant.price, quantity: 1, 'advertiser': advertiser, publisher: variant.publisher, publisheruid: variant.publisheruid, vid: variant._id }, i);
            }

            //ng-click="cart.addItem({sku:adspace.sku, name:adspace.name,slug:adspace.formart,mrp:adspace.model, weight:adspace.maxSize,size:adspace.size,price:adspace.price ,status: {name:'New', val:402}, publisher:product.name,advertiser:user,uid:product.uid,category:product.brand.name,image:product.logo[0].base64,quantity:1} ,true);"
            /*
               todo add category to cart
             */

            this.cart.addItem({ sku: variant._id, name: variant.name, slug: variant.formart, mrp: variant.model, weight: variant.maxSize, size: variant.size, price: variant.price, status: { name: 'New', val: 402 }, publisher: product.name, publisheruid: product.uid, advertiser: this.Auth.getCurrentUser(), uid: product.uid, image: product.logo[0].base64, quantity: 1, vid: variant._id }, i);
        };
    };

    angular.module('mediaboxApp').component('cartButtons', {
        template: '    \n        <section class="md-actions cta" layout="row" layout-align="start end" ng-show="$ctrl.variant.price" ng-if="$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant)" class="md-raised md-primary"\n            aria-label="Add to cart">\n                <ng-md-icon icon="shopping_cart"></ng-md-icon>Add to cart\n            </md-button>\n        </section>\n\n        <section class="md-actions cta" ng-hide="$ctrl.variant.price" layout="row" layout-align="start end" ng-if="$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant)" class="md-raised md-primary"\n            aria-label="Add to cart">\n                <ng-md-icon icon="mail_outline"></ng-md-icon>Enquire\n            </md-button>\n        </section>\n\n        <section class="md-actions cta" layout="row" layout-align="start center" ng-if="!$ctrl.cart.checkCart($ctrl.variant._id, $ctrl.variant._id)">\n            <md-button class="md-raised md-primary left md-icon-button" \n            ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant,-1)" \n            aria-label="Remove from cart">\n                <ng-md-icon icon="remove"></ng-md-icon>\n            </md-button>\n\n            <md-button class="middle" aria-label="Cart quantity" ui-sref="checkout">Buy {{$ctrl.cart.getQuantity($ctrl.variant._id, $ctrl.variant._id)}}</md-button>\n\n            <md-button class="md-raised md-primary right md-icon-button" ng-click="$ctrl.addItem($ctrl.product, $ctrl.variant,1)" aria-label="Add to cart">\n                <ng-md-icon icon="add"></ng-md-icon>\n            </md-button>\n        </section>\n    ',
        bindings: {
            product: '<', // One way binding towards controller
            variant: '<', // One way binding towards controller
            readOnly: '@?' // String value
        },
        controller: cartButtonsController
    });
})();
//# sourceMappingURL=cart-buttons.component.js.map

'use strict';

angular.module('mediaboxApp').directive('crudTable', function ($http, $state) {
  return {
    templateUrl: 'components/crud-table/main.html',
    restrict: 'E',
    scope: { api: '@', columns: '=options' },
    transclude: true,
    link: function link(scope, element, attrs) {
      var obj = [];
      var columns = scope.columns;
      angular.forEach(columns, function (i) {
        var o = {};
        // Extract sortType from dataType
        if (i.dataType === 'numeric' || i.dataType === 'number' || i.dataType === 'float' || i.dataType === 'integer' || i.dataType === 'currency') {
          i.dataType = 'parseFloat';
          o.sortType = 'parseFloat';
        } else if (i.dataType === 'date' || i.dataType === 'calendar') {
          i.dataType = 'date';
          o.sortType = 'date';
        } else if (i.dataType === 'dropdown' || i.dataType === 'select' || i.dataType === 'option') {
          i.dataType = 'dropdown';
          o.sortType = 'lowercase';
        } else if (i.dataType === 'textarea' || i.dataType === 'multiline') {
          i.dataType = 'textarea';
          o.sortType = 'lowercase';
        } else if (i.dataType === 'image' || i.dataType === 'photo' || i.dataType === 'picture') {
          i.dataType = 'image';
          o.sortType = 'lowercase';
        } else {
          o.sortType = 'lowercase';
        }
        // check heading (Assign heading if not exists)
        if ('heading' in i) {
          o.heading = i.heading;
        } else if ('title' in i) {
          o.heading = i.title;
        } else {
          o.heading = i.field;
        }

        // Assign fields to object
        o.field = i.field;
        // o.sort = attrs.sort; // The field where the sort=true
        o.noSort = i.noSort;
        o.noAdd = i.noAdd;
        o.noEdit = i.noEdit;
        o.dataType = i.dataType;
        o.options = i.options;

        obj.push(o);
      });
      $state.go('crud-table', { api: attrs.api, options: attrs, columns: obj }, { location: false });
    }
  };
});
//# sourceMappingURL=crud-table.js.map

'use strict';

(function () {

  function CrudTableDetailController($http, $state, Toast, $stateParams, ToggleComponent, Settings, $mdDialog, socket, $scope, $filter) {
    var vm = this;
    var api = $stateParams.api;
    // var _id = $stateParams.id;
    vm.myDate = new Date();
    vm.header = api;
    vm.item = angular.copy($stateParams.data);
    vm.columns = $stateParams.columns;
    vm.mediaLibrary = function () {
      $mdDialog.show({
        templateUrl: '/components/crud-table/media-library.html',
        controller: function controller($scope, $mdDialog) {
          // Start query the database for the table
          $scope.loading = true;
          $http.get('/api/media/').then(function (res) {
            $scope.loading = false;
            $scope.media = res.data;
            socket.syncUpdates('media', $scope.data);
          }, handleError);

          function handleError(error) {
            // error handler
            $scope.loading = false;
            if (error.status === 403) {
              Toast.show({
                type: 'error',
                text: 'Not authorised to make changes.'
              });
            } else if (error.status !== 500) {
              Toast.show({
                type: 'error',
                text: error.status
              });
            }
          }
          $scope.ok = function (path) {
            $mdDialog.hide(path);
          };
          $scope.hide = function () {
            $mdDialog.hide();
          };
          $scope.cancel = function () {
            $mdDialog.cancel();
          };
          $scope.addNewImage = function () {
            $state.go('media');
            $mdDialog.hide(path);
          };
        }
      }).then(function (answer) {
        vm.item.image = answer;
      }, function () {});
    };

    function goBack() {
      ToggleComponent('crud-table.detailView').close();
      $state.go('^', {}, { location: false });
    }
    vm.goBack = goBack;

    vm.edit = function (product) {
      // refuse to work with invalid data
      if (!product) {
        return;
      }

      $http.put('/api/' + $filter('pluralize')(api) + '/' + product._id, product).then(success).catch(err);
      function success(res) {
        var item = vm.item = res.data;
        Toast.show({ type: 'success', text: api + ' has been updated' });
      }

      function err(err) {}
    };
  }

  angular.module('mediaboxApp').controller('CrudTableDetailController', CrudTableDetailController);
})();
//# sourceMappingURL=detail.controller.js.map

'use strict';

(function () {

  function CrudTableListController($scope, $http, socket, $state, $stateParams, Modal, Toast, Settings, $filter, $mdDialog) {
    var api = $stateParams.api;
    this.sortPredicate = $stateParams.options.sort;
    var options = $stateParams.options;
    this.cols = $stateParams.columns;
    this.header = api;
    this.sort = {};
    this.$mdDialog = $mdDialog;
    var vm = this;
    vm.loading = true;

    // the selected item id
    var _id = null;
    var originatorEv;

    if (options) {
      if (options.predicate) {
        this.sort.predicate = options.predicate;
      } else {
        this.sort.predicate = this.sortPredicate || 'name';
      }
    }
    this.sort.reverse = true;
    this.order = function (predicate) {
      this.sort.reverse = this.sort.predicate === predicate ? !this.sort.reverse : false;
      this.sort.predicate = predicate;
    };
    this.no = {};
    if ('noadd' in options) {
      this.no.add = true;
    }
    if ('nocopy' in options) {
      this.no.copy = true;
    }
    if ('nodelete' in options) {
      this.no.delete = true;
    }
    if ('noedit' in options) {
      this.no.edit = true;
    }
    if ('nosort' in options) {
      this.no.sort = true;
    }
    if ('nosearch' in options) {
      this.no.filter = true;
    }
    if ('nofilter' in options) {
      this.no.filter = true;
    }
    if ('noexport' in options) {
      this.no.export = true;
    }
    this.l = 10;
    this.loadMore = function () {
      this.l += 2;
    };

    this.exportData = function (type) {
      var data = JSON.stringify(this.data, undefined, 2);
      var blob;
      if (type === 'txt') {
        // Save as .txt
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, options.api + '.txt');
      } else if (type === 'csv') {
        // Save as .csv
        blob = new Blob([document.getElementById('exportable').innerHTML], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8' });
        saveAs(blob, options.api + ".csv");
      } else if (type === 'xls') {
        // Save as xls
        blob = new Blob([document.getElementById('exportable').innerHTML], {
          type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"
        });
        saveAs(blob, options.api + ".xls");
      } else {
        // Save as .json
        blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
        saveAs(blob, options.api + '.json');
      }
    };

    this.openMenu = function ($mdOpenMenu, ev) {
      originatorEv = ev;
      $mdOpenMenu(ev);
    };
    vm.isSelected = function (product) {
      return _id === product._id;
    };

    // Start query the database for the table
    vm.loading = true;
    var api2 = $filter('pluralize')(api);

    $http.get('/api/' + api2).then(function (res) {
      vm.loading = false;
      vm.data = res.data;
      socket.syncUpdates(api, vm.data);
    }, handleError);

    this.changeStatus = function (x) {
      $http.put('/api/' + api2 + '/' + x._id, { active: x.active }).then(function () {}, handleError);
    };

    this.copy = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to copy the ' + api + '?').ariaLabel('Confirm to copy ' + api).ok('Yes').cancel('No');
      this.$mdDialog.show(confirm).then(function () {
        var d = angular.copy(data);
        delete d._id;
        $http.post('/api/' + api2, d).then(function (response) {
          Toast.show({
            type: 'success',
            text: 'The ' + options.api + ' copied successfully.'
          });
        }).catch(function (err) {
          if (err.type === 'demo') return;

          Toast.show({
            type: 'warn',
            text: 'Error while duplicating ' + options.api
          });
        });
      });
    };

    this.delete = function (data) {
      var confirm = this.$mdDialog.confirm().title('Would you like to delete the ' + api + '?').ariaLabel('Confirm delete ' + api).ok('Yes').cancel('No');
      this.$mdDialog.show(confirm).then(function () {
        $http.delete('/api/' + api2 + '/' + data._id).then(function () {}, handleError);
      });
    };

    function handleError(error) {
      // error handler
      vm.loading = false;
      if (error.status === 401 || error.status === 403) {
        Toast.show({
          type: 'error',
          text: 'Not authorised to make changes.'
        });
      } else if (error.status === 404) {
        Toast.show({ type: 'error', text: 'The requested resource not found.' });
      } else if (error.status !== 500 && error.type !== 'demo') {
        Toast.show({
          type: 'error',
          text: error.status
        });
      }
    }

    this.showInDetails = function (item) {
      _id = item._id;
      $state.go('detail', { 'data': item }, { location: false });
    };
  }

  angular.module('mediaboxApp').controller('CrudTableListController', CrudTableListController);
})();
//# sourceMappingURL=list.controller.js.map

'use strict';

(function () {

  function CrudTableMainController(Modal, $stateParams) {
    var options = $stateParams.options;
    var cols = $stateParams.columns;
    this.create = function () {
      Modal.show(cols, options);
    };
  }

  angular.module('mediaboxApp').controller('CrudTableMainController', CrudTableMainController);
})();
//# sourceMappingURL=main.controller.js.map

'use strict';

(function () {
  'use strict';

  angular.module('mediaboxApp').config(mainRoute);
  mainRoute.$inject = ['$stateProvider'];
  function mainRoute($stateProvider, $stateParams) {
    $stateProvider.state('crud-table', {
      url: '/crud-table/:api',
      params: { options: null, columns: null },
      views: {
        '': {
          templateUrl: 'components/crud-table/main.html',
          controller: 'CrudTableMainController as main'
        },
        'content@crud-table': {
          url: '/content',
          templateUrl: 'components/crud-table/list.html',
          controller: 'CrudTableListController as list'
        }
      }
    }).state('detail', {
      url: '/detail/:id',
      onEnter: onEnterUserListDetail, // To open right sidebar
      params: { data: null },
      parent: 'crud-table',
      views: {
        '': {
          templateUrl: 'components/crud-table/main.html'
        },
        'detail': {
          templateUrl: 'components/crud-table/detail.html',
          controller: 'CrudTableDetailController as detail'
        }
      }
    }).state('create', {
      url: '/create',
      parent: 'crud-table',
      params: { data: null },
      views: {
        '': {}
      }
    });
  }
  function resolveIdFromArray($stateParams) {
    return { '_id': $stateParams.id, 'api': $stateParams.api };
  }

  onEnterUserListDetail.$inject = ['$timeout', 'ToggleComponent'];

  function onEnterUserListDetail($timeout, ToggleComponent) {
    $timeout(showDetails, 0, false);
    function showDetails() {
      ToggleComponent('crud-table.detailView').open();
    }
  }
})();
//# sourceMappingURL=main.js.map

'use strict';

angular.module('mediaboxApp').directive('noautocomplete', function () {

  return {

    restrict: 'A',

    link: function link(scope, el, attrs) {
      // password fields need one of the same type above it (firefox)
      var type = el.attr('type') || 'text';
      // chrome tries to act smart by guessing on the name.. so replicate a shadow name
      var name = el.attr('name') || '';
      var shadowName = name + '_shadow';
      // trick the browsers to fill this innocent silhouette
      var shadowEl = angular.element('<input type="' + type + '" name="' + shadowName + '" style="display: none">');

      // insert before
      el.parent()[0].insertBefore(shadowEl[0], el[0]);
    }

  };
}).directive('errSrc', function () {
  return {
    link: function link(scope, element, attrs) {
      element.bind('error', function () {
        if (attrs.src !== attrs.errSrc) {
          attrs.$set('src', attrs.errSrc);
        }
      });
    }
  };
}).directive('onlyNumbers', function () {
  return function (scope, element, attrs) {
    var keyCode = [8, 9, 13, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 110, 190];
    element.bind('keydown', function (event) {
      if (_.indexOf(keyCode, event.which) === -1) {
        scope.$apply(function () {
          scope.$eval(attrs.onlyNum);
          event.preventDefault();
        });
        event.preventDefault();
      }
    });
  };
}).directive('focusMe', function ($timeout, $parse) {
  return {
    link: function link(scope, element, attrs) {
      var model = $parse(attrs.focusMe);
      scope.$watch(model, function (value) {
        if (value === true) {
          $timeout(function () {
            element[0].focus();
          });
        }
      });
      // on blur event:
      element.bind('blur', function () {
        scope.$apply(model.assign(scope, false));
      });
    }
  };
}).directive('ngPrism', ['$interpolate', function ($interpolate) {
  return {
    restrict: 'E',
    template: '<pre><code ng-transclude></code></pre>',
    replace: true,
    transclude: true
  };
}]).directive('validateCart', function (Cart) {
  return {
    restrict: 'A',
    scope: true,
    require: 'ngModel',
    link: function link(scope, elem, attrs, control) {
      var checker = function checker() {
        var cv = Cart.cart.getTotalPrice();
        // if(e2!=null)
        return cv !== 0;
      };
      scope.$watch(checker, function (n) {
        control.$setValidity("validCart", n);
      });
    }
  };
});
//# sourceMappingURL=directive.directive.js.map

'use strict';

function ShoppingCart(cartName, Settings, Shipping, Order, Mail, Pay, appConfig, $state) {
    this.cartName = cartName;
    this.clearCart = false;
    this.flag = false;
    this.pflag = false;
    this.checkoutParameters = {};
    this.items = [];
    this.skuArray = [];
    this.variantsArray = [];
    this.totalWeight = 0;
    this.taxRate = 10;
    this.tax = null;
    this.campaignName = "";
    this.objectives = "";
    this.startDate = "";
    this.endDate = "";
    this.products = null;
    this.totalSpend = null;
    this.spendStats = null;
    this.age = [];
    this.income = [];
    // load items from local storage when initializing
    this.loadItems();

    this.Settings = Settings;
    this.Shipping = Shipping;
    this.Order = Order;
    this.Mail = Mail;
    this.Pay = Pay;
    this.appConfig = appConfig;
    this.$state = $state;
}

//----------------------------------------------------------------
// items in the cart
//
function CartItem(sku, name, slug, mrp, price, quantity, image, category, size, weight, status, publisher, publisheruid, advertiser, uid, vid) {
    this.sku = sku;
    this.name = name;
    this.slug = slug;
    this.image = image;
    this.category = category;
    this.size = size;
    this.mrp = mrp;
    this.price = price * 1;
    this.quantity = quantity * 1;
    this.weight = weight;
    this.status = status;
    this.publisher = publisher;
    this.publisheruid = publisheruid;
    this.advertiser = advertiser;
    this.uid = uid;
    this.vid = vid;
    this.status = 0;
}

//----------------------------------------------------------------
// checkout parameters (one per supported payment service)
// replaced this.serviceName with serviceName because of jshint complaint
//
function checkoutParameters(serviceName, merchantID, options) {
    this.serviceName = serviceName;
    this.merchantID = merchantID;
    this.options = options;
}

// load items from local storage
ShoppingCart.prototype.loadItems = function () {
    var items = localStorage !== null ? localStorage[this.cartName + '_items'] : null;
    if (items !== null && JSON !== null) {
        try {
            items = JSON.parse(items);
            for (var i = 0; i < items.length; i++) {
                var item = items[i];

                if (this.pflag) {
                    if (item.sku !== null && item.name !== null && item.price !== null) {
                        item = new CartItem(item.sku, item.name, item.slug, item.mrp, item.price, item.quantity, item.image, item.category, item.size, item.weight, item.status, item.publisher, item.publisheruid, item.advertiser, item.uid, item.vid);
                        this.items.push(item);
                        this.skuArray.push(item.sku);
                        this.variantsArray.push(item.vid);
                        // this.totalWeight = item.weight;
                    } else {
                        if (item.sku !== null && item.name !== null) {
                            item = new CartItem(item.sku, item.name, item.slug, item.mrp, item.price, item.quantity, item.image, item.category, item.size, item.weight, item.status, item.publisher, item.publisheruid, item.advertiser, item.uid, item.vid);
                            this.items.push(item);
                            this.skuArray.push(item.sku);
                            this.variantsArray.push(item.vid);
                            // this.totalWeight = item.weight;
                        }
                    }
                }
            }
        } catch (err) {
            // ignore errors while loading...
        }
    }
};

// save items to local storage
ShoppingCart.prototype.saveItems = function () {
    if (localStorage !== null && JSON !== null) {
        localStorage[this.cartName + '_items'] = JSON.stringify(this.items);
    }
};

// adds an item to the cart
ShoppingCart.prototype.addItem = function (product, quantity) {

    if (this.pflag) {
        quantity = this.toNumber(quantity);
        if (quantity !== 0) {
            // update quantity for existing item
            var found = false;
            for (var i = 0; i < this.items.length && !found; i++) {
                var item = this.items[i];
                if (item.sku === product.sku && item.vid === product.vid) {
                    found = true;
                    item.quantity = this.toNumber(this.toNumber(item.quantity) + quantity);
                    if (item.weight == null) {
                        item.weight = 0;
                    }
                    item.slug = product.slug;
                    if (item.quantity <= 0) {
                        this.items.splice(i, 1);
                        this.skuArray.splice(i, 1);
                        this.variantsArray.splice(i, 1);
                    }
                }
            }

            // new item, add now
            if (!found && product.price) {
                var itm = new CartItem(product.sku, product.name, product.slug, product.mrp, product.price, product.quantity, product.image, product.category, product.size, product.weight, product.status, product.publisher, product.publisheruid, product.advertiser, product.uid, product.vid);
                this.items.push(itm);
                this.skuArray.push(itm.sku);
                this.variantsArray.push(itm.vid);
            }

            // save changes
            this.saveItems();
        }
    } else {
        if (quantity !== 0) {
            // update quantity for existing item
            var found = false;
            for (var i = 0; i < this.items.length && !found; i++) {
                var item = this.items[i];
                if (item.sku === product.sku && item.vid === product.vid) {
                    found = true;
                    item.quantity = this.toNumber(this.toNumber(item.quantity) + quantity);
                    if (item.weight == null) {
                        item.weight = 0;
                    }
                    item.slug = product.slug;
                    if (item.quantity <= 0) {
                        this.items.splice(i, 1);
                        this.skuArray.splice(i, 1);
                        this.variantsArray.splice(i, 1);
                    }
                }
            }

            // new item, add now
            if (!found) {
                var itm = new CartItem(product.sku, product.name, product.slug, product.mrp, product.price, product.quantity, product.image, product.category, product.size, product.weight, product.status, product.publisher, product.publisheruid, product.advertiser, product.uid, product.vid);
                this.items.push(itm);
                this.skuArray.push(itm.sku);
                this.variantsArray.push(itm.vid);
            }

            // save changes
            this.saveItems();
        }
    }
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getBestShipper = function () {
    var cartValue = this.getTotalPrice();
    var totalWeight = this.getTotalWeight();

    //return 0;
    return this.Shipping.best.query({ country: this.Settings.country.name, weight: totalWeight, cartValue: cartValue });
};

// get handling fee
ShoppingCart.prototype.getHandlingFee = function () {
    var cartValue = this.getTotalPrice();

    // return cartValue * 0.05 ;
    return 0;
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalWeight = function (sku) {
    var totalWeight = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            totalWeight += this.toNumber(item.quantity * item.weight);
        }
    }
    return totalWeight;
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalPrice = function (sku) {
    var total = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            total += this.toNumber(item.quantity * item.price);
        }
    }
    return total;
};

ShoppingCart.prototype.checkCart = function (id, vid) {
    // Returns false when there is item in cart
    if (!_.includes(this.skuArray, id) || !_.includes(this.variantsArray, vid)) {
        return true;
    } else {
        return false;
    }
};
ShoppingCart.prototype.getQuantity = function (sku, vid) {
    // Get quantity based on the combination of product_id and variant_id
    for (var i = 0; i < this.items.length; i++) {
        if (this.items[i].sku === sku && this.items[i].vid === vid) {
            return this.items[i].quantity;
        }
    }
};

// get the total price for all items currently in the cart
ShoppingCart.prototype.getTotalCount = function (sku) {
    var count = 0;
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        if (sku === undefined || item.sku === sku) {
            count += this.toNumber(item.quantity);
        }
    }
    return count;
};

// clear the cart
ShoppingCart.prototype.clearItems = function () {
    this.items = [];
    this.skuArray = [];
    this.variantsArray = [];
    this.saveItems();
};

ShoppingCart.prototype.toNumber = function (value) {
    value = value * 1;
    return isNaN(value) ? 0 : value;
};
ShoppingCart.prototype.flagOn = function () {
    this.flag = true;
};
ShoppingCart.prototype.flagOff = function () {
    this.flag = false;
};

// define checkout parameters
ShoppingCart.prototype.addCheckoutParameters = function (serviceName, merchantID, options) {

    // check parameters
    if (serviceName != "PayPal" && serviceName != "PayNow" && serviceName != "Google" && serviceName != "Stripe" && serviceName != "COD") {
        throw "serviceName must be 'PayPal' or 'Google' or 'Stripe' or 'Cash On Delivery'.";
    }
    // if (merchantID == null) {
    //     throw "A merchantID is required in order to checkout.";
    // }

    // save parameters
    this.checkoutParameters[serviceName] = new checkoutParameters(serviceName, merchantID, options);
};

// check out
ShoppingCart.prototype.checkout = function (serviceName, clearCart) {

    serviceName = { name: serviceName.paymentMethod.name, email: serviceName.paymentMethod.email, options: serviceName };

    this.addCheckoutParameters(serviceName.name, serviceName.email, serviceName.options);

    // select serviceName if we have to
    if (serviceName.name == null) {
        var p = this.checkoutParameters[Object.keys(this.checkoutParameters)[0]];
        serviceName = p.serviceName;
    }

    // sanity
    if (serviceName.name == null) {
        throw "Use the 'addCheckoutParameters' method to define at least one checkout service.";
    }

    // go to work
    var parms = this.checkoutParameters[serviceName.name];
    if (parms == null) {
        throw "Cannot get checkout parameters for '" + serviceName.name + "'.";
    }
    switch (parms.serviceName) {
        case "PayPal":
            this.checkoutPayPal(parms, clearCart);
            break;
        case "PayNow":
            this.checkoutPayNow(parms, clearCart);
            break;
        case "Google":
            this.checkoutGoogle(parms, clearCart);
            break;
        case "Stripe":
            this.checkoutStripe(parms, clearCart);
            break;
        case "COD":
            this.checkoutCOD(parms, clearCart);
            break;
        default:
            throw "Unknown checkout service: " + parms.serviceName;
    }
};

ShoppingCart.prototype.checkoutPayPal = function (parms, clearCart) {

    var vm = this;

    for (var i = 0; i < this.items.length; i++) {
        this.items[i].image = null;
    }

    var opt = parms.options;
    var options = { uid: opt.uid, email: opt.email, recipient_name: opt.name, phone: opt.phone, line1: opt.address, city: opt.city, postal_code: opt.zip, country_code: opt.country_code, discount: opt.couponAmount, shipping: 0, currency_code: opt.currency_code, exchange_rate: opt.exchange_rate };
    var data = {
        cmd: "_cart",
        business: 'smkorera@gmail.com',
        upload: "1",
        rm: "2",
        charset: "utf-8",
        data: this.items,
        options: options
    };
    var form = $('<form/></form>');
    form.attr("id", "paypalForm");
    form.attr("action", "/api/pay/prepare");
    form.attr("method", "GET");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

ShoppingCart.prototype.checkoutPayNow = function (parms, clearCart) {

    for (var i = 0; i < this.items.length; i++) {
        this.items[i].image = null;
    }

    var vm = this;
    var opt = parms.options;
    var options = { uid: opt.uid, email: opt.email, recipient_name: opt.name, phone: opt.phone, line1: opt.address, city: opt.city, postal_code: opt.zip, country_code: opt.country_code, discount: opt.couponAmount, shipping: 0, currency_code: opt.currency_code, exchange_rate: opt.exchange_rate };
    var data = {
        business: 'smkorera@gmail.com',
        upload: "1",
        rm: "2",
        charset: "utf-8",
        data: this.items,
        options: options
    };
    var form = $('<form/></form>');
    form.attr("id", "paypalForm");
    form.attr("action", "/api/pay/prepare");
    form.attr("method", "GET");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

// check out using COD
ShoppingCart.prototype.checkoutCOD = function (parms, clearCart) {
    var vm = this;
    var opt = parms.options;
    var data = opt.items;
    var total = Math.round(this.getTotalPrice() + this.getHandlingFee() - opt.couponAmount);
    var subtotal = Math.round(this.getTotalPrice() - opt.couponAmount);

    var items = [];

    if (isNaN(opt.exchange_rate) || opt.exchange_rate === '') // If exchange rate is not a float value, force this to 1
        opt.exchange_rate = 1;
    for (var k = 0; k < data.length; k++) {
        var i = data[k];
        items.push({ sku: i.sku, name: i.name, url: i.image, description: i.slug, publisher: i.publisher, publisheruid: i.publisheruid, price: Math.round(i.price), quantity: i.quantity, currency: opt.currency_code });
    }
    if (opt.discount > 0) items.push({ sku: '#', name: 'Coupon Discount', url: '-', description: '-', price: -Math.round(opt.discount), quantity: 1, currency: opt.currency_code });

    var orderDetails = {
        uid: opt.uid,
        email: opt.email,
        phone: opt.phone,
        address: { country_code: opt.country_code, postal_code: opt.zip, state: opt.state, city: opt.city, line1: opt.address, recipient_name: opt.name },
        payment: { state: opt.payment },
        amount: { total: total, currency: opt.currency_code, details: { shipping: Math.round(this.getHandlingFee()), subtotal: subtotal } },
        exchange_rate: opt.exchange_rate,
        items: items,
        status: 'Payment Pending',
        payment_method: 'COD'
    };

    // When order.status is null, the client will replace with the Array[0] of order status at Settings page
    this.Order.save(orderDetails, function (data, err) {
        if (clearCart) vm.clearItems();
        vm.$state.go('order');
    });
};

// check out using Google Wallet
// for details see:
// developers.google.com/checkout/developer/Google_Checkout_Custom_Cart_How_To_HTML
// developers.google.com/checkout/developer/interactive_demo
ShoppingCart.prototype.checkoutGoogle = function (parms, clearCart) {

    // global data
    var data = {};

    // item data
    for (var i = 0; i < this.items.length; i++) {
        var item = this.items[i];
        var ctr = i + 1;
        data["item_name_" + ctr] = item.sku;
        data["item_description_" + ctr] = item.name;
        data["item_price_" + ctr] = item.price.toFixed(2);
        data["item_quantity_" + ctr] = item.quantity;
        data["item_merchant_id_" + ctr] = parms.merchantID;
    }

    // build form
    var form = $('<form/></form>');
    // NOTE: in production projects, use the checkout.google url below;
    // for debugging/testing, use the sandbox.google url instead.
    //form.attr("action", "https://checkout.google.com/api/checkout/v2/merchantCheckoutForm/Merchant/" + parms.merchantID);
    form.attr("action", "https://sandbox.google.com/checkout/api/checkout/v2/checkoutForm/Merchant/" + parms.merchantID);
    form.attr("method", "POST");
    form.attr("style", "display:none;");
    this.addFormFields(form, data);
    if (!parms.options) {
        parms.options = {};
    }
    this.addFormFields(form, parms.options);
    $("body").append(form);

    // submit form
    this.clearCart = clearCart == null || clearCart;
    form.submit();
    form.remove();
};

// check out using Stripe
// for details see:
// https://stripe.com/docs/checkout
ShoppingCart.prototype.checkoutStripe = function (parms, clearCart) {
    var vm = this;
    var opt = parms.options;
    var data = opt.items;
    var total = Math.round((this.getTotalPrice() + opt.shipping.charge - opt.couponAmount) * opt.exchange_rate * 100) / 100;
    var subtotal = Math.round((this.getTotalPrice() - opt.couponAmount) * opt.exchange_rate * 100) / 100;
    parms.options.total = total;

    var items = [];

    if (isNaN(opt.exchange_rate) || opt.exchange_rate === '') // If exchange rate is not a float value, force this to 1
        opt.exchange_rate = 1;
    for (var k = 0; k < data.length; k++) {
        var i = data[k];
        items.push({ sku: i.sku, name: i.name, url: i.image, description: i.slug, price: Math.round(i.price * opt.exchange_rate * 100) / 100, quantity: i.quantity, currency: opt.currency_code });
    }
    if (opt.discount > 0) items.push({ sku: '#', name: 'Coupon Discount', url: '-', description: '-', price: -Math.round(opt.discount * opt.exchange_rate * 100) / 100, quantity: 1, currency: opt.currency_code });

    parms.options.items = items;
    this.Pay.stripe.save(parms.options, function (res) {
        if (clearCart) vm.clearItems();
        vm.$state.go('order', { id: res.id, msg: 'Stripe payment successful' });
    }, function (err) {
        vm.$state.go('checkout', { id: err.data.id, msg: err.data.message });
    });
};

// utility methods
ShoppingCart.prototype.addFormFields = function (form, data) {
    if (data !== null) {
        $.each(data, function (name, value) {
            if (value !== null) {
                var input = $('<input></input>').attr('type', 'hidden').attr('name', name).val(JSON.stringify(value));
                form.append(input);
            }
        });
    }
};

angular.module('mediaboxApp').factory('Cart', function (Settings, Shipping, Order, Mail, Pay, appConfig, $state) {
    var myCart = new ShoppingCart('mShop', Settings, Shipping, Order, Mail, Pay, appConfig, $state);
    return { cart: myCart };
});
//# sourceMappingURL=cart.service.js.map

'use strict';

angular.module('mediaboxApp').factory('Product', ['$resource', '$cacheFactory', function ($resource, $cacheFactory) {
    var obj = {};
    obj = $resource('/api/products/:id', null, { 'update': { method: 'PUT' } });
    obj.count = $resource('/api/products/count');
    obj.pr = $resource('/api/products/priceRange');
    obj.pub = $resource('/api/products/products', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('Shipping', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/shippings/:id', null, { 'update': { method: 'PUT' } });
    obj.best = $resource('/api/shippings/best', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('Category', ['$resource', '$cacheFactory', function ($resource, $cacheFactory) {
    var obj = {};
    obj = $resource('/api/categories/:id', null, {
        'update': { method: 'PUT' },
        'query': { method: 'GET', isArray: true, cache: true } });
    obj.loaded = $resource('/api/categories/loaded', null, {
        'update': { method: 'PUT' },
        'query': { method: 'GET', isArray: true, cache: true } });
    obj.tree = $resource('/api/categories/tree', null, {
        'update': { method: 'PUT' },
        'query': { method: 'GET', isArray: true, cache: true } });
    return obj;
}]).factory('Cat', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/cats/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.headings = $resource('/api/cats/headings');
    return obj;
}]).factory('Country', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/countries/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.active = $resource('/api/countries/active', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    return obj;
}]).factory('Brand', ['$resource', '$rootScope', function ($resource, $rootScope) {
    var obj = {};

    var pageFlag = $rootScope.page;

    if (pageFlag == "OnlineStore") {} else if (pageFlag == "magazines") {

        return $resource('/api/brandmgs/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    } else if (pageFlag == "Ticketing") {

        return $resource('/api/brands/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    } else if (pageFlag == "television") {

        return $resource('/api/brandtvs/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    } else {

        return $resource('/api/brands/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    }
}]).factory('BrandMG', ['$resource', function ($resource) {
    return $resource('/api/brandmgs/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
}]).factory('BrandTV', ['$resource', function ($resource) {
    return $resource('/api/brandtvs/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
}]).factory('Coupon', ['$resource', function ($resource) {
    return $resource('/api/coupons/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
}]).factory('Address', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/address/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.my = $resource('/api/address/my', null);
    return obj;
}]).factory('Feature', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/features/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.group = $resource('/api/features/group', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    return obj;
}]).factory('Inventory', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/inventory/:id', null, { 'update': { method: 'PUT' } });
    obj.group = $resource('/api/inventory/group', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('KeyFeature', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/keyfeatures/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.group = $resource('/api/keyfeatures/group', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    return obj;
}]).factory('Media', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/media/:id', null, { 'update': { method: 'PUT' } });
    obj.my = $resource('/api/media/my/:id', null, { 'update': { method: 'PUT' } });
    obj.pub = $resource('/api/media/pub/:id', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('Statistic', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/statistics/:id', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    obj.group = $resource('/api/statistics/group', null, { 'update': { method: 'PUT' }, 'query': { method: 'GET', isArray: true, cache: true } });
    return obj;
}]).factory('PaymentMethod', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/PaymentMethods/:id', null, { 'update': { method: 'PUT' } });
    obj.active = $resource('/api/PaymentMethods/active', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('Order', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/orders/:id', null, { 'update': { method: 'PUT' } });
    obj.my = $resource('/api/orders/my', null, { 'update': { method: 'PUT' } });
    obj.pub = $resource('/api/orders/pub', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('Campaign', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/campaigns/:id', null, { 'update': { method: 'PUT' } });
    obj.my = $resource('/api/campaigns/my', null, { 'update': { method: 'PUT' } });
    obj.pub = $resource('/api/campaigns/pub', null, { 'update': { method: 'PUT' } });
    return obj;
}]).factory('CampaignCalendar', ['$resource', function ($resource) {
    return $resource('/api/campaigns/pubcalendar');
}]).factory('Pay', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/pay/:id', null, { 'update': { method: 'PUT' } });
    obj.prepare = $resource('/api/pay/prepare');
    obj.stripe = $resource('/api/pay/stripe');
    obj.paynow = $resource('/api/pay/paynow');
    return obj;
}]).factory('Review', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/reviews/:id', null, { 'update': { method: 'PUT' } });
    obj.my = $resource('/api/reviews/my');
    return obj;
}]).factory('Wishlist', ['$resource', function ($resource) {
    var obj = {};
    obj = $resource('/api/wishlists/:id', null, { 'update': { method: 'PUT' } });
    obj.my = $resource('/api/wishlists/my');
    return obj;
}]).factory('Mail', ['$resource', function ($resource) {
    return $resource('/api/sendmail/:id');
}]).factory('Customers', ['$resource', function ($resource) {
    return $resource('/api/orders/customers');
}]).factory('ProductDetails', ['$resource', function ($resource) {
    return $resource('/api/products/productdetails');
}]).factory('EmployeeList', ['$resource', function ($resource) {
    return $resource('/api/products/productlist');
}]).factory('EmployeeListValues', ['$resource', function ($resource) {
    return $resource('/api/products/productlistvalues');
}]).factory('EmployeeSales', ['$resource', function ($resource) {
    return $resource('/api/orders/productsalescalendar');
}]).factory('EmployeeTeamSales', ['$resource', function ($resource) {
    return $resource('/api/orders/productsales');
}]).factory('EmployeeAverageSales', ['$resource', function ($resource) {
    return $resource('/api/orders/productaveragesales');
}]).factory('EmployeeQuarterSales', ['$resource', function ($resource) {
    return $resource('/api/orders/productquarterlysales');
}]).factory('ProductSales', ['$resource', function ($resource) {
    return $resource('/api/orders/productsalesreport');
}]).factory('Orders', ['$resource', function ($resource) {
    return $resource('/api/orders/orders');
}]).factory('OrdersSum', ['$resource', function ($resource) {
    return $resource('/api/orders/allsum');
}]).factory('OrderInformation', ['$resource', function ($resource) {
    return $resource('/api/orders/orderinformation');
}]).factory('CountryCustomers', ['$resource', function ($resource) {
    return $resource('/api/orders/countycustomers');
}]).factory('TopSellingProducts', ['$resource', function ($resource) {
    return $resource('/api/orders/topsellingproducts');
}]).factory('scale', function () {
    return chroma.scale(["#ade1fb", "#097dc6"]).domain([1, 100]);
}).factory('OrderDetails', ['$resource', function ($resource) {
    return $resource('/api/orders/orderdetails');
}]);
//# sourceMappingURL=factory.service.js.map

'use strict';

angular.module('mediaboxApp').filter('localPrice', function (Settings, $filter) {
  return function (input, key) {
    var input = Math.round(input / Settings.currency.exchange_rate * 100) / 100;
    if (!input) {
      return 0;
    }
    if (parseFloat(input) != 0) {
      return $filter('currency')(input, Settings.currency.symbol);
    }
    return $filter('currency')(input);
  };
}).filter('pluralize', function () {
  return function (noun, key) {
    var plural = noun;
    if (noun.substr(noun.length - 2) == 'us') {
      plural = plural.substr(0, plural.length - 2) + 'i';
    } else if (noun.substr(noun.length - 2) == 'ch' || noun.charAt(noun.length - 1) == 'x' || noun.charAt(noun.length - 1) == 's') {
      plural += 'es';
    } else if (noun.charAt(noun.length - 1) == 'y' && ['a', 'e', 'i', 'o', 'u'].indexOf(noun.charAt(noun.length - 2)) == -1) {
      plural = plural.substr(0, plural.length - 1) + 'ies';
    } else if (noun.substr(noun.length - 2) == 'is') {
      plural = plural.substr(0, plural.length - 2) + 'es';
    } else {
      plural += 's';
    }
    return plural;
  };
}).filter('unique', function () {
  return function (input, key) {
    var unique = {};
    var uniqueList = [];
    for (var i = 0; i < input.length; i++) {
      if (typeof unique[input[i][key]] === 'undefined') {
        unique[input[i][key]] = '';
        uniqueList.push(input[i]);
      }
    }
    return uniqueList;
  };
}).filter('labelCase', [function () {
  return function (input) {
    if (!input) {
      return input;
    } else {
      input = input.replace(/([A-Z])/g, ' $1');
      return input[0].toUpperCase() + input.slice(1);
    }
  };
}]).filter('camelCase', [function () {
  return function (input) {
    if (!input) {
      return input;
    } else {
      return input.toLowerCase().replace(/ (\w)/g, function (match, letter) {
        return letter.toUpperCase();
      });
    }
  };
}]).filter('reverse', [function () {
  return function (items) {
    if (items) {
      return items.slice().reverse();
    } else {
      return items;
    }
  };
}]);
//# sourceMappingURL=filters.filter.js.map

'use strict';

angular.module('mediaboxApp').directive('footer', function ($mdDialog, $http, $mdMedia) {
    return {
        templateUrl: 'components/footer/footer.html',
        restrict: 'E',
        link: function link(scope, element) {
            element.addClass('footer');
            scope.addDialog = function () {
                $mdDialog.show({
                    templateUrl: 'components/footer/contact-form.html',
                    controller: function controller($scope, $mdDialog, Toast) {
                        $scope.hide = function () {
                            $mdDialog.hide();
                        };
                        $scope.cancel = function () {
                            $mdDialog.cancel();
                        };
                        $scope.send = function (mail) {
                            $http.post('/api/sendmail', {
                                from: 'Mediabox admin@mediabox.co.zw>',
                                to: 'support@mediabox.co.zw',
                                subject: 'Message from Mediabox',
                                text: mail.message
                            });
                            $mdDialog.hide(mail);
                            Toast.show({ type: 'success', text: 'Thanks for contacting us.' });
                        };
                    }
                }).then(function (answer) {
                    scope.alert = 'You said the information was "' + answer + '".';
                }, function () {
                    scope.alert = 'You cancelled the dialog.';
                });
            };
            scope.screenIsBig = $mdMedia('gt-sm'); // Erase the parent reference from md-toast the (md-toast bug)
        }
    };
});
//# sourceMappingURL=footer.directive.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').controller('LeftMenuController', LeftMenuController);

	LeftMenuController.$inject = ['Auth', '$mdSidenav', '$log', '$timeout', '$scope', 'Settings', '$mdMedia'];

	function LeftMenuController(Auth, $mdSidenav, $log, $timeout, $scope, Settings, $mdMedia) {
		var vm = this;
		// $scope.$watch(function() { return $mdMedia('lg'); }, function(big) {
		//   vm.bigScreen = big;
		// });

		vm.logout = Auth.logout;
		vm.isLoggedIn = Auth.isLoggedIn;
		vm.currentUser = Auth.getCurrentUser();
		vm.hasRole = Auth.hasRole;
		vm.menu = Settings.menu;
		vm.toggleLeft = buildDelayedToggler('left');
		vm.toggleRight = buildToggler('right');
		vm.isOpenLeft = function () {
			return $mdSidenav('left').isOpen();
		};
		vm.isOpenRight = function () {
			return $mdSidenav('right').isOpen();
		};
		/**
   * Supplies a function that will continue to operate until the
   * time is up.
   */
		function debounce(func, wait, context) {
			var timer;
			return function debounced() {
				var context = $scope,
				    args = Array.prototype.slice.call(arguments);
				$timeout.cancel(timer);
				timer = $timeout(function () {
					timer = undefined;
					func.apply(context, args);
				}, wait || 10);
			};
		}
		/**
   * Build handler to open/close a SideNav; when animation finishes
   * report completion in console
   */
		function buildDelayedToggler(navID) {
			return debounce(function () {
				$mdSidenav(navID).toggle().then(function () {
					$log.debug('toggle ' + navID + ' is done');
				});
			}, 200);
		}
		function buildToggler(navID) {
			return function () {
				$mdSidenav(navID).toggle().then(function () {
					$log.debug('toggle ' + navID + ' is done');
				});
			};
		}
	}
})();
//# sourceMappingURL=left-menu.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('leftMenu', function () {
  return {
    templateUrl: 'components/left-menu/left-menu.html',
    restrict: 'EA',
    controller: 'LeftMenuController as left',
    link: function link(scope, element, attrs) {}
  };
});
//# sourceMappingURL=left-menu.directive.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('PageOptions', PageOptions);

	function PageOptions() {
		var obj = {};
		obj.leftmenu = false;
		return obj;
	}
})();
//# sourceMappingURL=left-menu.service.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('AlphabetColor', function AlphabetColor() {
		var colors = ['#f9a43e', '#59a2be', '#67bf74', '#f58559', '#e4c62e', '#f16364', '#2093cd', '#ad62a7'];
		var numberOfColors = colors.length;

		return getColor;

		function hashCode(str) {
			var hash = 0,
			    length = str.length,
			    i,
			    chr;

			if (length === 0) {
				return hash;
			}

			for (i = 0; i < length; i++) {
				chr = str.charCodeAt(i);
				hash = (hash << 5) - hash + chr;
				hash |= 0; // Convert to 32bit integer
			}

			return hash;
		}

		function getColor(string) {
			var color = Math.abs(hashCode(string.charAt(0))) % numberOfColors;
			return colors[color];
		}
	}).directive('listImage', listImage);

	// AlphabetColor.$inject = ['_'];


	listImage.$inject = ['$mdTheming', 'AlphabetColor'];

	function listImage($mdTheming, AlphabetColor) {
		var templateString = ['<div ng-style="{background: bgColor}">', '<span>{{::firstLetter}}</span>', '</div>'].join('');

		return {
			restrict: 'E',

			template: templateString,

			link: function link($scope, element, attrs) {
				$mdTheming(element);
				$scope.firstLetter = attrs.string.charAt(0);
				$scope.bgColor = AlphabetColor($scope.firstLetter);
			}
		};
	}
})();
//# sourceMappingURL=list-image.directive.js.map

'use strict';

angular.module('mediaboxApp').factory('lodash', function () {

    // add LodashService dependencies to inject
    LodashService.$inject = ['$window'];

    /**
    	 * LodashService constructor
     *
     * @param $window
     * @returns {exports._|*}
     * @constructor
     */
    function LodashService($window) {
        // remove lodash from global object
        var _ = $window._;
        delete $window._;

        // mixin functions
        _.mixin({ 'groupFilter': groupFilter });

        return _;

        /**
         * Group an array of objects into several arrays by the given
         * criteria, each group sorted by groupSort, each group consists
         * of items named groupItemsName.
         *
         * @param data
         * @param criteria
         * @param groupSort
         * @param groupItemsName
         * @returns {*}
         */
        function groupFilter(data, criteria, groupSort, groupItemsName) {
            if (!data || !data.length) {
                return data;
            }

            groupItemsName = groupItemsName || 'items';

            return _.chain(data).sortBy(groupSort).groupBy(criteria).pairs().map(function (currentItem) {
                return _.object(_.zip(['key', groupItemsName], currentItem));
            }).sortBy('key').value();
        }
    }
});
//# sourceMappingURL=lodash.service.js.map

'use strict';

(function () {
    'use strict';

    angular.module('mediaboxApp').factory('LoginModal', LoginModal).factory('CpModal', CpModal).controller('LoginModalController', LoginModalController).controller('SignUpModalController', SignUpModalController).controller('CpModalController', CpModalController).controller('tabsCtrl', tabsCtrl);

    function tabsCtrl($scope) {
        this.onTabSelected = function (tab) {
            this.tab = tab;
        };
    }
    function CpModal($mdDialog) {
        var obj = {};
        obj.show = function () {
            $mdDialog.show({
                controller: 'CpModalController as cp',
                templateUrl: 'components/login-modal/cp.html',
                clickOutsideToClose: false,
                parent: angular.element(document.body)
            }).then(function (answer) {
                // this.status = 'You closed the dialog.';
            }, function () {
                // this.status = 'You cancelled the dialog.';
            });
        };
        return obj;
    }

    function LoginModal($mdDialog, $state) {
        var obj = {};
        obj.show = function (nextRoute, reload) {
            $mdDialog.show({
                // controller: 'LoginModalController as login',
                templateUrl: 'components/login-modal/index.html',
                clickOutsideToClose: false,
                parent: angular.element(document.body),
                openFrom: { top: 500, width: 30, height: 80 },
                closeTo: { left: 1500 }
            }).then(function (answer) {
                $state.go(nextRoute, null, { reload: reload }); // Should be refreshed, else the user info will not be attached
            }, function () {
                // $scope.status = 'You cancelled the dialog.';
            });
        };
        return obj;
    }

    function CpModalController($mdDialog, Toast, Auth, Settings) {
        this.errors = {};
        this.submitted = false;
        this.Settings = Settings;
        this.Toast = Toast;
        this.Auth = Auth;
        this.close = function () {
            $mdDialog.cancel();
        };
        this.changePassword = function (form) {
            var _this = this;

            var vm = this;
            this.loading = true;
            this.submitted = true;
            if (form.$valid) {
                this.Auth.changePassword(this.user.oldPassword, this.user.newPassword).then(function () {
                    _this.message = 'Password successfully changed.';
                    $mdDialog.hide();
                    _this.loading = false;
                }).catch(function () {
                    form.password.$setValidity('mongoose', false);
                    _this.errors.other = 'Incorrect password';
                    _this.message = '';
                    _this.loading = false;
                });
            } else {
                this.Toast.show({ type: 'error', text: 'Error occured while changing password' });
            }
        };
    }
    function SignUpModalController($mdDialog, Auth) {
        this.errors = {};
        this.signupSelected = true;
        this.submitted = false;
        this.Auth = Auth;
        this.close = close;
        this.register = register;
        function close() {
            $mdDialog.cancel();
        }
        function register(form) {
            var _this2 = this;

            this.submitted = true;
            if (form.$valid) {
                this.loading = true;
                this.Auth.createUser({
                    name: this.user.name,
                    email: this.user.email,
                    phone: this.user.phone,
                    company: this.user.company,
                    website: this.user.website,
                    role: this.user.role,
                    password: this.user.password
                }).then(function () {
                    _this2.loading = false;
                    $mdDialog.hide();
                }).catch(function (err) {
                    err = err.data;
                    _this2.errors = {};
                    _this2.loading = false;
                    // Update validity of form fields that match the sequelize errors
                    if (err.name) {
                        angular.forEach(err.errors, function (field) {
                            form[field.path].$setValidity('mongoose', false);
                            _this2.errors[field.path] = field.message;
                        });
                    }
                });
            }
        }
    }
    function LoginModalController($mdDialog, Auth, $state) {
        var vm = this;
        vm.create = createUser;
        vm.login = login;
        vm.close = close;
        vm.goForgot = goForgot;
        vm.user = {};
        vm.errors = {};
        vm.submitted = false;
        vm.Auth = Auth;

        function goForgot(params) {
            close();
            $state.go('forgot', params);
        }
        function close() {
            $mdDialog.cancel();
        }
        function createUser(form) {}
        function login(form) {
            var _this3 = this;

            this.submitted = true;
            if (form.$valid) {
                this.loading = true;
                this.Auth.login({
                    email: this.user.email,
                    password: this.user.password
                }).then(function () {
                    _this3.loading = false;
                    $mdDialog.hide();
                }).catch(function (err) {
                    _this3.errors.other = err.message;
                    _this3.loading = false;
                });
            }
        }
    }
})();
//# sourceMappingURL=modal.service.js.map

"use strict";

(function () {
    "use strict";
    /* global moment, angular */

    var module = angular.module("mdPickers", ["ngMaterial", "ngAnimate", "ngAria"]);

    module.config(["$mdIconProvider", "mdpIconsRegistry", function ($mdIconProvider, mdpIconsRegistry) {
        angular.forEach(mdpIconsRegistry, function (icon, index) {
            $mdIconProvider.icon(icon.id, icon.url);
        });
    }]);

    module.run(["$templateCache", "mdpIconsRegistry", function ($templateCache, mdpIconsRegistry) {
        angular.forEach(mdpIconsRegistry, function (icon, index) {
            $templateCache.put(icon.url, icon.svg);
        });
    }]);
    module.constant("mdpIconsRegistry", [{
        id: 'mdp-chevron-left',
        url: 'mdp-chevron-left.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }, {
        id: 'mdp-chevron-right',
        url: 'mdp-chevron-right.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }, {
        id: 'mdp-access-time',
        url: 'mdp-access-time.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>'
    }, {
        id: 'mdp-event',
        url: 'mdp-event.svg',
        svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'
    }]);
    module.directive("ngMessage", ["$mdUtil", function ($mdUtil) {
        return {
            restrict: "EA",
            priority: 101,
            compile: function compile(element) {
                var inputContainer = $mdUtil.getClosest(element, "mdp-time-picker", true) || $mdUtil.getClosest(element, "mdp-date-picker", true);

                // If we are not a child of an input container, don't do anything
                if (!inputContainer) return;

                // Add our animation class
                element.toggleClass('md-input-message-animation', true);

                return {};
            }
        };
    }]);
    /* global moment, angular */

    function DatePickerCtrl($scope, $mdDialog, $mdMedia, $timeout, currentDate, options) {
        var self = this;

        this.date = moment(currentDate);
        this.minDate = options.minDate && moment(options.minDate).isValid() ? moment(options.minDate) : null;
        this.maxDate = options.maxDate && moment(options.maxDate).isValid() ? moment(options.maxDate) : null;
        this.displayFormat = options.displayFormat || "ddd, MMM DD";
        this.dateFilter = angular.isFunction(options.dateFilter) ? options.dateFilter : null;
        this.selectingYear = false;

        // validate min and max date
        if (this.minDate && this.maxDate) {
            if (this.maxDate.isBefore(this.minDate)) {
                this.maxDate = moment(this.minDate).add(1, 'days');
            }
        }

        if (this.date) {
            // check min date
            if (this.minDate && this.date.isBefore(this.minDate)) {
                this.date = moment(this.minDate);
            }

            // check max date
            if (this.maxDate && this.date.isAfter(this.maxDate)) {
                this.date = moment(this.maxDate);
            }
        }

        this.yearItems = {
            currentIndex_: 0,
            PAGE_SIZE: 5,
            START: self.minDate ? self.minDate.year() : 1900,
            END: self.maxDate ? self.maxDate.year() : 0,
            getItemAtIndex: function getItemAtIndex(index) {
                if (this.currentIndex_ < index) this.currentIndex_ = index;

                return this.START + index;
            },
            getLength: function getLength() {
                return Math.min(this.currentIndex_ + Math.floor(this.PAGE_SIZE / 2), Math.abs(this.START - this.END) + 1);
            }
        };

        $scope.$mdMedia = $mdMedia;
        $scope.year = this.date.year();

        this.selectYear = function (year) {
            self.date.year(year);
            $scope.year = year;
            self.selectingYear = false;
            self.animate();
        };

        this.showYear = function () {
            self.yearTopIndex = self.date.year() - self.yearItems.START + Math.floor(self.yearItems.PAGE_SIZE / 2);
            self.yearItems.currentIndex_ = self.date.year() - self.yearItems.START + 1;
            self.selectingYear = true;
        };

        this.showCalendar = function () {
            self.selectingYear = false;
        };

        this.cancel = function () {
            $mdDialog.cancel();
        };

        this.confirm = function () {
            var date = this.date;

            if (this.minDate && this.date.isBefore(this.minDate)) {
                date = moment(this.minDate);
            }

            if (this.maxDate && this.date.isAfter(this.maxDate)) {
                date = moment(this.maxDate);
            }

            $mdDialog.hide(date.toDate());
        };

        this.animate = function () {
            self.animating = true;
            $timeout(angular.noop).then(function () {
                self.animating = false;
            });
        };
    }

    module.provider("$mdpDatePicker", function () {
        var LABEL_OK = "OK",
            LABEL_CANCEL = "Cancel",
            DISPLAY_FORMAT = "ddd, MMM DD";

        this.setDisplayFormat = function (format) {
            DISPLAY_FORMAT = format;
        };

        this.setOKButtonLabel = function (label) {
            LABEL_OK = label;
        };

        this.setCancelButtonLabel = function (label) {
            LABEL_CANCEL = label;
        };

        this.$get = ["$mdDialog", function ($mdDialog) {
            var datePicker = function datePicker(currentDate, options) {
                if (!angular.isDate(currentDate)) currentDate = Date.now();
                if (!angular.isObject(options)) options = {};

                options.displayFormat = DISPLAY_FORMAT;

                return $mdDialog.show({
                    controller: ['$scope', '$mdDialog', '$mdMedia', '$timeout', 'currentDate', 'options', DatePickerCtrl],
                    controllerAs: 'datepicker',
                    clickOutsideToClose: true,
                    template: '<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }">' + '<md-dialog-content layout="row" layout-wrap>' + '<div layout="column" layout-align="start center">' + '<md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column">' + '<span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span>' + '<span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> ' + '</md-toolbar>' + '</div>' + '<div>' + '<div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear">' + '<md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex">' + '<div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year">' + '<span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span>' + '</div>' + '</md-virtual-repeat-container>' + '</div>' + '<mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar>' + '<md-dialog-actions layout="row">' + '<span flex></span>' + '<md-button ng-click="datepicker.cancel()" aria-label="' + LABEL_CANCEL + '">' + LABEL_CANCEL + '</md-button>' + '<md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="' + LABEL_OK + '">' + LABEL_OK + '</md-button>' + '</md-dialog-actions>' + '</div>' + '</md-dialog-content>' + '</md-dialog>',
                    targetEvent: options.targetEvent,
                    locals: {
                        currentDate: currentDate,
                        options: options
                    },
                    skipHide: true
                });
            };

            return datePicker;
        }];
    });

    function CalendarCtrl($scope) {
        var self = this;
        this.dow = moment.localeData().firstDayOfWeek();

        this.weekDays = [].concat(moment.weekdaysMin().slice(this.dow), moment.weekdaysMin().slice(0, this.dow));

        this.daysInMonth = [];

        this.getDaysInMonth = function () {
            var days = self.date.daysInMonth(),
                firstDay = moment(self.date).date(1).day() - this.dow;

            if (firstDay < 0) firstDay = this.weekDays.length - 1;

            var arr = [];
            for (var i = 1; i <= firstDay + days; i++) {
                var day = null;
                if (i > firstDay) {
                    day = {
                        value: i - firstDay,
                        enabled: self.isDayEnabled(moment(self.date).date(i - firstDay).toDate())
                    };
                }
                arr.push(day);
            }

            return arr;
        };

        this.isDayEnabled = function (day) {
            return (!this.minDate || this.minDate <= day) && (!this.maxDate || this.maxDate >= day) && (!self.dateFilter || !self.dateFilter(day));
        };

        this.selectDate = function (dom) {
            self.date.date(dom);
        };

        this.nextMonth = function () {
            self.date.add(1, 'months');
        };

        this.prevMonth = function () {
            self.date.subtract(1, 'months');
        };

        this.updateDaysInMonth = function () {
            self.daysInMonth = self.getDaysInMonth();
        };

        $scope.$watch(function () {
            return self.date.unix();
        }, function (newValue, oldValue) {
            if (newValue && newValue !== oldValue) self.updateDaysInMonth();
        });

        self.updateDaysInMonth();
    }

    module.directive("mdpCalendar", ["$animate", function ($animate) {
        return {
            restrict: 'E',
            bindToController: {
                "date": "=",
                "minDate": "=",
                "maxDate": "=",
                "dateFilter": "="
            },
            template: '<div class="mdp-calendar">' + '<div layout="row" layout-align="space-between center">' + '<md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button>' + '<div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div>' + '<md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button>' + '</div>' + '<div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating">' + '<div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div>' + '</div>' + '<div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()">' + '<div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }">' + '<md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button>' + '</div>' + '<div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div>' + '</div>' + '</div>',
            controller: ["$scope", CalendarCtrl],
            controllerAs: "calendar",
            link: function link(scope, element, attrs, ctrl) {
                var animElements = [element[0].querySelector(".mdp-calendar-week-days"), element[0].querySelector('.mdp-calendar-days'), element[0].querySelector('.mdp-calendar-monthyear')].map(function (a) {
                    return angular.element(a);
                });

                scope.$watch(function () {
                    return ctrl.date.format("YYYYMM");
                }, function (newValue, oldValue) {
                    var direction = null;

                    if (newValue > oldValue) direction = "mdp-animate-next";else if (newValue < oldValue) direction = "mdp-animate-prev";

                    if (direction) {
                        for (var i in animElements) {
                            animElements[i].addClass(direction);
                            $animate.removeClass(animElements[i], direction);
                        }
                    }
                });
            }
        };
    }]);

    function formatValidator(value, format) {
        return !value || angular.isDate(value) || moment(value, format, true).isValid();
    }

    function minDateValidator(value, format, minDate) {
        var minDate = moment(minDate, "YYYY-MM-DD", true);
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !minDate.isValid() || date.isSameOrAfter(minDate);
    }

    function maxDateValidator(value, format, maxDate) {
        var maxDate = moment(maxDate, "YYYY-MM-DD", true);
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !maxDate.isValid() || date.isSameOrBefore(maxDate);
    }

    function filterValidator(value, format, filter) {
        var date = angular.isDate(value) ? moment(value) : moment(value, format, true);

        return !value || angular.isDate(value) || !angular.isFunction(filter) || !filter(date);
    }

    function requiredValidator(value, ngModel) {
        return value;
    }

    module.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function ($mdpDatePicker, $timeout) {
        return {
            restrict: 'E',
            require: 'ngModel',
            transclude: true,
            template: function template(element, attrs) {
                var noFloat = angular.isDefined(attrs.mdpNoFloat),
                    placeholder = angular.isDefined(attrs.mdpPlaceholder) ? attrs.mdpPlaceholder : "",
                    openOnClick = angular.isDefined(attrs.mdpOpenOnClick) ? true : false;

                return '<div layout layout-align="start start">' + '<md-button' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' class="md-icon-button" ng-click="showPicker($event)">' + '<md-icon md-svg-icon="mdp-event"></md-icon>' + '</md-button>' + '<md-input-container' + (noFloat ? ' md-no-float' : '') + ' md-is-error="isError()">' + '<input type="{{ ::type }}"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' aria-label="' + placeholder + '" placeholder="' + placeholder + '"' + (openOnClick ? ' ng-click="showPicker($event)" ' : '') + ' />' + '</md-input-container>' + '</div>';
            },
            scope: {
                "minDate": "=mdpMinDate",
                "maxDate": "=mdpMaxDate",
                "dateFilter": "=mdpDateFilter",
                "dateFormat": "@mdpFormat",
                "placeholder": "@mdpPlaceholder",
                "noFloat": "=mdpNoFloat",
                "openOnClick": "=mdpOpenOnClick",
                "disabled": "=?mdpDisabled"
            },
            link: {
                pre: function pre(scope, element, attrs, ngModel, $transclude) {},
                post: function post(scope, element, attrs, ngModel, $transclude) {
                    var inputElement = angular.element(element[0].querySelector('input')),
                        inputContainer = angular.element(element[0].querySelector('md-input-container')),
                        inputContainerCtrl = inputContainer.controller("mdInputContainer");

                    $transclude(function (clone) {
                        inputContainer.append(clone);
                    });

                    var messages = angular.element(inputContainer[0].querySelector("[ng-messages]"));

                    scope.type = scope.dateFormat ? "text" : "date";
                    scope.dateFormat = scope.dateFormat || "YYYY-MM-DD";
                    scope.model = ngModel;

                    scope.isError = function () {
                        return !ngModel.$pristine && !!ngModel.$invalid;
                    };

                    // update input element if model has changed
                    ngModel.$formatters.unshift(function (value) {
                        var date = angular.isDate(value) && moment(value);
                        if (date && date.isValid()) updateInputElement(date.format(scope.dateFormat));else updateInputElement(null);
                    });

                    ngModel.$validators.format = function (modelValue, viewValue) {
                        return formatValidator(viewValue, scope.dateFormat);
                    };

                    ngModel.$validators.minDate = function (modelValue, viewValue) {
                        return minDateValidator(viewValue, scope.dateFormat, scope.minDate);
                    };

                    ngModel.$validators.maxDate = function (modelValue, viewValue) {
                        return maxDateValidator(viewValue, scope.dateFormat, scope.maxDate);
                    };

                    ngModel.$validators.filter = function (modelValue, viewValue) {
                        return filterValidator(viewValue, scope.dateFormat, scope.dateFilter);
                    };

                    ngModel.$validators.required = function (modelValue, viewValue) {
                        return angular.isUndefined(attrs.required) || !ngModel.$isEmpty(modelValue) || !ngModel.$isEmpty(viewValue);
                    };

                    ngModel.$parsers.unshift(function (value) {
                        var parsed = moment(value, scope.dateFormat, true);
                        if (parsed.isValid()) {
                            if (angular.isDate(ngModel.$modelValue)) {
                                var originalModel = moment(ngModel.$modelValue);
                                originalModel.year(parsed.year());
                                originalModel.month(parsed.month());
                                originalModel.date(parsed.date());

                                parsed = originalModel;
                            }
                            return parsed.toDate();
                        } else return null;
                    });

                    // update input element value
                    function updateInputElement(value) {
                        inputElement[0].value = value;
                        inputContainerCtrl.setHasValue(!ngModel.$isEmpty(value));
                    }

                    function updateDate(date) {
                        var value = moment(date, angular.isDate(date) ? null : scope.dateFormat, true),
                            strValue = value.format(scope.dateFormat);

                        if (value.isValid()) {
                            updateInputElement(strValue);
                            ngModel.$setViewValue(strValue);
                        } else {
                            updateInputElement(date);
                            ngModel.$setViewValue(date);
                        }

                        if (!ngModel.$pristine && messages.hasClass("md-auto-hide") && inputContainer.hasClass("md-input-invalid")) messages.removeClass("md-auto-hide");

                        ngModel.$render();
                    }

                    scope.showPicker = function (ev) {
                        $mdpDatePicker(ngModel.$modelValue, {
                            minDate: scope.minDate,
                            maxDate: scope.maxDate,
                            dateFilter: scope.dateFilter,
                            targetEvent: ev
                        }).then(updateDate);
                    };

                    function onInputElementEvents(event) {
                        if (event.target.value !== ngModel.$viewVaue) updateDate(event.target.value);
                    }

                    inputElement.on("reset input blur", onInputElementEvents);

                    scope.$on("$destroy", function () {
                        inputElement.off("reset input blur", onInputElementEvents);
                    });
                }
            }
        };
    }]);

    module.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function ($mdpDatePicker, $timeout) {
        return {
            restrict: 'A',
            require: 'ngModel',
            scope: {
                "minDate": "@min",
                "maxDate": "@max",
                "dateFilter": "=mdpDateFilter",
                "dateFormat": "@mdpFormat"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                scope.dateFormat = scope.dateFormat || "YYYY-MM-DD";

                ngModel.$validators.format = function (modelValue, viewValue) {
                    return formatValidator(viewValue, scope.format);
                };

                ngModel.$validators.minDate = function (modelValue, viewValue) {
                    return minDateValidator(viewValue, scope.format, scope.minDate);
                };

                ngModel.$validators.maxDate = function (modelValue, viewValue) {
                    return maxDateValidator(viewValue, scope.format, scope.maxDate);
                };

                ngModel.$validators.filter = function (modelValue, viewValue) {
                    return filterValidator(viewValue, scope.format, scope.dateFilter);
                };

                function showPicker(ev) {
                    $mdpDatePicker(ngModel.$modelValue, {
                        minDate: scope.minDate,
                        maxDate: scope.maxDate,
                        dateFilter: scope.dateFilter,
                        targetEvent: ev
                    }).then(function (time) {
                        ngModel.$setViewValue(moment(time).format(scope.format));
                        ngModel.$render();
                    });
                };

                element.on("click", showPicker);

                scope.$on("$destroy", function () {
                    element.off("click", showPicker);
                });
            }
        };
    }]);
    /* global moment, angular */

    function TimePickerCtrl($scope, $mdDialog, time, autoSwitch, $mdMedia) {
        var self = this;
        this.VIEW_HOURS = 1;
        this.VIEW_MINUTES = 2;
        this.currentView = this.VIEW_HOURS;
        this.time = moment(time);
        this.autoSwitch = !!autoSwitch;

        this.clockHours = parseInt(this.time.format("h"));
        this.clockMinutes = parseInt(this.time.minutes());

        $scope.$mdMedia = $mdMedia;

        this.switchView = function () {
            self.currentView = self.currentView == self.VIEW_HOURS ? self.VIEW_MINUTES : self.VIEW_HOURS;
        };

        this.setAM = function () {
            if (self.time.hours() >= 12) self.time.hour(self.time.hour() - 12);
        };

        this.setPM = function () {
            if (self.time.hours() < 12) self.time.hour(self.time.hour() + 12);
        };

        this.cancel = function () {
            $mdDialog.cancel();
        };

        this.confirm = function () {
            $mdDialog.hide(this.time.toDate());
        };
    }

    function ClockCtrl($scope) {
        var TYPE_HOURS = "hours";
        var TYPE_MINUTES = "minutes";
        var self = this;

        this.STEP_DEG = 360 / 12;
        this.steps = [];

        this.CLOCK_TYPES = {
            "hours": {
                range: 12
            },
            "minutes": {
                range: 60
            }
        };

        this.getPointerStyle = function () {
            var divider = 1;
            switch (self.type) {
                case TYPE_HOURS:
                    divider = 12;
                    break;
                case TYPE_MINUTES:
                    divider = 60;
                    break;
            }
            var degrees = Math.round(self.selected * (360 / divider)) - 180;
            return {
                "-webkit-transform": "rotate(" + degrees + "deg)",
                "-ms-transform": "rotate(" + degrees + "deg)",
                "transform": "rotate(" + degrees + "deg)"
            };
        };

        this.setTimeByDeg = function (deg) {
            deg = deg >= 360 ? 0 : deg;
            var divider = 0;
            switch (self.type) {
                case TYPE_HOURS:
                    divider = 12;
                    break;
                case TYPE_MINUTES:
                    divider = 60;
                    break;
            }

            self.setTime(Math.round(divider / 360 * deg));
        };

        this.setTime = function (time, type) {
            this.selected = time;

            switch (self.type) {
                case TYPE_HOURS:
                    if (self.time.format("A") == "PM") time += 12;
                    this.time.hours(time);
                    break;
                case TYPE_MINUTES:
                    if (time > 59) time -= 60;
                    this.time.minutes(time);
                    break;
            }
        };

        this.init = function () {
            self.type = self.type || "hours";
            switch (self.type) {
                case TYPE_HOURS:
                    for (var i = 1; i <= 12; i++) {
                        self.steps.push(i);
                    }self.selected = self.time.hours() || 0;
                    if (self.selected > 12) self.selected -= 12;

                    break;
                case TYPE_MINUTES:
                    for (var i = 5; i <= 55; i += 5) {
                        self.steps.push(i);
                    }self.steps.push(0);
                    self.selected = self.time.minutes() || 0;

                    break;
            }
        };

        this.init();
    }

    module.directive("mdpClock", ["$animate", "$timeout", function ($animate, $timeout) {
        return {
            restrict: 'E',
            bindToController: {
                'type': '@?',
                'time': '=',
                'autoSwitch': '=?'
            },
            replace: true,
            template: '<div class="mdp-clock">' + '<div class="mdp-clock-container">' + '<md-toolbar class="mdp-clock-center md-primary"></md-toolbar>' + '<md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary">' + '<span class="mdp-clock-selected md-button md-raised md-primary"></span>' + '</md-toolbar>' + '<md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button>' + '</div>' + '</div>',
            controller: ["$scope", ClockCtrl],
            controllerAs: "clock",
            link: function link(scope, element, attrs, ctrl) {
                var pointer = angular.element(element[0].querySelector(".mdp-pointer")),
                    timepickerCtrl = scope.$parent.timepicker;

                var onEvent = function onEvent(event) {
                    var containerCoords = event.currentTarget.getClientRects()[0];
                    var x = event.currentTarget.offsetWidth / 2 - (event.pageX - containerCoords.left),
                        y = event.pageY - containerCoords.top - event.currentTarget.offsetHeight / 2;

                    var deg = Math.round(Math.atan2(x, y) * (180 / Math.PI));
                    $timeout(function () {
                        ctrl.setTimeByDeg(deg + 180);
                        if (ctrl.autoSwitch && ["mouseup", "click"].indexOf(event.type) !== -1 && timepickerCtrl) timepickerCtrl.switchView();
                    });
                };

                element.on("mousedown", function () {
                    element.on("mousemove", onEvent);
                });

                element.on("mouseup", function (e) {
                    element.off("mousemove");
                });

                element.on("click", onEvent);
                scope.$on("$destroy", function () {
                    element.off("click", onEvent);
                    element.off("mousemove", onEvent);
                });
            }
        };
    }]);

    module.provider("$mdpTimePicker", function () {
        var LABEL_OK = "OK",
            LABEL_CANCEL = "Cancel";

        this.setOKButtonLabel = function (label) {
            LABEL_OK = label;
        };

        this.setCancelButtonLabel = function (label) {
            LABEL_CANCEL = label;
        };

        this.$get = ["$mdDialog", function ($mdDialog) {
            var timePicker = function timePicker(time, options) {
                if (!angular.isDate(time)) time = Date.now();
                if (!angular.isObject(options)) options = {};

                return $mdDialog.show({
                    controller: ['$scope', '$mdDialog', 'time', 'autoSwitch', '$mdMedia', TimePickerCtrl],
                    controllerAs: 'timepicker',
                    clickOutsideToClose: true,
                    template: '<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }">' + '<md-dialog-content layout-gt-xs="row" layout-wrap>' + '<md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary">' + '<div class="mdp-timepicker-selected-time">' + '<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:' + '<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span>' + '</div>' + '<div layout="column" class="mdp-timepicker-selected-ampm">' + '<span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span>' + '<span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span>' + '</div>' + '</md-toolbar>' + '<div>' + '<div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center">' + '<mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock>' + '<mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock>' + '</div>' + '<md-dialog-actions layout="row">' + '<span flex></span>' + '<md-button ng-click="timepicker.cancel()" aria-label="' + LABEL_CANCEL + '">' + LABEL_CANCEL + '</md-button>' + '<md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="' + LABEL_OK + '">' + LABEL_OK + '</md-button>' + '</md-dialog-actions>' + '</div>' + '</md-dialog-content>' + '</md-dialog>',
                    targetEvent: options.targetEvent,
                    locals: {
                        time: time,
                        autoSwitch: options.autoSwitch
                    },
                    skipHide: true
                });
            };

            return timePicker;
        }];
    });

    module.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function ($mdpTimePicker, $timeout) {
        return {
            restrict: 'E',
            require: 'ngModel',
            transclude: true,
            template: function template(element, attrs) {
                var noFloat = angular.isDefined(attrs.mdpNoFloat),
                    placeholder = angular.isDefined(attrs.mdpPlaceholder) ? attrs.mdpPlaceholder : "",
                    openOnClick = angular.isDefined(attrs.mdpOpenOnClick) ? true : false;

                return '<div layout layout-align="start start">' + '<md-button class="md-icon-button" ng-click="showPicker($event)"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + '>' + '<md-icon md-svg-icon="mdp-access-time"></md-icon>' + '</md-button>' + '<md-input-container' + (noFloat ? ' md-no-float' : '') + ' md-is-error="isError()">' + '<input type="{{ ::type }}"' + (angular.isDefined(attrs.mdpDisabled) ? ' ng-disabled="disabled"' : '') + ' aria-label="' + placeholder + '" placeholder="' + placeholder + '"' + (openOnClick ? ' ng-click="showPicker($event)" ' : '') + ' />' + '</md-input-container>' + '</div>';
            },
            scope: {
                "timeFormat": "@mdpFormat",
                "placeholder": "@mdpPlaceholder",
                "autoSwitch": "=?mdpAutoSwitch",
                "disabled": "=?mdpDisabled"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                var inputElement = angular.element(element[0].querySelector('input')),
                    inputContainer = angular.element(element[0].querySelector('md-input-container')),
                    inputContainerCtrl = inputContainer.controller("mdInputContainer");

                $transclude(function (clone) {
                    inputContainer.append(clone);
                });

                var messages = angular.element(inputContainer[0].querySelector("[ng-messages]"));

                scope.type = scope.timeFormat ? "text" : "time";
                scope.timeFormat = scope.timeFormat || "HH:mm";
                scope.autoSwitch = scope.autoSwitch || false;

                scope.$watch(function () {
                    return ngModel.$error;
                }, function (newValue, oldValue) {
                    inputContainerCtrl.setInvalid(!ngModel.$pristine && !!Object.keys(ngModel.$error).length);
                }, true);

                // update input element if model has changed
                ngModel.$formatters.unshift(function (value) {
                    var time = angular.isDate(value) && moment(value);
                    if (time && time.isValid()) updateInputElement(time.format(scope.timeFormat));else updateInputElement(null);
                });

                ngModel.$validators.format = function (modelValue, viewValue) {
                    return !viewValue || angular.isDate(viewValue) || moment(viewValue, scope.timeFormat, true).isValid();
                };

                ngModel.$validators.required = function (modelValue, viewValue) {
                    return angular.isUndefined(attrs.required) || !ngModel.$isEmpty(modelValue) || !ngModel.$isEmpty(viewValue);
                };

                ngModel.$parsers.unshift(function (value) {
                    var parsed = moment(value, scope.timeFormat, true);
                    if (parsed.isValid()) {
                        if (angular.isDate(ngModel.$modelValue)) {
                            var originalModel = moment(ngModel.$modelValue);
                            originalModel.minutes(parsed.minutes());
                            originalModel.hours(parsed.hours());
                            originalModel.seconds(parsed.seconds());

                            parsed = originalModel;
                        }
                        return parsed.toDate();
                    } else return null;
                });

                // update input element value
                function updateInputElement(value) {
                    inputElement[0].value = value;
                    inputContainerCtrl.setHasValue(!ngModel.$isEmpty(value));
                }

                function updateTime(time) {
                    var value = moment(time, angular.isDate(time) ? null : scope.timeFormat, true),
                        strValue = value.format(scope.timeFormat);

                    if (value.isValid()) {
                        updateInputElement(strValue);
                        ngModel.$setViewValue(strValue);
                    } else {
                        updateInputElement(time);
                        ngModel.$setViewValue(time);
                    }

                    if (!ngModel.$pristine && messages.hasClass("md-auto-hide") && inputContainer.hasClass("md-input-invalid")) messages.removeClass("md-auto-hide");

                    ngModel.$render();
                }

                scope.showPicker = function (ev) {
                    $mdpTimePicker(ngModel.$modelValue, {
                        targetEvent: ev,
                        autoSwitch: scope.autoSwitch
                    }).then(function (time) {
                        updateTime(time, true);
                    });
                };

                function onInputElementEvents(event) {
                    if (event.target.value !== ngModel.$viewVaue) updateTime(event.target.value);
                }

                inputElement.on("reset input blur", onInputElementEvents);

                scope.$on("$destroy", function () {
                    inputElement.off("reset input blur", onInputElementEvents);
                });
            }
        };
    }]);

    module.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function ($mdpTimePicker, $timeout) {
        return {
            restrict: 'A',
            require: 'ngModel',
            scope: {
                "timeFormat": "@mdpFormat",
                "autoSwitch": "=?mdpAutoSwitch"
            },
            link: function link(scope, element, attrs, ngModel, $transclude) {
                scope.format = scope.format || "HH:mm";
                function showPicker(ev) {
                    $mdpTimePicker(ngModel.$modelValue, {
                        targetEvent: ev,
                        autoSwitch: scope.autoSwitch
                    }).then(function (time) {
                        ngModel.$setViewValue(moment(time).format(scope.format));
                        ngModel.$render();
                    });
                };

                element.on("click", showPicker);

                scope.$on("$destroy", function () {
                    element.off("click", showPicker);
                });
            }
        };
    }]);
})();
//# sourceMappingURL=mdPickers.js.map

"use strict";

!function () {
  "use strict";
  function t(t, e, a, i, n, r) {
    var o = this;this.date = moment(n), this.minDate = r.minDate && moment(r.minDate).isValid() ? moment(r.minDate) : null, this.maxDate = r.maxDate && moment(r.maxDate).isValid() ? moment(r.maxDate) : null, this.displayFormat = r.displayFormat || "ddd, MMM DD", this.dateFilter = angular.isFunction(r.dateFilter) ? r.dateFilter : null, this.selectingYear = !1, this.minDate && this.maxDate && this.maxDate.isBefore(this.minDate) && (this.maxDate = moment(this.minDate).add(1, "days")), this.date && (this.minDate && this.date.isBefore(this.minDate) && (this.date = moment(this.minDate)), this.maxDate && this.date.isAfter(this.maxDate) && (this.date = moment(this.maxDate))), this.yearItems = { currentIndex_: 0, PAGE_SIZE: 5, START: o.minDate ? o.minDate.year() : 1900, END: o.maxDate ? o.maxDate.year() : 0, getItemAtIndex: function getItemAtIndex(t) {
        return this.currentIndex_ < t && (this.currentIndex_ = t), this.START + t;
      }, getLength: function getLength() {
        return Math.min(this.currentIndex_ + Math.floor(this.PAGE_SIZE / 2), Math.abs(this.START - this.END) + 1);
      } }, t.$mdMedia = a, t.year = this.date.year(), this.selectYear = function (e) {
      o.date.year(e), t.year = e, o.selectingYear = !1, o.animate();
    }, this.showYear = function () {
      o.yearTopIndex = o.date.year() - o.yearItems.START + Math.floor(o.yearItems.PAGE_SIZE / 2), o.yearItems.currentIndex_ = o.date.year() - o.yearItems.START + 1, o.selectingYear = !0;
    }, this.showCalendar = function () {
      o.selectingYear = !1;
    }, this.cancel = function () {
      e.cancel();
    }, this.confirm = function () {
      var t = this.date;this.minDate && this.date.isBefore(this.minDate) && (t = moment(this.minDate)), this.maxDate && this.date.isAfter(this.maxDate) && (t = moment(this.maxDate)), e.hide(t.toDate());
    }, this.animate = function () {
      o.animating = !0, i(angular.noop).then(function () {
        o.animating = !1;
      });
    };
  }function e(t) {
    var e = this;this.dow = moment.localeData().firstDayOfWeek(), this.weekDays = [].concat(moment.weekdaysMin().slice(this.dow), moment.weekdaysMin().slice(0, this.dow)), this.daysInMonth = [], this.getDaysInMonth = function () {
      var t = e.date.daysInMonth(),
          a = moment(e.date).date(1).day() - this.dow;0 > a && (a = this.weekDays.length - 1);for (var i = [], n = 1; a + t >= n; n++) {
        var r = null;n > a && (r = { value: n - a, enabled: e.isDayEnabled(moment(e.date).date(n - a).toDate()) }), i.push(r);
      }return i;
    }, this.isDayEnabled = function (t) {
      return !(this.minDate && !(this.minDate <= t) || this.maxDate && !(this.maxDate >= t) || e.dateFilter && e.dateFilter(t));
    }, this.selectDate = function (t) {
      e.date.date(t);
    }, this.nextMonth = function () {
      e.date.add(1, "months");
    }, this.prevMonth = function () {
      e.date.subtract(1, "months");
    }, this.updateDaysInMonth = function () {
      e.daysInMonth = e.getDaysInMonth();
    }, t.$watch(function () {
      return e.date.unix();
    }, function (t, a) {
      t && t !== a && e.updateDaysInMonth();
    }), e.updateDaysInMonth();
  }function a(t, e) {
    return !t || angular.isDate(t) || moment(t, e, !0).isValid();
  }function i(t, e, a) {
    var a = moment(a, "YYYY-MM-DD", !0),
        i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !a.isValid() || i.isSameOrAfter(a);
  }function n(t, e, a) {
    var a = moment(a, "YYYY-MM-DD", !0),
        i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !a.isValid() || i.isSameOrBefore(a);
  }function r(t, e, a) {
    var i = angular.isDate(t) ? moment(t) : moment(t, e, !0);return !t || angular.isDate(t) || !angular.isFunction(a) || !a(i);
  }function o(t, e, a, i, n) {
    var r = this;this.VIEW_HOURS = 1, this.VIEW_MINUTES = 2, this.currentView = this.VIEW_HOURS, this.time = moment(a), this.autoSwitch = !!i, this.clockHours = parseInt(this.time.format("h")), this.clockMinutes = parseInt(this.time.minutes()), t.$mdMedia = n, this.switchView = function () {
      r.currentView = r.currentView == r.VIEW_HOURS ? r.VIEW_MINUTES : r.VIEW_HOURS;
    }, this.setAM = function () {
      r.time.hours() >= 12 && r.time.hour(r.time.hour() - 12);
    }, this.setPM = function () {
      r.time.hours() < 12 && r.time.hour(r.time.hour() + 12);
    }, this.cancel = function () {
      e.cancel();
    }, this.confirm = function () {
      e.hide(this.time.toDate());
    };
  }function s(t) {
    var e = "hours",
        a = "minutes",
        i = this;this.STEP_DEG = 30, this.steps = [], this.CLOCK_TYPES = { hours: { range: 12 }, minutes: { range: 60 } }, this.getPointerStyle = function () {
      var t = 1;switch (i.type) {case e:
          t = 12;break;case a:
          t = 60;}var n = Math.round(i.selected * (360 / t)) - 180;return { "-webkit-transform": "rotate(" + n + "deg)", "-ms-transform": "rotate(" + n + "deg)", transform: "rotate(" + n + "deg)" };
    }, this.setTimeByDeg = function (t) {
      t = t >= 360 ? 0 : t;var n = 0;switch (i.type) {case e:
          n = 12;break;case a:
          n = 60;}i.setTime(Math.round(n / 360 * t));
    }, this.setTime = function (t, n) {
      switch (this.selected = t, i.type) {case e:
          "PM" == i.time.format("A") && (t += 12), this.time.hours(t);break;case a:
          t > 59 && (t -= 60), this.time.minutes(t);}
    }, this.init = function () {
      switch (i.type = i.type || "hours", i.type) {case e:
          for (var t = 1; 12 >= t; t++) {
            i.steps.push(t);
          }i.selected = i.time.hours() || 0, i.selected > 12 && (i.selected -= 12);break;case a:
          for (var t = 5; 55 >= t; t += 5) {
            i.steps.push(t);
          }i.steps.push(0), i.selected = i.time.minutes() || 0;}
    }, this.init();
  }var d = angular.module("mdPickers", ["ngMaterial", "ngAnimate", "ngAria"]);d.config(["$mdIconProvider", "mdpIconsRegistry", function (t, e) {
    angular.forEach(e, function (e, a) {
      t.icon(e.id, e.url);
    });
  }]), d.run(["$templateCache", "mdpIconsRegistry", function (t, e) {
    angular.forEach(e, function (e, a) {
      t.put(e.url, e.svg);
    });
  }]), d.constant("mdpIconsRegistry", [{ id: "mdp-chevron-left", url: "mdp-chevron-left.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }, { id: "mdp-chevron-right", url: "mdp-chevron-right.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }, { id: "mdp-access-time", url: "mdp-access-time.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>' }, { id: "mdp-event", url: "mdp-event.svg", svg: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>' }]), d.directive("ngMessage", ["$mdUtil", function (t) {
    return { restrict: "EA", priority: 101, compile: function compile(e) {
        var a = t.getClosest(e, "mdp-time-picker", !0) || t.getClosest(e, "mdp-date-picker", !0);if (a) return e.toggleClass("md-input-message-animation", !0), {};
      } };
  }]), d.provider("$mdpDatePicker", function () {
    var e = "OK",
        a = "Cancel",
        i = "ddd, MMM DD";this.setDisplayFormat = function (t) {
      i = t;
    }, this.setOKButtonLabel = function (t) {
      e = t;
    }, this.setCancelButtonLabel = function (t) {
      a = t;
    }, this.$get = ["$mdDialog", function (n) {
      var r = function r(_r, o) {
        return angular.isDate(_r) || (_r = Date.now()), angular.isObject(o) || (o = {}), o.displayFormat = i, n.show({ controller: ["$scope", "$mdDialog", "$mdMedia", "$timeout", "currentDate", "options", t], controllerAs: "datepicker", clickOutsideToClose: !0, template: '<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar><md-dialog-actions layout="row"><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="' + a + '">' + a + '</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="' + e + '">' + e + "</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>", targetEvent: o.targetEvent, locals: { currentDate: _r, options: o }, skipHide: !0 });
      };return r;
    }];
  }), d.directive("mdpCalendar", ["$animate", function (t) {
    return { restrict: "E", bindToController: { date: "=", minDate: "=", maxDate: "=", dateFilter: "=" }, template: '<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button><div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>', controller: ["$scope", e], controllerAs: "calendar", link: function link(e, a, i, n) {
        var r = [a[0].querySelector(".mdp-calendar-week-days"), a[0].querySelector(".mdp-calendar-days"), a[0].querySelector(".mdp-calendar-monthyear")].map(function (t) {
          return angular.element(t);
        });e.$watch(function () {
          return n.date.format("YYYYMM");
        }, function (e, a) {
          var i = null;if (e > a ? i = "mdp-animate-next" : a > e && (i = "mdp-animate-prev"), i) for (var n in r) {
            r[n].addClass(i), t.removeClass(r[n], i);
          }
        });
      } };
  }]), d.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function (t, e) {
    return { restrict: "E", require: "ngModel", transclude: !0, template: function template(t, e) {
        var a = angular.isDefined(e.mdpNoFloat),
            i = angular.isDefined(e.mdpPlaceholder) ? e.mdpPlaceholder : "",
            n = angular.isDefined(e.mdpOpenOnClick) ? !0 : !1;return '<div layout layout-align="start start"><md-button' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' class="md-icon-button" ng-click="showPicker($event)"><md-icon md-svg-icon="mdp-event"></md-icon></md-button><md-input-container' + (a ? " md-no-float" : "") + ' md-is-error="isError()"><input type="{{ ::type }}"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' aria-label="' + i + '" placeholder="' + i + '"' + (n ? ' ng-click="showPicker($event)" ' : "") + " /></md-input-container></div>";
      }, scope: { minDate: "=mdpMinDate", maxDate: "=mdpMaxDate", dateFilter: "=mdpDateFilter", dateFormat: "@mdpFormat", placeholder: "@mdpPlaceholder", noFloat: "=mdpNoFloat", openOnClick: "=mdpOpenOnClick", disabled: "=?mdpDisabled" }, link: { pre: function pre(t, e, a, i, n) {}, post: function post(e, o, s, d, m) {
          function c(t) {
            p[0].value = t, g.setHasValue(!d.$isEmpty(t));
          }function l(t) {
            var a = moment(t, angular.isDate(t) ? null : e.dateFormat, !0),
                i = a.format(e.dateFormat);a.isValid() ? (c(i), d.$setViewValue(i)) : (c(t), d.$setViewValue(t)), !d.$pristine && f.hasClass("md-auto-hide") && h.hasClass("md-input-invalid") && f.removeClass("md-auto-hide"), d.$render();
          }function u(t) {
            t.target.value !== d.$viewVaue && l(t.target.value);
          }var p = angular.element(o[0].querySelector("input")),
              h = angular.element(o[0].querySelector("md-input-container")),
              g = h.controller("mdInputContainer");m(function (t) {
            h.append(t);
          });var f = angular.element(h[0].querySelector("[ng-messages]"));e.type = e.dateFormat ? "text" : "date", e.dateFormat = e.dateFormat || "YYYY-MM-DD", e.model = d, e.isError = function () {
            return !d.$pristine && !!d.$invalid;
          }, d.$formatters.unshift(function (t) {
            var a = angular.isDate(t) && moment(t);c(a && a.isValid() ? a.format(e.dateFormat) : null);
          }), d.$validators.format = function (t, i) {
            return a(i, e.dateFormat);
          }, d.$validators.minDate = function (t, a) {
            return i(a, e.dateFormat, e.minDate);
          }, d.$validators.maxDate = function (t, a) {
            return n(a, e.dateFormat, e.maxDate);
          }, d.$validators.filter = function (t, a) {
            return r(a, e.dateFormat, e.dateFilter);
          }, d.$validators.required = function (t, e) {
            return angular.isUndefined(s.required) || !d.$isEmpty(t) || !d.$isEmpty(e);
          }, d.$parsers.unshift(function (t) {
            var a = moment(t, e.dateFormat, !0);if (a.isValid()) {
              if (angular.isDate(d.$modelValue)) {
                var i = moment(d.$modelValue);i.year(a.year()), i.month(a.month()), i.date(a.date()), a = i;
              }return a.toDate();
            }return null;
          }), e.showPicker = function (a) {
            t(d.$modelValue, { minDate: e.minDate, maxDate: e.maxDate, dateFilter: e.dateFilter, targetEvent: a }).then(l);
          }, p.on("reset input blur", u), e.$on("$destroy", function () {
            p.off("reset input blur", u);
          });
        } } };
  }]), d.directive("mdpDatePicker", ["$mdpDatePicker", "$timeout", function (t, e) {
    return { restrict: "A", require: "ngModel", scope: { minDate: "@min", maxDate: "@max", dateFilter: "=mdpDateFilter", dateFormat: "@mdpFormat" }, link: function link(e, o, s, d, m) {
        function c(a) {
          t(d.$modelValue, { minDate: e.minDate, maxDate: e.maxDate, dateFilter: e.dateFilter, targetEvent: a }).then(function (t) {
            d.$setViewValue(moment(t).format(e.format)), d.$render();
          });
        }e.dateFormat = e.dateFormat || "YYYY-MM-DD", d.$validators.format = function (t, i) {
          return a(i, e.format);
        }, d.$validators.minDate = function (t, a) {
          return i(a, e.format, e.minDate);
        }, d.$validators.maxDate = function (t, a) {
          return n(a, e.format, e.maxDate);
        }, d.$validators.filter = function (t, a) {
          return r(a, e.format, e.dateFilter);
        }, o.on("click", c), e.$on("$destroy", function () {
          o.off("click", c);
        });
      } };
  }]), d.directive("mdpClock", ["$animate", "$timeout", function (t, e) {
    return { restrict: "E", bindToController: { type: "@?", time: "=", autoSwitch: "=?" }, replace: !0, template: '<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button></div></div>', controller: ["$scope", s], controllerAs: "clock", link: function link(t, a, i, n) {
        var r = (angular.element(a[0].querySelector(".mdp-pointer")), t.$parent.timepicker),
            o = function o(t) {
          var a = t.currentTarget.getClientRects()[0],
              i = t.currentTarget.offsetWidth / 2 - (t.pageX - a.left),
              o = t.pageY - a.top - t.currentTarget.offsetHeight / 2,
              s = Math.round(Math.atan2(i, o) * (180 / Math.PI));e(function () {
            n.setTimeByDeg(s + 180), n.autoSwitch && -1 !== ["mouseup", "click"].indexOf(t.type) && r && r.switchView();
          });
        };a.on("mousedown", function () {
          a.on("mousemove", o);
        }), a.on("mouseup", function (t) {
          a.off("mousemove");
        }), a.on("click", o), t.$on("$destroy", function () {
          a.off("click", o), a.off("mousemove", o);
        });
      } };
  }]), d.provider("$mdpTimePicker", function () {
    var t = "OK",
        e = "Cancel";this.setOKButtonLabel = function (e) {
      t = e;
    }, this.setCancelButtonLabel = function (t) {
      e = t;
    }, this.$get = ["$mdDialog", function (a) {
      var i = function i(_i, n) {
        return angular.isDate(_i) || (_i = Date.now()), angular.isObject(n) || (n = {}), a.show({ controller: ["$scope", "$mdDialog", "time", "autoSwitch", "$mdMedia", o], controllerAs: "timepicker", clickOutsideToClose: !0, template: '<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout-gt-xs="row" layout-wrap><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span></div><div layout="column" class="mdp-timepicker-selected-ampm"><span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span><span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span></div></md-toolbar><div><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="timepicker.cancel()" aria-label="' + e + '">' + e + '</md-button><md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="' + t + '">' + t + "</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>", targetEvent: n.targetEvent, locals: { time: _i, autoSwitch: n.autoSwitch }, skipHide: !0 });
      };return i;
    }];
  }), d.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function (t, e) {
    return { restrict: "E", require: "ngModel", transclude: !0, template: function template(t, e) {
        var a = angular.isDefined(e.mdpNoFloat),
            i = angular.isDefined(e.mdpPlaceholder) ? e.mdpPlaceholder : "",
            n = angular.isDefined(e.mdpOpenOnClick) ? !0 : !1;return '<div layout layout-align="start start"><md-button class="md-icon-button" ng-click="showPicker($event)"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + '><md-icon md-svg-icon="mdp-access-time"></md-icon></md-button><md-input-container' + (a ? " md-no-float" : "") + ' md-is-error="isError()"><input type="{{ ::type }}"' + (angular.isDefined(e.mdpDisabled) ? ' ng-disabled="disabled"' : "") + ' aria-label="' + i + '" placeholder="' + i + '"' + (n ? ' ng-click="showPicker($event)" ' : "") + " /></md-input-container></div>";
      }, scope: { timeFormat: "@mdpFormat", placeholder: "@mdpPlaceholder", autoSwitch: "=?mdpAutoSwitch", disabled: "=?mdpDisabled" }, link: function link(e, a, i, n, r) {
        function o(t) {
          m[0].value = t, l.setHasValue(!n.$isEmpty(t));
        }function s(t) {
          var a = moment(t, angular.isDate(t) ? null : e.timeFormat, !0),
              i = a.format(e.timeFormat);a.isValid() ? (o(i), n.$setViewValue(i)) : (o(t), n.$setViewValue(t)), !n.$pristine && u.hasClass("md-auto-hide") && c.hasClass("md-input-invalid") && u.removeClass("md-auto-hide"), n.$render();
        }function d(t) {
          t.target.value !== n.$viewVaue && s(t.target.value);
        }var m = angular.element(a[0].querySelector("input")),
            c = angular.element(a[0].querySelector("md-input-container")),
            l = c.controller("mdInputContainer");r(function (t) {
          c.append(t);
        });var u = angular.element(c[0].querySelector("[ng-messages]"));e.type = e.timeFormat ? "text" : "time", e.timeFormat = e.timeFormat || "HH:mm", e.autoSwitch = e.autoSwitch || !1, e.$watch(function () {
          return n.$error;
        }, function (t, e) {
          l.setInvalid(!n.$pristine && !!Object.keys(n.$error).length);
        }, !0), n.$formatters.unshift(function (t) {
          var a = angular.isDate(t) && moment(t);o(a && a.isValid() ? a.format(e.timeFormat) : null);
        }), n.$validators.format = function (t, a) {
          return !a || angular.isDate(a) || moment(a, e.timeFormat, !0).isValid();
        }, n.$validators.required = function (t, e) {
          return angular.isUndefined(i.required) || !n.$isEmpty(t) || !n.$isEmpty(e);
        }, n.$parsers.unshift(function (t) {
          var a = moment(t, e.timeFormat, !0);if (a.isValid()) {
            if (angular.isDate(n.$modelValue)) {
              var i = moment(n.$modelValue);i.minutes(a.minutes()), i.hours(a.hours()), i.seconds(a.seconds()), a = i;
            }return a.toDate();
          }return null;
        }), e.showPicker = function (a) {
          t(n.$modelValue, { targetEvent: a, autoSwitch: e.autoSwitch }).then(function (t) {
            s(t, !0);
          });
        }, m.on("reset input blur", d), e.$on("$destroy", function () {
          m.off("reset input blur", d);
        });
      } };
  }]), d.directive("mdpTimePicker", ["$mdpTimePicker", "$timeout", function (t, e) {
    return { restrict: "A", require: "ngModel", scope: { timeFormat: "@mdpFormat", autoSwitch: "=?mdpAutoSwitch" }, link: function link(e, a, i, n, r) {
        function o(a) {
          t(n.$modelValue, { targetEvent: a, autoSwitch: e.autoSwitch }).then(function (t) {
            n.$setViewValue(moment(t).format(e.format)), n.$render();
          });
        }e.format = e.format || "HH:mm", a.on("click", o), e.$on("$destroy", function () {
          a.off("click", o);
        });
      } };
  }]);
}();
//# sourceMappingURL=mdPickers.min.js.map
//# sourceMappingURL=mdPickers.min.js.map

'use strict';

(function () {
	'use strict';

	angular.module('mediaboxApp').factory('Modal', Modal).controller('ModalController', ModalController);

	// Modal.$inject = ['$mdDialog', '$state'];
	// ModalController.$inject = ['$mdDialog', 'Toast', '$http', 'options', 'cols', 'Settings', '$filter'];

	function Modal($mdDialog, $state) {

		var obj = {};
		obj.show = function (cols, options) {
			$mdDialog.show({
				controller: 'ModalController as create',
				templateUrl: 'components/modal/create.html',
				clickOutsideToClose: false,
				locals: { cols: cols, options: options }
			}).then(transitionTo, transitionTo);
		};

		return obj;
	}

	function transitionTo(answer) {
		// return $state.go('detail', { location: false });
	}

	function ModalController($mdDialog, Toast, $http, options, cols, Settings, $filter) {
		var vm = this;
		vm.create = createUser;
		vm.close = hideDialog;
		vm.cancel = cancelDialog;
		vm.options = options;
		vm.options.columns = cols;
		vm.title = options.api;
		function createUser(form) {
			// refuse to work with invalid cols
			if (vm.item._id || form && !form.$valid) {
				return;
			}
			// 
			// $http.post('/api/sendmail', {
			// 	from: 'Biri.in <codenxg@gmail.com>',
			//   to: '2lessons@gmail.com',
			//   subject: 'Message from Biri.in',
			//   text: vm.item.title
			// });

			$http.post('/api/' + $filter('pluralize')(options.api), vm.item).then(createUserSuccess).catch(createUserCatch);
			function createUserSuccess(response) {
				var item = vm.item = response.data;
				Toast.show({
					type: 'success',
					text: 'New ' + options.api + ' saved successfully.'
				});
				vm.close();
			}

			function createUserCatch(err) {
				// if (form && err) {
				// 	form.setResponseErrors(err);
				// }

				Toast.show({
					type: 'warn',
					text: 'Error while creating new ' + options.api
				});
			}
		}

		function hideDialog() {
			$mdDialog.hide();
		}

		function cancelDialog() {
			$mdDialog.cancel();
		}
	}
})();
//# sourceMappingURL=modal.service.js.map

'use strict';

/**
 * Removes server error when user updates input
 */

angular.module('mediaboxApp').directive('mongooseError', function () {
  return {
    restrict: 'A',
    require: 'ngModel',
    link: function link(scope, element, attrs, ngModel) {
      element.on('keydown', function () {
        return ngModel.$setValidity('mongoose', true);
      });
    }
  };
});
//# sourceMappingURL=mongoose-error.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var NavbarPublicController = function NavbarPublicController(ToggleComponent, Auth, $attrs, Settings, $scope, $rootScope, $location, Cart, Category, Brand, $q, Product, $state, $timeout, $log) {
    _classCallCheck(this, NavbarPublicController);

    var vm = this;

    /* autocomplete */
    vm.simulateQuery = true;
    vm.isDisabled = false;
    vm.products = [];
    vm.querySearch = querySearch;
    vm.selectedItemChange = selectedItemChange;
    vm.searchTextChange = searchTextChange;
    vm.cart = Cart.cart;

    // ******************************
    // Internal methods
    // ******************************
    /**
     * Search for products... use $timeout to simulate
     * remote dataservice call.
     */
    vm.categories = Category();
    vm.Settings = Settings;
    vm.cart.getBestShipper(Settings.country).$promise.then(function (data) {
        vm.shipping = data[0];
        vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
    });

    function querySearch(input) {
        var data = [];
        if (input) {
            input = input.toLowerCase();
            data = Product.query({ where: { nameLower: { '$regex': input }, active: true }, limit: 10, skip: 0, select: { id: 1, name: 1, slug: 1 } });
        }
        return data;
    }
    function searchTextChange(text) {
        //   $log.info('Text changed to ' + text);
    }

    function selectedItemChange(item) {
        $state.go('single-product', { id: item._id, slug: item.slug }, { reload: false });
    }

    /**
     * Create filter function for a query string
     */

    vm.isLoggedIn = Auth.isLoggedIn;
    vm.openFilter = function () {
        ToggleComponent('filtermenu').open();
    };
    vm.openCart = function () {
        ToggleComponent('cart').open();
    };
    var originatorEv;
    vm.openMenu = function ($mdOpenMenu, ev) {
        originatorEv = ev;
        $mdOpenMenu(ev);
    };

    vm.menu = [{
        'title': 'Home',
        'link': '/'
    }];

    vm.brands = Brand.query({ active: true });

    vm.isCollapsed = true;
    vm.isCollapsed1 = true;
    vm.getCurrentUser = Auth.getCurrentUser;

    vm.getQuantity = function (sku) {
        for (var i = 0; i < vm.cart.items.length; i++) {
            if (vm.cart.items[i].sku === sku) {
                return vm.cart.items[i].quantity;
            }
        }
    };

    vm.getQuantity = function (sku) {
        for (var i = 0; i < vm.cart.items.length; i++) {
            if (vm.cart.items[i].sku === sku) {
                return vm.cart.items[i].quantity;
            }
        }
    };
    vm.toggle = function (item, list) {
        if (angular.isUndefined(list)) list = [];
        var idx = list.indexOf(item);
        if (idx > -1) list.splice(idx, 1);else list.push(item);
        vm.filter();
    };

    vm.categories = Category.query();

    vm.close = function () {
        ToggleComponent('cart').close();
    };
};

angular.module('mediaboxApp').controller('NavbarPublicController', NavbarPublicController);
//# sourceMappingURL=navbar-public.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('navbarPublic', function () {
  return {
    templateUrl: 'components/navbar-public/navbar-public.html',
    restrict: 'E',
    controller: 'NavbarPublicController',
    controllerAs: 'vm'
  };
});
//# sourceMappingURL=navbar-public.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var NavbarController = function NavbarController(ToggleComponent, Auth, Settings, Cart, Category, Brand, Product, $state, $stateParams, $mdMedia) {
    _classCallCheck(this, NavbarController);

    var vm = this;

    /* autocomplete */
    vm.simulateQuery = true;
    vm.querySearch = querySearch;
    vm.selectedItemChange = selectedItemChange;
    vm.searchTextChange = searchTextChange;
    vm.products = [];
    vm.cart = Cart.cart;
    vm.Settings = Settings;
    vm.$mdMedia = $mdMedia;

    ////console.log(vm.cart);
    // var productId = localStorage !== null ? localStorage.productId : null;

    if ($stateParams.search) // When searched print the search text inside search textbox 
        vm.searchText = $stateParams.name;

    vm.cart.getBestShipper().$promise.then(function (data) {
        vm.shipping = data[0];
        vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
    });

    function querySearch(input) {
        var data = [];
        if (input) {
            input = input.toLowerCase();
            data = Product.query({ where: { nameLower: { '$regex': input }, active: true }, limit: 10, skip: 0, select: { id: 1, name: 1, slug: 1, 'variants.image': 1, logo: 1 } });
        }
        return data;
    }

    function selectedItemChange(item) {
        $state.go('single-product', { id: item._id, slug: item.slug, search: true, name: item.name }, { reload: false });
    }

    function searchTextChange() {}
    /**
     * Create filter function for a query string
     */

    vm.isLoggedIn = Auth.isLoggedIn;
    vm.openFilter = function () {
        ToggleComponent('filtermenu').open();
    };
    vm.openCart = function () {
        ToggleComponent('cart').open();
        vm.cart.getBestShipper().$promise.then(function (data) {
            vm.shipping = data[0];
            vm.totalPriceAfterShipping = vm.cartTotal + data[0].charge;
        });
    };
    var originatorEv;
    vm.openMenu = function ($mdOpenMenu, ev) {
        originatorEv = ev;
        $mdOpenMenu(ev);
    };

    vm.menu = [{
        'title': 'Home',
        'link': '/'
    }];

    vm.brands = Brand.query({ active: true });

    vm.isCollapsed = true;
    vm.isCollapsed1 = true;
    vm.getCurrentUser = Auth.getCurrentUser;

    vm.gotoDetail = function (params) {
        $state.go('single-product', { id: params.sku, slug: params.slug }, { reload: false });
    };

    vm.getQuantity = function (sku) {
        for (var i = 0; i < vm.cart.items.length; i++) {
            if (vm.cart.items[i].sku === sku) {
                return vm.cart.items[i].quantity;
            }
        }
    };

    vm.getQuantity = function (sku) {
        for (var i = 0; i < vm.cart.items.length; i++) {
            if (vm.cart.items[i].sku === sku) {
                return vm.cart.items[i].quantity;
            }
        }
    };
    vm.toggle = function (item, list) {
        //   //console.log(item,list);
        if (angular.isUndefined(list)) list = [];
        var idx = list.indexOf(item);
        if (idx > -1) list.splice(idx, 1);else list.push(item);
        vm.filter();
    };

    vm.categories = Category.loaded.query();

    //console.log(vm.categories);

    vm.close = function () {
        ToggleComponent('cart').close();
    };
};

angular.module('mediaboxApp').controller('NavbarController', NavbarController);
//# sourceMappingURL=navbar.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('navbar', function () {
  return {
    templateUrl: 'components/navbar/navbar.html',
    restrict: 'E',
    controller: 'NavbarController',
    controllerAs: 'vm'
  };
});
//# sourceMappingURL=navbar.directive.js.map

'use strict';

angular.module('mediaboxApp').controller('OauthButtonsCtrl', function ($window) {
  this.loginOauth = function (provider) {
    if (provider === 'facebook') this.facebookLoading = true;
    if (provider === 'google') this.googleLoading = true;
    if (provider === 'twitter') this.twitterLoading = true;
    $window.location.href = '/auth/' + provider;
  };
});
//# sourceMappingURL=oauth-buttons.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('oauthButtons', function () {
  return {
    templateUrl: 'components/oauth-buttons/oauth-buttons.html',
    restrict: 'EA',
    controller: 'OauthButtonsCtrl',
    controllerAs: 'OauthButtons',
    scope: {
      classes: '@'
    }
  };
});
//# sourceMappingURL=oauth-buttons.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var ratingComponent =
  /*@ngInject*/
  function ratingComponent($timeout) {
    _classCallCheck(this, ratingComponent);

    var vm = this;
    // if (vm.readOnly === undefined) vm.readOnly = false
    var starsArray = [];
    // Initialize to 5 stars 
    for (var index = 0; index < 5; index++) {
      var starItem = {
        index: index,
        class: 'star-off'
      };
      starsArray.push(starItem);
    }
    vm.starsArray = starsArray;

    // On mousover
    vm.setMouseOverRating = function (rating) {
      if (vm.readOnly) {
        return;
      }
      vm.validateStars(rating);
    };
    // Highlight stars
    vm.validateStars = function (rating) {
      if (!vm.starsArray || vm.starsArray.length === 0) {
        return;
      }
      for (var index = 0; index < vm.starsArray.length; index++) {
        var starItem = vm.starsArray[index];
        if (index <= rating - 1) {
          starItem.class = 'star-on';
        } else {
          starItem.class = 'star-off';
        }
      }
    };

    // On click select star
    vm.setRating = function (rating) {
      if (vm.readOnly) return;
      vm.rating = rating;
      vm.validateStars(vm.rating);
      $timeout(function () {
        vm.onRating({
          rating: vm.rating
        });
      });
    };
  };

  angular.module('mediaboxApp').component('rating', {
    template: '\n    <div class="angular-material-rating" layout="row">  \n      <a class="button star-button" ng-class="item.class"    ng-mouseover="$ctrl.setMouseOverRating($index + 1)"    ng-mouseleave="$ctrl.setMouseOverRating($ctrl.rating)"    ng-click="$ctrl.setRating($index + 1)" ng-repeat="item in $ctrl.starsArray">\n        <ng-md-icon icon="star"></ng-md-icon>  \n      </a>\n    </div>\n    ',
    bindings: {
      message: '<', // Read only
      max: '@?', // String
      rating: '=?', // 2way
      readOnly: '=?', // 2way
      onRating: '&' // Callback
    },
    controller: ratingComponent
  });
})();
//# sourceMappingURL=rating.component.js.map

'use strict';

angular.module('mediaboxApp').directive('remoteUnique', function () {
  return {
    template: '<div></div>',
    restrict: 'EA',
    link: function link(scope, element, attrs) {
      element.text('this is the remoteUnique directive');
    }
  };
});
//# sourceMappingURL=remote-unique.directive.js.map

'use strict';

(function () {
	'use strict';

	// register the service as RepeatInput

	angular.module('mediaboxApp').directive('repeatInput', RepeatInput);

	// add RepeatInput dependencies to inject
	// RepeatInput.$inject = [''];

	/**
  * RepeatInput directive
  */
	function RepeatInput() {
		// directive definition members
		var directive = {
			link: link,
			restrict: 'A',
			require: 'ngModel'
		};

		return directive;

		// directives link definition
		function link(scope, elem, attrs, model) {
			if (!attrs.repeatInput) {
				console.error('repeatInput expects a model as an argument!');
				return;
			}

			scope.$watch(attrs.repeatInput, function (value) {
				// Only compare values if the second ctrl has a value.
				if (model.$viewValue !== undefined && model.$viewValue !== '') {
					model.$setValidity('repeat-input', value === model.$viewValue);
				}
			});

			model.$parsers.push(function (value) {
				// Mute the repeatInput error if the second ctrl is empty.
				if (value === undefined || value === '') {
					model.$setValidity('repeat-input', true);
					return value;
				}

				var isValid = value === scope.$eval(attrs.repeatInput);
				model.$setValidity('repeat-input', isValid);
				return isValid ? value : undefined;
			});
		}
	}
})();
//# sourceMappingURL=repeat-input.directive.js.map

'use strict';

angular.module('mediaboxApp').controller('RightMenuCtrl', function () {});
//# sourceMappingURL=right-menu.controller.js.map

'use strict';

angular.module('mediaboxApp').config(function ($stateProvider) {
  $stateProvider.state('right-menu', {
    url: '/right-menu',
    templateUrl: 'components/right-menu/right-menu.html',
    controller: 'RightMenuCtrl'
  });
});
//# sourceMappingURL=right-menu.js.map

/* global io */
'use strict';

angular.module('mediaboxApp').factory('socket', function (socketFactory) {
  // socket.io now auto-configures its connection when we ommit a connection url
  var ioSocket = io('', {
    // Send auth token on connection, you will need to DI the Auth service above
    // 'query': 'token=' + Auth.getToken()
    path: '/socket.io-client'
  });

  var socket = socketFactory({ ioSocket: ioSocket });

  return {
    socket: socket,

    /**
     * Register listeners to sync an array with updates on a model
     *
     * Takes the array we want to sync, the model name that socket updates are sent from,
     * and an optional callback function after new items are updated.
     *
     * @param {String} modelName
     * @param {Array} array
     * @param {Function} cb
     */
    syncUpdates: function syncUpdates(modelName, array, cb) {
      cb = cb || angular.noop;

      /**
       * Syncs item creation/updates on 'model:save'
       */
      socket.on(modelName + ':save', function (item) {
        var oldItem = _.find(array, { _id: item._id });
        var index = array.indexOf(oldItem);
        var event = 'created';

        // replace oldItem if it exists
        // otherwise just add item to the collection
        if (oldItem) {
          array.splice(index, 1, item);
          event = 'updated';
        } else {
          array.push(item);
        }

        cb(event, item, array);
      });

      /**
       * Syncs removed items on 'model:remove'
       */
      socket.on(modelName + ':remove', function (item) {
        var event = 'deleted';
        _.remove(array, { _id: item._id });
        cb(event, item, array);
      });
    },


    /**
     * Removes listeners for a models updates on the socket
     *
     * @param modelName
     */
    unsyncUpdates: function unsyncUpdates(modelName) {
      socket.removeAllListeners(modelName + ':save');
      socket.removeAllListeners(modelName + ':remove');
    }
  };
});
//# sourceMappingURL=socket.service.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var submitButtonComponent =
  /*@ngInject*/
  function submitButtonComponent($timeout) {
    _classCallCheck(this, submitButtonComponent);
  };

  angular.module('mediaboxApp').component('submitButton', {
    template: '\n    <div layout="column" layout-align="center stretch">\n\t    <md-button type="submit" class="md-raised circular-progress-button md-primary" ng-disabled="!$ctrl.form.$valid || $ctrl.loading" aria-label="{{$ctrl.text}}">\n\t\t\t\t<span  layout="row" layout-align="center center">\n\t\t\t\t\t<ng-md-icon icon="lock" ng-hide="$ctrl.loading"></ng-md-icon>\n\t\t\t\t\t<md-progress-circular md-mode="indeterminate" md-diameter="25" ng-show="$ctrl.loading" class="md-accent md-hue-1"></md-progress-circular>\n\t\t\t\t\t<span flex>{{$ctrl.text}}</span>\n\t\t\t\t</span>\n\t    </md-button>\n\t\t</div>\n    ',
    bindings: {
      loading: '<', // Read only
      form: '<', // String
      text: '@?' // 2way
    },
    controller: submitButtonComponent
  });
})();
//# sourceMappingURL=submit-button.component.js.map

'use strict';

/**
 * @ngdoc overview
 * @name toast
 * @requires ui.router
 * @requires ngMaterial
 * @description
 * The materialApp.toast module
 */

/**
 * @ngdoc service
 * @name toast.service:Toast
 * @description
 * Service which wraps $mdToast to simplify usage thereof
 */

(function () {
	'use strict';

	angular.module('mediaboxApp').service('Toast', ToastService).controller('ToastController', ToastController);

	/**
  * @ngdoc function
  * @name toast.service:ToastService
  * @description
  * Provider for the {@link toast.service:Toast Toast-service}
  *
  * AngularJS will instantiate a singleton by calling "new" on this function
  *
  * @param {$mdToast} $mdToast The toast service to use
  * @returns {Object} The service definition for the Toast Service
  */

	ToastService.$inject = ['$mdToast'];

	function ToastService($mdToast) {

		return {
			show: showToast,
			hide: hideToast
		};

		/**
   * @ngdoc function
   * @name showToast
   * @methodOf toast.service:Toast
   * @description
   * Display a toast with the given content. If the content is falsy
   * use vm.message.text instead.
   *
   * @param {String|Object} content The toasts content or message object.
   * If an object, the text property will be used as the toast content.
   *
   * @param {Object} [options] Options object passed to the toast service
   * @returns {Promise} The mdToast promise
   */
		function showToast(content, options) {
			if (!options) {
				options = {
					hideDelay: 3000,
					parent: '.toast-container',
					position: 'bottom',
					controller: 'ToastController',
					controllerAs: 'vm',
					templateUrl: 'components/toast/toast.html',
					locals: {
						type: content.type || 'info',
						text: content.text || content,
						link: content.link || false
					}
				};

				// set defaults for content.type warn
				if (content.type && content.type === 'warn') {
					options.hideDelay = 0;
				} else if (content.type && content.type === 'success') {
					options.hideDelay = 5000;
				}
			}

			return $mdToast.show(options);
		}

		/**
   * @ngdoc function
   * @name hideToast
   * @methodOf toast.service:Toast
   * @description
   * Hide the current toast
   * @returns {Promise} The mdToast promise
   */
		function hideToast() {
			return $mdToast.hide();
		}
	}

	/**
  * @ngdoc controller
  * @name toast.controller:ToastController
  * @description
  * ToastController
  *
  * Controller for the custom toast template
  *
  * @param {$mdToast} $mdToast - The toast service to use
  * @param {$state} $state - The state service to use
  * @param {String} type - Type of the information
  * @param {String} text - The toast message
  * @param {String|Object} link - The link or state config object to navigate to
  * @returns {Object} The service definition for the Toast Service
  */

	ToastController.$inject = ['$mdToast', '$state', 'type', 'text', 'link'];

	function ToastController($mdToast, $state, type, text, link) {
		var vm = this;

		/**
   * @ngdoc property
   * @name text
   * @description
   * Some awesome text
   * @propertyOf toast.controller:ToastController
   */
		vm.text = text;

		/**
   * @ngdoc property
   * @name link
   * @description
   * Some awesome link
   * @propertyOf toast.controller:ToastController
   */
		vm.link = link;

		/**
   * @ngdoc property
   * @name type
   * @description
   * Some awesome type
   * @propertyOf toast.controller:ToastController
   */
		vm.type = type;

		// functions (documented below)
		vm.showItem = showItem;
		vm.close = closeToast;

		/**
   * @ngdoc function
   * @name showItem
   * @description
   * Navigate to the injected state
   * @methodOf toast.controller:ToastController
   * @api private
   */
		function showItem() {
			vm.close();
			$state.go(vm.link.state, vm.link.params);
		}

		/**
   * @ngdoc function
   * @name closeToast
   * @description
   * Close the current toast
   * @methodOf toast.controller:ToastController
   * @api private
   */
		function closeToast() {
			$mdToast.hide();
		}
	}
})();
//# sourceMappingURL=toast.service.js.map

'use strict';

(function () {
	'use strict';

	/**
  * Register the ToggleComponentDirective directive as toggleComponent.
  * Register the directive controller as ToggleComponentController
  * @module materialApp.toggleComponent
  * @name ToggleComponent
  */

	angular.module('mediaboxApp').directive('toggleComponent', ToggleComponentDirective).controller('ToggleComponentController', ToggleComponentController);

	// inject dependencies for the ToggleComponentDirective
	ToggleComponentDirective.$inject = ['$timeout', '$animate', '$parse', '$mdMedia', '$mdConstant', '$q', '$document'];

	/**
  * Directive for components that can be toggled.
  *
  * @ngdoc directive
  * @name ToggleComponentDirective
  * @module materialApp.toggleComponent
  *
  * @param $timeout
  * @param $animate
  * @param $parse
  * @param $mdMedia
  * @param $mdConstant
  * @param $q
  * @param $document
  * @returns {{restrict: string, scope: {isOpen: string}, controller: string, compile: Function}}
  * @constructor
  */
	function ToggleComponentDirective($timeout, $animate, $parse, $mdMedia, $mdConstant, $q, $document) {
		return {
			restrict: 'A',

			scope: {
				isOpen: '=?toggleComponentIsOpen',
				keyDown: '=?toggleComponentOnKeydown'
			},

			controller: 'ToggleComponentController',

			compile: function compile(element) {
				element.addClass('toggle-component-closed');
				element.attr('tabIndex', '-1');
				return postLink;
			}
		};

		/**
   * Directive Post Link function
   */
		function postLink(scope, element, attr, toggleComponentCtrl) {
			var triggeringElement = null;
			var promise = $q.when(true);
			var isLockedOpenParsed = $parse(attr.toggleComponentIsOpen);
			var isLocked = function isLocked() {
				return isLockedOpenParsed(scope.$parent, { $media: $mdMedia });
			};

			element.on('$destroy', toggleComponentCtrl.destroy);
			scope.$watch(isLocked, updateIsLocked);
			scope.$watch('isOpen', updateIsOpen);

			// Publish special accessor for the Controller instance
			toggleComponentCtrl.$toggleOpen = toggleOpen;

			/**
    * Toggle the DOM classes to indicate `locked`
    * @param isLocked
    */
			function updateIsLocked(isLocked, oldValue) {
				if (isLocked === oldValue) {
					element.toggleClass('toggle-component-locked-open', !!isLocked);
				} else {
					$animate[isLocked ? 'addClass' : 'removeClass'](element, 'toggle-component-locked-open');
				}
			}

			/**
    * Toggle the toggleComponent view and attach/detach listeners
    * @param isOpen
    */
			function updateIsOpen(isOpen) {
				var parent = element.parent();

				if (scope.keyDown) {
					parent[isOpen ? 'on' : 'off']('keydown', onKeyDown);
				}

				if (isOpen) {
					triggeringElement = $document[0].activeElement;
				}

				return promise = $q.all([$animate[isOpen ? 'removeClass' : 'addClass'](element, 'toggle-component-closed').then(function setElementFocus() {
					if (scope.isOpen) {
						element.focus();
					}
				})]);
			}

			/**
    * Toggle the toggleComponent view and publish a promise to be resolved when
    * the view animation finishes.
    *
    * @param isOpen
    * @returns {*}
    */
			function toggleOpen(isOpen) {
				if (scope.isOpen === isOpen) {
					return $q.when(true);
				}
				var deferred = $q.defer();
				// Toggle value to force an async `updateIsOpen()` to run
				scope.isOpen = isOpen;
				$timeout(setElementFocus, 0, false);

				return deferred.promise;

				function setElementFocus() {
					// When the current `updateIsOpen()` animation finishes
					promise.then(function (result) {
						if (!scope.isOpen) {
							// reset focus to originating element (if available) upon close
							triggeringElement && triggeringElement.focus();
							triggeringElement = null;
						}

						deferred.resolve(result);
					});
				}
			}

			/**
    * Auto-close toggleComponent when the `escape` key is pressed.
    * @param evt
    */
			function onKeyDown(ev) {
				var isEscape = ev.keyCode === $mdConstant.KEY_CODE.ESCAPE;
				return isEscape ? close(ev) : $q.when(true);
			}

			/**
    * With backdrop `clicks` or `escape` key-press, immediately
    * apply the CSS close transition... Then notify the controller
    * to close() and perform its own actions.
   function close(ev) {
   	ev.preventDefault();
   	ev.stopPropagation();
   	return toggleComponentCtrl.close();
   }
    */
		}
	}

	// inject dependencies for the ToggleComponentController
	ToggleComponentController.$inject = ['$scope', '$element', '$attrs', '$q', '$mdComponentRegistry'];

	/**
  * @private
  * @ngdoc controller
  * @name ToggleComponentController
  * @module materialApp.toggleComponent
  *
  */
	function ToggleComponentController($scope, $element, $attrs, $q, $mdComponentRegistry) {
		var self = this;

		// Use Default internal method until overridden by directive postLink

		self.toggleOpen = function () {
			return $q.when($scope.isOpen);
		};

		self.isOpen = function () {
			return !!$scope.isOpen;
		};

		self.open = function () {
			return self.$toggleOpen(true);
		};

		self.close = function () {
			return self.$toggleOpen(false);
		};

		self.toggle = function () {
			return self.$toggleOpen(!$scope.isOpen);
		};

		self.destroy = $mdComponentRegistry.register(self, $attrs.mdComponentId);
	}
})();
//# sourceMappingURL=toggle-component.directive.js.map

'use strict';

(function () {
	'use strict';

	/**
  * Register the service as ToggleComponent
  * @module materialApp.toggleComponent
  * @name ToggleComponent
  */

	angular.module('mediaboxApp').service('ToggleComponent', ToggleComponentService);

	// add ToggleComponent dependencies to inject
	ToggleComponentService.$inject = ['$mdComponentRegistry', '$log', '$q'];

	/**
  * ToggleComponent constructor
  * AngularJS will instantiate a singleton by calling "new" on this function
  *
  * @ngdoc controller
  * @name ToggleComponentService
  * @module materialApp.toggleComponent
  * @returns {Object} The service definition for the ToggleComponent Service
  */
	function ToggleComponentService($mdComponentRegistry, $log, $q) {
		return function (contentHandle) {
			var errorMsg = "ToggleComponent '" + contentHandle + "' is not available!";
			var instance = $mdComponentRegistry.get(contentHandle);

			if (!instance) {
				$log.error('No content-switch found for handle ' + contentHandle);
			}

			return {
				isOpen: isOpen,
				toggle: toggle,
				open: open,
				close: close
			};

			function isOpen() {
				return instance && instance.isOpen();
			}

			function toggle() {
				return instance ? instance.toggle() : $q.reject(errorMsg);
			}

			function open() {
				return instance ? instance.open() : $q.reject(errorMsg);
			}

			function close() {
				return instance ? instance.close() : $q.reject(errorMsg);
			}
		};
	}
})();
//# sourceMappingURL=toggle-component.service.js.map

'use strict';

angular.module('mediaboxApp').directive('topMenu', function () {
  return {
    templateUrl: 'components/top-menu/top-menu.html',
    restrict: 'E',
    controller: 'TopMenuController',
    controllerAs: 'topmenu'
  };
});
//# sourceMappingURL=top-menu.directive.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopMenuController = function TopMenuController(ToggleComponent, Auth, $attrs, Settings, Category, LoginModal, CpModal, $state, $scope, $mdMedia) {
  _classCallCheck(this, TopMenuController);

  var vm = this;
  vm.Auth = Auth;
  vm.showDropdownMenu = false;
  vm.hasRole = Auth.hasRole;
  vm.isLoggedIn = Auth.isLoggedIn;
  vm.isAdmin = Auth.isAdmin;
  vm.$mdMedia = $mdMedia;
  vm.menu = Settings.menu;
  vm.categories = Category();
  var originatorEv;
  vm.openMenu = function ($mdOpenMenu, ev) {
    originatorEv = ev;
    $mdOpenMenu(ev);
  };
  vm.showLogin = function () {
    LoginModal.show($state.current.name);
  };
  vm.showCp = function () {
    CpModal.show();
  };
};

angular.module('mediaboxApp').controller('TopMenuController', TopMenuController);
//# sourceMappingURL=topmenu.controller.js.map

'use strict';

angular.module('mediaboxApp').directive('userAvatar', function () {
  return {
    replace: true,
    template: '<svg class="user-avatar" viewBox="0 0 128 128" height="64" width="64" pointer-events="none" display="block" > <path fill="#FF8A80" d="M0 0h128v128H0z"/> <path fill="#FFE0B2" d="M36.3 94.8c6.4 7.3 16.2 12.1 27.3 12.4 10.7-.3 20.3-4.7 26.7-11.6l.2.1c-17-13.3-12.9-23.4-8.5-28.6 1.3-1.2 2.8-2.5 4.4-3.9l13.1-11c1.5-1.2 2.6-3 2.9-5.1.6-4.4-2.5-8.4-6.9-9.1-1.5-.2-3 0-4.3.6-.3-1.3-.4-2.7-1.6-3.5-1.4-.9-2.8-1.7-4.2-2.5-7.1-3.9-14.9-6.6-23-7.9-5.4-.9-11-1.2-16.1.7-3.3 1.2-6.1 3.2-8.7 5.6-1.3 1.2-2.5 2.4-3.7 3.7l-1.8 1.9c-.3.3-.5.6-.8.8-.1.1-.2 0-.4.2.1.2.1.5.1.6-1-.3-2.1-.4-3.2-.2-4.4.6-7.5 4.7-6.9 9.1.3 2.1 1.3 3.8 2.8 5.1l11 9.3c1.8 1.5 3.3 3.8 4.6 5.7 1.5 2.3 2.8 4.9 3.5 7.6 1.7 6.8-.8 13.4-5.4 18.4-.5.6-1.1 1-1.4 1.7-.2.6-.4 1.3-.6 2-.4 1.5-.5 3.1-.3 4.6.4 3.1 1.8 6.1 4.1 8.2 3.3 3 8 4 12.4 4.5 5.2.6 10.5.7 15.7.2 4.5-.4 9.1-1.2 13-3.4 5.6-3.1 9.6-8.9 10.5-15.2M76.4 46c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6zm-25.7 0c.9 0 1.6.7 1.6 1.6 0 .9-.7 1.6-1.6 1.6-.9 0-1.6-.7-1.6-1.6-.1-.9.7-1.6 1.6-1.6z"/> <path fill="#E0F7FA" d="M105.3 106.1c-.9-1.3-1.3-1.9-1.3-1.9l-.2-.3c-.6-.9-1.2-1.7-1.9-2.4-3.2-3.5-7.3-5.4-11.4-5.7 0 0 .1 0 .1.1l-.2-.1c-6.4 6.9-16 11.3-26.7 11.6-11.2-.3-21.1-5.1-27.5-12.6-.1.2-.2.4-.2.5-3.1.9-6 2.7-8.4 5.4l-.2.2s-.5.6-1.5 1.7c-.9 1.1-2.2 2.6-3.7 4.5-3.1 3.9-7.2 9.5-11.7 16.6-.9 1.4-1.7 2.8-2.6 4.3h109.6c-3.4-7.1-6.5-12.8-8.9-16.9-1.5-2.2-2.6-3.8-3.3-5z"/> <circle fill="#444" cx="76.3" cy="47.5" r="2"/> <circle fill="#444" cx="50.7" cy="47.6" r="2"/> <path fill="#444" d="M48.1 27.4c4.5 5.9 15.5 12.1 42.4 8.4-2.2-6.9-6.8-12.6-12.6-16.4C95.1 20.9 92 10 92 10c-1.4 5.5-11.1 4.4-11.1 4.4H62.1c-1.7-.1-3.4 0-5.2.3-12.8 1.8-22.6 11.1-25.7 22.9 10.6-1.9 15.3-7.6 16.9-10.2z"/> </svg>'
  };
});
//# sourceMappingURL=user-avatar.directive.js.map

'use strict';

(function () {

  /**
   * The Util service is for thin, globally reusable, utility functions
   */
  function UtilService($window) {
    var Util = {
      /**
       * Return a callback or noop function
       *
       * @param  {Function|*} cb - a 'potential' function
       * @return {Function}
       */
      safeCb: function safeCb(cb) {
        return angular.isFunction(cb) ? cb : angular.noop;
      },


      /**
       * Parse a given url with the use of an anchor element
       *
       * @param  {String} url - the url to parse
       * @return {Object}     - the parsed url, anchor element
       */
      urlParse: function urlParse(url) {
        var a = document.createElement('a');
        a.href = url;

        // Special treatment for IE, see http://stackoverflow.com/a/13405933 for details
        if (a.host === '') {
          a.href = a.href;
        }

        return a;
      },


      /**
       * Test whether or not a given url is same origin
       *
       * @param  {String}           url       - url to test
       * @param  {String|String[]}  [origins] - additional origins to test against
       * @return {Boolean}                    - true if url is same origin
       */
      isSameOrigin: function isSameOrigin(url, origins) {
        url = Util.urlParse(url);
        origins = origins && [].concat(origins) || [];
        origins = origins.map(Util.urlParse);
        origins.push($window.location);
        origins = origins.filter(function (o) {
          return url.hostname === o.hostname && url.port === o.port && url.protocol === o.protocol;
        });
        return origins.length >= 1;
      }
    };

    return Util;
  }

  angular.module('mediaboxApp.util').factory('Util', UtilService);
})();
//# sourceMappingURL=util.service.js.map

'use strict';

/*! Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */

;(function ($, window, undefined) {
  'use strict';

  /* PLUGIN DEFINITION
   * ========================= */

  $.fn.backstretch = function (images, options) {
    // We need at least one image or method name
    if (images === undefined || images.length === 0) {
      $.error("No images were supplied for Backstretch");
    }

    /*
     * Scroll the page one pixel to get the right window height on iOS
     * Pretty harmless for everyone else
    */
    if ($(window).scrollTop() === 0) {
      window.scrollTo(0, 0);
    }

    return this.each(function () {
      var $this = $(this),
          obj = $this.data('backstretch');

      // Do we already have an instance attached to this element?
      if (obj) {

        // Is this a method they're trying to execute?
        if (typeof images == 'string' && typeof obj[images] == 'function') {
          // Call the method
          obj[images](options);

          // No need to do anything further
          return;
        }

        // Merge the old options with the new
        options = $.extend(obj.options, options);

        // Remove the old instance
        obj.destroy(true);
      }

      obj = new Backstretch(this, images, options);
      $this.data('backstretch', obj);
    });
  };

  // If no element is supplied, we'll attach to body
  $.backstretch = function (images, options) {
    // Return the instance
    return $('body').backstretch(images, options).data('backstretch');
  };

  // Custom selector
  $.expr[':'].backstretch = function (elem) {
    return $(elem).data('backstretch') !== undefined;
  };

  /* DEFAULTS
   * ========================= */

  $.fn.backstretch.defaults = {
    centeredX: true // Should we center the image on the X axis?
    , centeredY: true // Should we center the image on the Y axis?
    , duration: 5000 // Amount of time in between slides (if slideshow)
    , fade: 0 // Speed of fade transition between slides
  };

  /* STYLES
   * 
   * Baked-in styles that we'll apply to our elements.
   * In an effort to keep the plugin simple, these are not exposed as options.
   * That said, anyone can override these in their own stylesheet.
   * ========================= */
  var styles = {
    wrap: {
      left: 0,
      top: 0,
      overflow: 'hidden',
      margin: 0,
      padding: 0,
      height: '100%',
      width: '100%',
      zIndex: -999999
    },
    img: {
      position: 'absolute',
      display: 'none',
      margin: 0,
      padding: 0,
      border: 'none',
      width: 'auto',
      height: 'auto',
      maxHeight: 'none',
      maxWidth: 'none',
      zIndex: -999999
    }
  };

  /* CLASS DEFINITION
   * ========================= */
  var Backstretch = function Backstretch(container, images, options) {
    this.options = $.extend({}, $.fn.backstretch.defaults, options || {});

    /* In its simplest form, we allow Backstretch to be called on an image path.
     * e.g. $.backstretch('/path/to/image-f6a7d67423.jpg')
     * So, we need to turn this back into an array.
     */
    this.images = $.isArray(images) ? images : [images];

    // Preload images
    $.each(this.images, function () {
      $('<img />')[0].src = this;
    });

    // Convenience reference to know if the container is body.
    this.isBody = container === document.body;

    /* We're keeping track of a few different elements
     *
     * Container: the element that Backstretch was called on.
     * Wrap: a DIV that we place the image into, so we can hide the overflow.
     * Root: Convenience reference to help calculate the correct height.
     */
    this.$container = $(container);
    this.$root = this.isBody ? supportsFixedPosition ? $(window) : $(document) : this.$container;

    // Don't create a new wrap if one already exists (from a previous instance of Backstretch)
    var $existing = this.$container.children(".backstretch").first();
    this.$wrap = $existing.length ? $existing : $('<div class="backstretch"></div>').css(styles.wrap).appendTo(this.$container);

    // Non-body elements need some style adjustments
    if (!this.isBody) {
      // If the container is statically positioned, we need to make it relative,
      // and if no zIndex is defined, we should set it to zero.
      var position = this.$container.css('position'),
          zIndex = this.$container.css('zIndex');

      this.$container.css({
        position: position === 'static' ? 'relative' : position,
        zIndex: zIndex === 'auto' ? 0 : zIndex,
        background: 'none'
      });

      // Needs a higher z-index
      this.$wrap.css({ zIndex: -999998 });
    }

    // Fixed or absolute positioning?
    this.$wrap.css({
      position: this.isBody && supportsFixedPosition ? 'fixed' : 'absolute'
    });

    // Set the first image
    this.index = 0;
    this.show(this.index);

    // Listen for resize
    $(window).on('resize.backstretch', $.proxy(this.resize, this)).on('orientationchange.backstretch', $.proxy(function () {
      // Need to do this in order to get the right window height
      if (this.isBody && window.pageYOffset === 0) {
        window.scrollTo(0, 1);
        this.resize();
      }
    }, this));
  };

  /* PUBLIC METHODS
   * ========================= */
  Backstretch.prototype = {
    resize: function resize() {
      try {
        var bgCSS = { left: 0, top: 0 },
            rootWidth = this.isBody ? this.$root.width() : this.$root.innerWidth(),
            bgWidth = rootWidth,
            rootHeight = this.isBody ? window.innerHeight ? window.innerHeight : this.$root.height() : this.$root.innerHeight(),
            bgHeight = bgWidth / this.$img.data('ratio'),
            bgOffset;

        // Make adjustments based on image ratio
        if (bgHeight >= rootHeight) {
          bgOffset = (bgHeight - rootHeight) / 2;
          if (this.options.centeredY) {
            bgCSS.top = '-' + bgOffset + 'px';
          }
        } else {
          bgHeight = rootHeight;
          bgWidth = bgHeight * this.$img.data('ratio');
          bgOffset = (bgWidth - rootWidth) / 2;
          if (this.options.centeredX) {
            bgCSS.left = '-' + bgOffset + 'px';
          }
        }

        this.$wrap.css({ width: rootWidth, height: rootHeight }).find('img:not(.deleteable)').css({ width: bgWidth, height: bgHeight }).css(bgCSS);
      } catch (err) {
        // IE7 seems to trigger resize before the image is loaded.
        // This try/catch block is a hack to let it fail gracefully.
      }

      return this;
    }

    // Show the slide at a certain position
    , show: function show(newIndex) {

      // Validate index
      if (Math.abs(newIndex) > this.images.length - 1) {
        return;
      }

      // Vars
      var self = this,
          oldImage = self.$wrap.find('img').addClass('deleteable'),
          evtOptions = { relatedTarget: self.$container[0] };

      // Trigger the "before" event
      self.$container.trigger($.Event('backstretch.before', evtOptions), [self, newIndex]);

      // Set the new index
      this.index = newIndex;

      // Pause the slideshow
      clearInterval(self.interval);

      // New image
      self.$img = $('<img />').css(styles.img).bind('load', function (e) {
        var imgWidth = this.width || $(e.target).width(),
            imgHeight = this.height || $(e.target).height();

        // Save the ratio
        $(this).data('ratio', imgWidth / imgHeight);

        // Show the image, then delete the old one
        // "speed" option has been deprecated, but we want backwards compatibilty
        $(this).fadeIn(self.options.speed || self.options.fade, function () {
          oldImage.remove();

          // Resume the slideshow
          if (!self.paused) {
            self.cycle();
          }

          // Trigger the "after" and "show" events
          // "show" is being deprecated
          $(['after', 'show']).each(function () {
            self.$container.trigger($.Event('backstretch.' + this, evtOptions), [self, newIndex]);
          });
        });

        // Resize
        self.resize();
      }).appendTo(self.$wrap);

      // Hack for IE img onload event
      self.$img.attr('src', self.images[newIndex]);
      return self;
    },

    next: function next() {
      // Next slide
      return this.show(this.index < this.images.length - 1 ? this.index + 1 : 0);
    },

    prev: function prev() {
      // Previous slide
      return this.show(this.index === 0 ? this.images.length - 1 : this.index - 1);
    },

    pause: function pause() {
      // Pause the slideshow
      this.paused = true;
      return this;
    },

    resume: function resume() {
      // Resume the slideshow
      this.paused = false;
      this.next();
      return this;
    },

    cycle: function cycle() {
      // Start/resume the slideshow
      if (this.images.length > 1) {
        // Clear the interval, just in case
        clearInterval(this.interval);

        this.interval = setInterval($.proxy(function () {
          // Check for paused slideshow
          if (!this.paused) {
            this.next();
          }
        }, this), this.options.duration);
      }
      return this;
    },

    destroy: function destroy(preserveBackground) {
      // Stop the resize events
      $(window).off('resize.backstretch orientationchange.backstretch');

      // Clear the interval
      clearInterval(this.interval);

      // Remove Backstretch
      if (!preserveBackground) {
        this.$wrap.remove();
      }
      this.$container.removeData('backstretch');
    }
  };

  /* SUPPORTS FIXED POSITION?
   *
   * Based on code from jQuery Mobile 1.1.0
   * http://jquerymobile.com/
   *
   * In a nutshell, we need to figure out if fixed positioning is supported.
   * Unfortunately, this is very difficult to do on iOS, and usually involves
   * injecting content, scrolling the page, etc.. It's ugly.
   * jQuery Mobile uses this workaround. It's not ideal, but works.
   *
   * Modified to detect IE6
   * ========================= */

  var supportsFixedPosition = function () {
    var ua = navigator.userAgent,
        platform = navigator.platform
    // Rendering engine is Webkit, and capture major version
    ,
        wkmatch = ua.match(/AppleWebKit\/([0-9]+)/),
        wkversion = !!wkmatch && wkmatch[1],
        ffmatch = ua.match(/Fennec\/([0-9]+)/),
        ffversion = !!ffmatch && ffmatch[1],
        operammobilematch = ua.match(/Opera Mobi\/([0-9]+)/),
        omversion = !!operammobilematch && operammobilematch[1],
        iematch = ua.match(/MSIE ([0-9]+)/),
        ieversion = !!iematch && iematch[1];

    return !(
    // iOS 4.3 and older : Platform is iPhone/Pad/Touch and Webkit version is less than 534 (ios5)
    (platform.indexOf("iPhone") > -1 || platform.indexOf("iPad") > -1 || platform.indexOf("iPod") > -1) && wkversion && wkversion < 534 ||

    // Opera Mini
    window.operamini && {}.toString.call(window.operamini) === "[object OperaMini]" || operammobilematch && omversion < 7458 ||

    //Android lte 2.1: Platform is Android and Webkit version is less than 533 (Android 2.2)
    ua.indexOf("Android") > -1 && wkversion && wkversion < 533 ||

    // Firefox Mobile before 6.0 -
    ffversion && ffversion < 6 ||

    // WebOS less than 3
    "palmGetResource" in window && wkversion && wkversion < 534 ||

    // MeeGo
    ua.indexOf("MeeGo") > -1 && ua.indexOf("NokiaBrowser/8.5.0") > -1 ||

    // IE6
    ieversion && ieversion <= 6);
  }();
})(jQuery, window);
//# sourceMappingURL=jquery.backstretch.js.map

"use strict";

/*! Backstretch - v2.0.4 - 2013-06-19
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2013 Scott Robbin; Licensed MIT */
(function (a, d, p) {
  a.fn.backstretch = function (c, b) {
    (c === p || 0 === c.length) && a.error("No images were supplied for Backstretch");0 === a(d).scrollTop() && d.scrollTo(0, 0);return this.each(function () {
      var d = a(this),
          g = d.data("backstretch");if (g) {
        if ("string" == typeof c && "function" == typeof g[c]) {
          g[c](b);return;
        }b = a.extend(g.options, b);g.destroy(!0);
      }g = new q(this, c, b);d.data("backstretch", g);
    });
  };a.backstretch = function (c, b) {
    return a("body").backstretch(c, b).data("backstretch");
  };a.expr[":"].backstretch = function (c) {
    return a(c).data("backstretch") !== p;
  };a.fn.backstretch.defaults = { centeredX: !0, centeredY: !0, duration: 5E3, fade: 0 };var r = { left: 0, top: 0, overflow: "hidden", margin: 0, padding: 0, height: "100%", width: "100%", zIndex: -999999 },
      s = { position: "absolute", display: "none", margin: 0, padding: 0, border: "none", width: "auto", height: "auto", maxHeight: "none", maxWidth: "none", zIndex: -999999 },
      q = function q(c, b, e) {
    this.options = a.extend({}, a.fn.backstretch.defaults, e || {});this.images = a.isArray(b) ? b : [b];a.each(this.images, function () {
      a("<img />")[0].src = this;
    });this.isBody = c === document.body;this.$container = a(c);this.$root = this.isBody ? l ? a(d) : a(document) : this.$container;c = this.$container.children(".backstretch").first();this.$wrap = c.length ? c : a('<div class="backstretch"></div>').css(r).appendTo(this.$container);this.isBody || (c = this.$container.css("position"), b = this.$container.css("zIndex"), this.$container.css({ position: "static" === c ? "relative" : c, zIndex: "auto" === b ? 0 : b, background: "none" }), this.$wrap.css({ zIndex: -999998 }));this.$wrap.css({ position: this.isBody && l ? "fixed" : "absolute" });this.index = 0;this.show(this.index);a(d).on("resize.backstretch", a.proxy(this.resize, this)).on("orientationchange.backstretch", a.proxy(function () {
      this.isBody && 0 === d.pageYOffset && (d.scrollTo(0, 1), this.resize());
    }, this));
  };q.prototype = { resize: function resize() {
      try {
        var a = { left: 0, top: 0 },
            b = this.isBody ? this.$root.width() : this.$root.innerWidth(),
            e = b,
            g = this.isBody ? d.innerHeight ? d.innerHeight : this.$root.height() : this.$root.innerHeight(),
            j = e / this.$img.data("ratio"),
            f;j >= g ? (f = (j - g) / 2, this.options.centeredY && (a.top = "-" + f + "px")) : (j = g, e = j * this.$img.data("ratio"), f = (e - b) / 2, this.options.centeredX && (a.left = "-" + f + "px"));this.$wrap.css({ width: b, height: g }).find("img:not(.deleteable)").css({ width: e, height: j }).css(a);
      } catch (h) {}return this;
    }, show: function show(c) {
      if (!(Math.abs(c) > this.images.length - 1)) {
        var b = this,
            e = b.$wrap.find("img").addClass("deleteable"),
            d = { relatedTarget: b.$container[0] };b.$container.trigger(a.Event("backstretch.before", d), [b, c]);this.index = c;clearInterval(b.interval);b.$img = a("<img />").css(s).bind("load", function (f) {
          var h = this.width || a(f.target).width();f = this.height || a(f.target).height();a(this).data("ratio", h / f);a(this).fadeIn(b.options.speed || b.options.fade, function () {
            e.remove();b.paused || b.cycle();a(["after", "show"]).each(function () {
              b.$container.trigger(a.Event("backstretch." + this, d), [b, c]);
            });
          });b.resize();
        }).appendTo(b.$wrap);b.$img.attr("src", b.images[c]);return b;
      }
    }, next: function next() {
      return this.show(this.index < this.images.length - 1 ? this.index + 1 : 0);
    }, prev: function prev() {
      return this.show(0 === this.index ? this.images.length - 1 : this.index - 1);
    }, pause: function pause() {
      this.paused = !0;return this;
    }, resume: function resume() {
      this.paused = !1;this.next();return this;
    }, cycle: function cycle() {
      1 < this.images.length && (clearInterval(this.interval), this.interval = setInterval(a.proxy(function () {
        this.paused || this.next();
      }, this), this.options.duration));return this;
    }, destroy: function destroy(c) {
      a(d).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);c || this.$wrap.remove();this.$container.removeData("backstretch");
    } };var l,
      f = navigator.userAgent,
      m = navigator.platform,
      e = f.match(/AppleWebKit\/([0-9]+)/),
      e = !!e && e[1],
      h = f.match(/Fennec\/([0-9]+)/),
      h = !!h && h[1],
      n = f.match(/Opera Mobi\/([0-9]+)/),
      t = !!n && n[1],
      k = f.match(/MSIE ([0-9]+)/),
      k = !!k && k[1];l = !((-1 < m.indexOf("iPhone") || -1 < m.indexOf("iPad") || -1 < m.indexOf("iPod")) && e && 534 > e || d.operamini && "[object OperaMini]" === {}.toString.call(d.operamini) || n && 7458 > t || -1 < f.indexOf("Android") && e && 533 > e || h && 6 > h || "palmGetResource" in d && e && 534 > e || -1 < f.indexOf("MeeGo") && -1 < f.indexOf("NokiaBrowser/8.5.0") || k && 6 >= k);
})(jQuery, window);
//# sourceMappingURL=jquery.backstretch.min.js.map

"use strict";
//# sourceMappingURL=scripts.js.map

'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
  var wishComponent =
  /*@ngInject*/
  function wishComponent(Wishlist, Toast, Auth, LoginModal) {
    _classCallCheck(this, wishComponent);

    var vm = this;
    var product = {};
    var variant = {};
    vm.$onChanges = function (changesObj) {
      if (changesObj.product) product = changesObj.product.currentValue;
      if (changesObj.variant) variant = changesObj.variant.currentValue;else variant = '~~~~~~~~~~~~~~~';
      if (product && variant) {
        var q = { where: { 'product._id': product._id, 'variant._id': variant._id } };
        vm.cls = 'md-primary';
        var wishlist = Wishlist.my.query(q, function (data) {
          if (data[0]) vm.cls = 'md-accent';
        });
      }
    };

    // On click select star
    vm.toggleWishlist = function () {
      if (vm.readOnly) return;
      if (!Auth.getCurrentUser().name) {
        LoginModal.show('single-product', true); // Reload = true
        return;
      }
      var p = { product: this.product, variant: this.variant };
      // pid: vm.product._id,
      // pname: vm.product.name,
      // slug: vm.product.slug,
      // image:vm.product.variants[0].image,
      // price:vm.product.variants[0].price,
      // mrp:vm.product.variants[0].mrp,
      // keyFeatures: vm.product.keyFeatures
      // }
      Wishlist.save(p, function (data) {
        if (data._id) {
          Toast.show({ type: 'success', text: 'Added to your wishlist' });
          vm.cls = 'md-accent';
        } else vm.cls = 'md-primary';
      });
    };
  };

  angular.module('mediaboxApp').component('wish', {
    template: '\n    <md-button class="wishlist-component md-mini" aria-label="Add to wishlist" ng-class="$ctrl.cls"\n    ng-click="$ctrl.toggleWishlist()">\n        <ng-md-icon icon="favorite"></ng-md-icon>&nbsp;<span ng-if="$ctrl.cls === \'md-accent\'">Wished</span><span ng-if="$ctrl.cls !== \'md-accent\'">Add To Wishlist</span>\n    </md-button>\n    ',
    bindings: {
      product: '<', // Read only
      variant: '<', // Read only
      pid: '<', // Product ID passed because initially the whole product object will not be ready
      readOnly: '@?' // String value
    },
    controller: wishComponent
  });
})();
//# sourceMappingURL=wish.component.js.map

"use strict";

!function () {
  var Color, K, PITHIRD, TWOPI, X, Y, Z, _bezier, brewer, chroma, clip_rgb, colors, cos, css2rgb, hex2rgb, hsi2rgb, hsl2rgb, hsv2rgb, lab2lch, lab2rgb, lab_xyz, lch2lab, lch2rgb, limit, luminance, luminance_x, rgb2hex, rgb2hsi, rgb2hsl, rgb2hsv, rgb2lab, rgb2lch, rgb_xyz, root, type, unpack, xyz_lab, xyz_rgb, _ref;root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma = root.chroma = function (x, y, z, m) {
    return new Color(x, y, z, m);
  };if (typeof module !== "undefined" && module !== null) {
    module.exports = chroma;
  }chroma.color = function (x, y, z, m) {
    return new Color(x, y, z, m);
  };chroma.hsl = function (h, s, l, a) {
    return new Color(h, s, l, a, "hsl");
  };chroma.hsv = function (h, s, v, a) {
    return new Color(h, s, v, a, "hsv");
  };chroma.rgb = function (r, g, b, a) {
    return new Color(r, g, b, a, "rgb");
  };chroma.hex = function (x) {
    return new Color(x);
  };chroma.css = function (x) {
    return new Color(x);
  };chroma.lab = function (l, a, b) {
    return new Color(l, a, b, "lab");
  };chroma.lch = function (l, c, h) {
    return new Color(l, c, h, "lch");
  };chroma.hsi = function (h, s, i) {
    return new Color(h, s, i, "hsi");
  };chroma.interpolate = function (a, b, f, m) {
    if (a == null || b == null) {
      return "#000";
    }if (type(a) === "string") {
      a = new Color(a);
    }if (type(b) === "string") {
      b = new Color(b);
    }return a.interpolate(f, b, m);
  };chroma.mix = chroma.interpolate;chroma.contrast = function (a, b) {
    var l1, l2;if (type(a) === "string") {
      a = new Color(a);
    }if (type(b) === "string") {
      b = new Color(b);
    }l1 = a.luminance();l2 = b.luminance();if (l1 > l2) {
      return (l1 + .05) / (l2 + .05);
    } else {
      return (l2 + .05) / (l1 + .05);
    }
  };chroma.luminance = function (color) {
    return chroma(color).luminance();
  };chroma._Color = Color;Color = function () {
    function Color() {
      var a, arg, args, m, me, me_rgb, x, y, z, _i, _len, _ref, _ref1, _ref2, _ref3;me = this;args = [];for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];if (arg != null) {
          args.push(arg);
        }
      }if (args.length === 0) {
        _ref = [255, 0, 255, 1, "rgb"], x = _ref[0], y = _ref[1], z = _ref[2], a = _ref[3], m = _ref[4];
      } else if (type(args[0]) === "array") {
        if (args[0].length === 3) {
          _ref1 = args[0], x = _ref1[0], y = _ref1[1], z = _ref1[2];a = 1;
        } else if (args[0].length === 4) {
          _ref2 = args[0], x = _ref2[0], y = _ref2[1], z = _ref2[2], a = _ref2[3];
        } else {
          throw "unknown input argument";
        }m = args[1];
      } else if (type(args[0]) === "string") {
        x = args[0];m = "hex";
      } else if (type(args[0]) === "object") {
        _ref3 = args[0]._rgb, x = _ref3[0], y = _ref3[1], z = _ref3[2], a = _ref3[3];m = "rgb";
      } else if (args.length >= 3) {
        x = args[0];y = args[1];z = args[2];
      }if (args.length === 3) {
        m = "rgb";a = 1;
      } else if (args.length === 4) {
        if (type(args[3]) === "string") {
          m = args[3];a = 1;
        } else if (type(args[3]) === "number") {
          m = "rgb";a = args[3];
        }
      } else if (args.length === 5) {
        a = args[3];m = args[4];
      }if (a == null) {
        a = 1;
      }if (m === "rgb") {
        me._rgb = [x, y, z, a];
      } else if (m === "hsl") {
        me._rgb = hsl2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hsv") {
        me._rgb = hsv2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hex") {
        me._rgb = hex2rgb(x);
      } else if (m === "lab") {
        me._rgb = lab2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "lch") {
        me._rgb = lch2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hsi") {
        me._rgb = hsi2rgb(x, y, z);me._rgb[3] = a;
      }me_rgb = clip_rgb(me._rgb);
    }Color.prototype.rgb = function () {
      return this._rgb.slice(0, 3);
    };Color.prototype.rgba = function () {
      return this._rgb;
    };Color.prototype.hex = function () {
      return rgb2hex(this._rgb);
    };Color.prototype.toString = function () {
      return this.hex();
    };Color.prototype.hsl = function () {
      return rgb2hsl(this._rgb);
    };Color.prototype.hsv = function () {
      return rgb2hsv(this._rgb);
    };Color.prototype.lab = function () {
      return rgb2lab(this._rgb);
    };Color.prototype.lch = function () {
      return rgb2lch(this._rgb);
    };Color.prototype.hsi = function () {
      return rgb2hsi(this._rgb);
    };Color.prototype.luminance = function () {
      return luminance(this._rgb);
    };Color.prototype.name = function () {
      var h, k;h = this.hex();for (k in chroma.colors) {
        if (h === chroma.colors[k]) {
          return k;
        }
      }return h;
    };Color.prototype.alpha = function (alpha) {
      if (arguments.length) {
        this._rgb[3] = alpha;return this;
      }return this._rgb[3];
    };Color.prototype.css = function () {
      if (this._rgb[3] < 1) {
        return "rgba(" + this._rgb.join(",") + ")";
      } else {
        return "rgb(" + this._rgb.slice(0, 3).join(",") + ")";
      }
    };Color.prototype.interpolate = function (f, col, m) {
      var dh, hue, hue0, hue1, lbv, lbv0, lbv1, me, res, sat, sat0, sat1, xyz0, xyz1;me = this;if (m == null) {
        m = "rgb";
      }if (type(col) === "string") {
        col = new Color(col);
      }if (m === "hsl" || m === "hsv" || m === "lch" || m === "hsi") {
        if (m === "hsl") {
          xyz0 = me.hsl();xyz1 = col.hsl();
        } else if (m === "hsv") {
          xyz0 = me.hsv();xyz1 = col.hsv();
        } else if (m === "hsi") {
          xyz0 = me.hsi();xyz1 = col.hsi();
        } else if (m === "lch") {
          xyz0 = me.lch();xyz1 = col.lch();
        }if (m.substr(0, 1) === "h") {
          hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];
        } else {
          lbv0 = xyz0[0], sat0 = xyz0[1], hue0 = xyz0[2];lbv1 = xyz1[0], sat1 = xyz1[1], hue1 = xyz1[2];
        }if (!isNaN(hue0) && !isNaN(hue1)) {
          if (hue1 > hue0 && hue1 - hue0 > 180) {
            dh = hue1 - (hue0 + 360);
          } else if (hue1 < hue0 && hue0 - hue1 > 180) {
            dh = hue1 + 360 - hue0;
          } else {
            dh = hue1 - hue0;
          }hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
          hue = hue0;if (lbv1 === 1 || lbv1 === 0) {
            sat = sat0;
          }
        } else if (!isNaN(hue1)) {
          hue = hue1;if (lbv0 === 1 || lbv0 === 0) {
            sat = sat1;
          }
        } else {
          hue = Number.NaN;
        }if (sat == null) {
          sat = sat0 + f * (sat1 - sat0);
        }lbv = lbv0 + f * (lbv1 - lbv0);if (m.substr(0, 1) === "h") {
          res = new Color(hue, sat, lbv, m);
        } else {
          res = new Color(lbv, sat, hue, m);
        }
      } else if (m === "rgb") {
        xyz0 = me._rgb;xyz1 = col._rgb;res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);
      } else if (m === "lab") {
        xyz0 = me.lab();xyz1 = col.lab();res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);
      } else {
        throw "color mode " + m + " is not supported";
      }res.alpha(me.alpha() + f * (col.alpha() - me.alpha()));return res;
    };Color.prototype.darken = function (amount) {
      var lch, me;if (amount == null) {
        amount = 20;
      }me = this;lch = me.lch();lch[0] -= amount;return chroma.lch(lch).alpha(me.alpha());
    };Color.prototype.darker = function (amount) {
      return this.darken(amount);
    };Color.prototype.brighten = function (amount) {
      if (amount == null) {
        amount = 20;
      }return this.darken(-amount);
    };Color.prototype.brighter = function (amount) {
      return this.brighten(amount);
    };Color.prototype.saturate = function (amount) {
      var lch, me;if (amount == null) {
        amount = 20;
      }me = this;lch = me.lch();lch[1] += amount;return chroma.lch(lch).alpha(me.alpha());
    };Color.prototype.desaturate = function (amount) {
      if (amount == null) {
        amount = 20;
      }return this.saturate(-amount);
    };return Color;
  }();clip_rgb = function clip_rgb(rgb) {
    var i;for (i in rgb) {
      if (i < 3) {
        if (rgb[i] < 0) {
          rgb[i] = 0;
        }if (rgb[i] > 255) {
          rgb[i] = 255;
        }
      } else if (i === 3) {
        if (rgb[i] < 0) {
          rgb[i] = 0;
        }if (rgb[i] > 1) {
          rgb[i] = 1;
        }
      }
    }return rgb;
  };css2rgb = function css2rgb(css) {
    var hsl, i, m, rgb, _i, _j, _k, _l;if (chroma.colors != null && chroma.colors[css]) {
      return hex2rgb(chroma.colors[css]);
    }if (m = css.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) {
      rgb = m.slice(1, 4);for (i = _i = 0; _i <= 2; i = ++_i) {
        rgb[i] = +rgb[i];
      }rgb[3] = 1;
    } else if (m = css.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)) {
      rgb = m.slice(1, 5);for (i = _j = 0; _j <= 3; i = ++_j) {
        rgb[i] = +rgb[i];
      }
    } else if (m = css.match(/rgb\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
      rgb = m.slice(1, 4);for (i = _k = 0; _k <= 2; i = ++_k) {
        rgb[i] = Math.round(rgb[i] * 2.55);
      }rgb[3] = 1;
    } else if (m = css.match(/rgba\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*,\s*([01]|[01]?\.\d+)\)/)) {
      rgb = m.slice(1, 5);for (i = _l = 0; _l <= 2; i = ++_l) {
        rgb[i] = Math.round(rgb[i] * 2.55);
      }rgb[3] = +rgb[3];
    } else if (m = css.match(/hsl\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
      hsl = m.slice(1, 4);hsl[1] *= .01;hsl[2] *= .01;rgb = hsl2rgb(hsl);rgb[3] = 1;
    } else if (m = css.match(/hsla\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*,\s*([01]|[01]?\.\d+)\)/)) {
      hsl = m.slice(1, 4);hsl[1] *= .01;hsl[2] *= .01;rgb = hsl2rgb(hsl);rgb[3] = +m[4];
    }return rgb;
  };hex2rgb = function hex2rgb(hex) {
    var a, b, g, r, rgb, u;if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {
      if (hex.length === 4 || hex.length === 7) {
        hex = hex.substr(1);
      }if (hex.length === 3) {
        hex = hex.split("");hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
      }u = parseInt(hex, 16);r = u >> 16;g = u >> 8 & 255;b = u & 255;return [r, g, b, 1];
    }if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {
      if (hex.length === 9) {
        hex = hex.substr(1);
      }u = parseInt(hex, 16);r = u >> 24 & 255;g = u >> 16 & 255;b = u >> 8 & 255;a = u & 255;return [r, g, b, a];
    }if (rgb = css2rgb(hex)) {
      return rgb;
    }throw "unknown color: " + hex;
  };hsi2rgb = function hsi2rgb(h, s, i) {
    var b, g, r, _ref;_ref = unpack(arguments), h = _ref[0], s = _ref[1], i = _ref[2];h /= 360;if (h < 1 / 3) {
      b = (1 - s) / 3;r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;g = 1 - (b + r);
    } else if (h < 2 / 3) {
      h -= 1 / 3;r = (1 - s) / 3;g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;b = 1 - (r + g);
    } else {
      h -= 2 / 3;g = (1 - s) / 3;b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;r = 1 - (g + b);
    }r = limit(i * r * 3);g = limit(i * g * 3);b = limit(i * b * 3);return [r * 255, g * 255, b * 255];
  };hsl2rgb = function hsl2rgb() {
    var b, c, g, h, i, l, r, s, t1, t2, t3, _i, _ref, _ref1;_ref = unpack(arguments), h = _ref[0], s = _ref[1], l = _ref[2];if (s === 0) {
      r = g = b = l * 255;
    } else {
      t3 = [0, 0, 0];c = [0, 0, 0];t2 = l < .5 ? l * (1 + s) : l + s - l * s;t1 = 2 * l - t2;h /= 360;t3[0] = h + 1 / 3;t3[1] = h;t3[2] = h - 1 / 3;for (i = _i = 0; _i <= 2; i = ++_i) {
        if (t3[i] < 0) {
          t3[i] += 1;
        }if (t3[i] > 1) {
          t3[i] -= 1;
        }if (6 * t3[i] < 1) {
          c[i] = t1 + (t2 - t1) * 6 * t3[i];
        } else if (2 * t3[i] < 1) {
          c[i] = t2;
        } else if (3 * t3[i] < 2) {
          c[i] = t1 + (t2 - t1) * (2 / 3 - t3[i]) * 6;
        } else {
          c[i] = t1;
        }
      }_ref1 = [Math.round(c[0] * 255), Math.round(c[1] * 255), Math.round(c[2] * 255)], r = _ref1[0], g = _ref1[1], b = _ref1[2];
    }return [r, g, b];
  };hsv2rgb = function hsv2rgb() {
    var b, f, g, h, i, p, q, r, s, t, v, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;_ref = unpack(arguments), h = _ref[0], s = _ref[1], v = _ref[2];v *= 255;if (s === 0) {
      r = g = b = v;
    } else {
      if (h === 360) {
        h = 0;
      }if (h > 360) {
        h -= 360;
      }if (h < 0) {
        h += 360;
      }h /= 60;i = Math.floor(h);f = h - i;p = v * (1 - s);q = v * (1 - s * f);t = v * (1 - s * (1 - f));switch (i) {case 0:
          _ref1 = [v, t, p], r = _ref1[0], g = _ref1[1], b = _ref1[2];break;case 1:
          _ref2 = [q, v, p], r = _ref2[0], g = _ref2[1], b = _ref2[2];break;case 2:
          _ref3 = [p, v, t], r = _ref3[0], g = _ref3[1], b = _ref3[2];break;case 3:
          _ref4 = [p, q, v], r = _ref4[0], g = _ref4[1], b = _ref4[2];break;case 4:
          _ref5 = [t, p, v], r = _ref5[0], g = _ref5[1], b = _ref5[2];break;case 5:
          _ref6 = [v, p, q], r = _ref6[0], g = _ref6[1], b = _ref6[2];}
    }r = Math.round(r);g = Math.round(g);b = Math.round(b);return [r, g, b];
  };K = 18;X = .95047;Y = 1;Z = 1.08883;lab2lch = function lab2lch() {
    var a, b, c, h, l, _ref;_ref = unpack(arguments), l = _ref[0], a = _ref[1], b = _ref[2];c = Math.sqrt(a * a + b * b);h = Math.atan2(b, a) / Math.PI * 180;return [l, c, h];
  };lab2rgb = function lab2rgb(l, a, b) {
    var g, r, x, y, z, _ref, _ref1;if (l !== void 0 && l.length === 3) {
      _ref = l, l = _ref[0], a = _ref[1], b = _ref[2];
    }if (l !== void 0 && l.length === 3) {
      _ref1 = l, l = _ref1[0], a = _ref1[1], b = _ref1[2];
    }y = (l + 16) / 116;x = y + a / 500;z = y - b / 200;x = lab_xyz(x) * X;y = lab_xyz(y) * Y;z = lab_xyz(z) * Z;r = xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z);g = xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z);b = xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z);return [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255), 1];
  };lab_xyz = function lab_xyz(x) {
    if (x > .206893034) {
      return x * x * x;
    } else {
      return (x - 4 / 29) / 7.787037;
    }
  };xyz_rgb = function xyz_rgb(r) {
    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));
  };lch2lab = function lch2lab() {
    var c, h, l, _ref;_ref = unpack(arguments), l = _ref[0], c = _ref[1], h = _ref[2];h = h * Math.PI / 180;return [l, Math.cos(h) * c, Math.sin(h) * c];
  };lch2rgb = function lch2rgb(l, c, h) {
    var L, a, b, g, r, _ref, _ref1;_ref = lch2lab(l, c, h), L = _ref[0], a = _ref[1], b = _ref[2];_ref1 = lab2rgb(L, a, b), r = _ref1[0], g = _ref1[1], b = _ref1[2];return [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255)];
  };luminance = function luminance(r, g, b) {
    var _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];r = luminance_x(r);g = luminance_x(g);b = luminance_x(b);return .2126 * r + .7152 * g + .0722 * b;
  };luminance_x = function luminance_x(x) {
    x /= 255;if (x <= .03928) {
      return x / 12.92;
    } else {
      return Math.pow((x + .055) / 1.055, 2.4);
    }
  };rgb2hex = function rgb2hex() {
    var b, g, r, str, u, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];u = r << 16 | g << 8 | b;str = "000000" + u.toString(16);return "#" + str.substr(str.length - 6);
  };rgb2hsi = function rgb2hsi() {
    var TWOPI, b, g, h, i, min, r, s, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];TWOPI = Math.PI * 2;r /= 255;g /= 255;b /= 255;min = Math.min(r, g, b);i = (r + g + b) / 3;s = 1 - min / i;if (s === 0) {
      h = 0;
    } else {
      h = (r - g + (r - b)) / 2;h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));h = Math.acos(h);if (b > g) {
        h = TWOPI - h;
      }h /= TWOPI;
    }return [h * 360, s, i];
  };rgb2hsl = function rgb2hsl(r, g, b) {
    var h, l, max, min, s, _ref;if (r !== void 0 && r.length >= 3) {
      _ref = r, r = _ref[0], g = _ref[1], b = _ref[2];
    }r /= 255;g /= 255;b /= 255;min = Math.min(r, g, b);max = Math.max(r, g, b);l = (max + min) / 2;if (max === min) {
      s = 0;h = Number.NaN;
    } else {
      s = l < .5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
    }if (r === max) {
      h = (g - b) / (max - min);
    } else if (g === max) {
      h = 2 + (b - r) / (max - min);
    } else if (b === max) {
      h = 4 + (r - g) / (max - min);
    }h *= 60;if (h < 0) {
      h += 360;
    }return [h, s, l];
  };rgb2hsv = function rgb2hsv() {
    var b, delta, g, h, max, min, r, s, v, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];min = Math.min(r, g, b);max = Math.max(r, g, b);delta = max - min;v = max / 255;if (max === 0) {
      h = Number.NaN;s = 0;
    } else {
      s = delta / max;if (r === max) {
        h = (g - b) / delta;
      }if (g === max) {
        h = 2 + (b - r) / delta;
      }if (b === max) {
        h = 4 + (r - g) / delta;
      }h *= 60;if (h < 0) {
        h += 360;
      }
    }return [h, s, v];
  };rgb2lab = function rgb2lab() {
    var b, g, r, x, y, z, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];r = rgb_xyz(r);g = rgb_xyz(g);b = rgb_xyz(b);x = xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / X);y = xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / Y);z = xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / Z);return [116 * y - 16, 500 * (x - y), 200 * (y - z)];
  };rgb_xyz = function rgb_xyz(r) {
    if ((r /= 255) <= .04045) {
      return r / 12.92;
    } else {
      return Math.pow((r + .055) / 1.055, 2.4);
    }
  };xyz_lab = function xyz_lab(x) {
    if (x > .008856) {
      return Math.pow(x, 1 / 3);
    } else {
      return 7.787037 * x + 4 / 29;
    }
  };rgb2lch = function rgb2lch() {
    var a, b, g, l, r, _ref, _ref1;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];_ref1 = rgb2lab(r, g, b), l = _ref1[0], a = _ref1[1], b = _ref1[2];return lab2lch(l, a, b);
  };chroma.scale = function (colors, positions) {
    var classifyValue, f, getClass, getColor, setColors, setDomain, tmap, _colors, _correctLightness, _domain, _fixed, _max, _min, _mode, _nacol, _numClasses, _out, _pos, _spread;_mode = "rgb";_nacol = chroma("#ccc");_spread = 0;_fixed = false;_domain = [0, 1];_colors = [];_out = false;_pos = [];_min = 0;_max = 1;_correctLightness = false;_numClasses = 0;setColors = function setColors(colors, positions) {
      var c, col, _i, _j, _ref, _ref1, _ref2;if (colors == null) {
        colors = ["#ddd", "#222"];
      }if (colors != null && type(colors) === "string" && ((_ref = chroma.brewer) != null ? _ref[colors] : void 0) != null) {
        colors = chroma.brewer[colors];
      }if (type(colors) === "array") {
        colors = colors.slice(0);for (c = _i = 0, _ref1 = colors.length - 1; 0 <= _ref1 ? _i <= _ref1 : _i >= _ref1; c = 0 <= _ref1 ? ++_i : --_i) {
          col = colors[c];if (type(col) === "string") {
            colors[c] = chroma(col);
          }
        }if (positions != null) {
          _pos = positions;
        } else {
          _pos = [];for (c = _j = 0, _ref2 = colors.length - 1; 0 <= _ref2 ? _j <= _ref2 : _j >= _ref2; c = 0 <= _ref2 ? ++_j : --_j) {
            _pos.push(c / (colors.length - 1));
          }
        }
      }return _colors = colors;
    };setDomain = function setDomain(domain) {
      if (domain == null) {
        domain = [];
      }_domain = domain;_min = domain[0];_max = domain[domain.length - 1];if (domain.length === 2) {
        return _numClasses = 0;
      } else {
        return _numClasses = domain.length - 1;
      }
    };getClass = function getClass(value) {
      var i, n;if (_domain != null) {
        n = _domain.length - 1;i = 0;while (i < n && value >= _domain[i]) {
          i++;
        }return i - 1;
      }return 0;
    };tmap = function tmap(t) {
      return t;
    };classifyValue = function classifyValue(value) {
      var i, maxc, minc, n, val;val = value;if (_domain.length > 2) {
        n = _domain.length - 1;i = getClass(value);minc = _domain[0] + (_domain[1] - _domain[0]) * (0 + _spread * .5);maxc = _domain[n - 1] + (_domain[n] - _domain[n - 1]) * (1 - _spread * .5);val = _min + (_domain[i] + (_domain[i + 1] - _domain[i]) * .5 - minc) / (maxc - minc) * (_max - _min);
      }return val;
    };getColor = function getColor(val, bypassMap) {
      var c, col, f0, i, p, t, _i, _ref;if (bypassMap == null) {
        bypassMap = false;
      }if (isNaN(val)) {
        return _nacol;
      }if (!bypassMap) {
        if (_domain.length > 2) {
          c = getClass(val);t = c / (_numClasses - 1);
        } else {
          t = f0 = (val - _min) / (_max - _min);t = Math.min(1, Math.max(0, t));
        }
      } else {
        t = val;
      }if (!bypassMap) {
        t = tmap(t);
      }if (type(_colors) === "array") {
        for (i = _i = 0, _ref = _pos.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          p = _pos[i];if (t <= p) {
            col = _colors[i];break;
          }if (t >= p && i === _pos.length - 1) {
            col = _colors[i];break;
          }if (t > p && t < _pos[i + 1]) {
            t = (t - p) / (_pos[i + 1] - p);col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);break;
          }
        }
      } else if (type(_colors) === "function") {
        col = _colors(t);
      }return col;
    };setColors(colors, positions);f = function f(v) {
      var c;c = getColor(v);if (_out && c[_out]) {
        return c[_out]();
      } else {
        return c;
      }
    };f.domain = function (domain, classes, mode, key) {
      var d;if (mode == null) {
        mode = "e";
      }if (!arguments.length) {
        return _domain;
      }if (classes != null) {
        d = chroma.analyze(domain, key);if (classes === 0) {
          domain = [d.min, d.max];
        } else {
          domain = chroma.limits(d, mode, classes);
        }
      }setDomain(domain);return f;
    };f.mode = function (_m) {
      if (!arguments.length) {
        return _mode;
      }_mode = _m;return f;
    };f.range = function (colors, _pos) {
      setColors(colors, _pos);return f;
    };f.out = function (_o) {
      _out = _o;return f;
    };f.spread = function (val) {
      if (!arguments.length) {
        return _spread;
      }_spread = val;return f;
    };f.correctLightness = function (v) {
      if (!arguments.length) {
        return _correctLightness;
      }_correctLightness = v;if (_correctLightness) {
        tmap = function tmap(t) {
          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;L0 = getColor(0, true).lab()[0];L1 = getColor(1, true).lab()[0];pol = L0 > L1;L_actual = getColor(t, true).lab()[0];L_ideal = L0 + (L1 - L0) * t;L_diff = L_actual - L_ideal;t0 = 0;t1 = 1;max_iter = 20;while (Math.abs(L_diff) > .01 && max_iter-- > 0) {
            !function () {
              if (pol) {
                L_diff *= -1;
              }if (L_diff < 0) {
                t0 = t;t += (t1 - t) * .5;
              } else {
                t1 = t;t += (t0 - t) * .5;
              }L_actual = getColor(t, true).lab()[0];return L_diff = L_actual - L_ideal;
            }();
          }return t;
        };
      } else {
        tmap = function tmap(t) {
          return t;
        };
      }return f;
    };return f;
  };if ((_ref = chroma.scales) == null) {
    chroma.scales = {};
  }chroma.scales.cool = function () {
    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);
  };chroma.scales.hot = function () {
    return chroma.scale(["#000", "#f00", "#ff0", "#fff"], [0, .25, .75, 1]).mode("rgb");
  };chroma.analyze = function (data, key, filter) {
    var add, k, r, val, visit, _i, _len;r = { min: Number.MAX_VALUE, max: Number.MAX_VALUE * -1, sum: 0, values: [], count: 0 };if (filter == null) {
      filter = function filter() {
        return true;
      };
    }add = function add(val) {
      if (val != null && !isNaN(val)) {
        r.values.push(val);r.sum += val;if (val < r.min) {
          r.min = val;
        }if (val > r.max) {
          r.max = val;
        }r.count += 1;
      }
    };visit = function visit(val, k) {
      if (filter(val, k)) {
        if (key != null && type(key) === "function") {
          return add(key(val));
        } else if (key != null && type(key) === "string" || type(key) === "number") {
          return add(val[key]);
        } else {
          return add(val);
        }
      }
    };if (type(data) === "array") {
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        val = data[_i];visit(val);
      }
    } else {
      for (k in data) {
        val = data[k];visit(val, k);
      }
    }r.domain = [r.min, r.max];r.limits = function (mode, num) {
      return chroma.limits(r, mode, num);
    };return r;
  };chroma.limits = function (data, mode, num) {
    var assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max, max_log, min, min_log, mindist, n, nb_iters, newCentroids, p, pb, pr, repeat, sum, tmpKMeansBreaks, value, values, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _s, _t, _u, _v, _w;if (mode == null) {
      mode = "equal";
    }if (num == null) {
      num = 7;
    }if (data.values == null) {
      data = chroma.analyze(data);
    }min = data.min;max = data.max;sum = data.sum;values = data.values.sort(function (a, b) {
      return a - b;
    });limits = [];if (mode.substr(0, 1) === "c") {
      limits.push(min);limits.push(max);
    }if (mode.substr(0, 1) === "e") {
      limits.push(min);for (i = _i = 1, _ref1 = num - 1; 1 <= _ref1 ? _i <= _ref1 : _i >= _ref1; i = 1 <= _ref1 ? ++_i : --_i) {
        limits.push(min + i / num * (max - min));
      }limits.push(max);
    } else if (mode.substr(0, 1) === "l") {
      if (min <= 0) {
        throw "Logarithmic scales are only possible for values > 0";
      }min_log = Math.LOG10E * Math.log(min);max_log = Math.LOG10E * Math.log(max);limits.push(min);for (i = _j = 1, _ref2 = num - 1; 1 <= _ref2 ? _j <= _ref2 : _j >= _ref2; i = 1 <= _ref2 ? ++_j : --_j) {
        limits.push(Math.pow(10, min_log + i / num * (max_log - min_log)));
      }limits.push(max);
    } else if (mode.substr(0, 1) === "q") {
      limits.push(min);for (i = _k = 1, _ref3 = num - 1; 1 <= _ref3 ? _k <= _ref3 : _k >= _ref3; i = 1 <= _ref3 ? ++_k : --_k) {
        p = values.length * i / num;pb = Math.floor(p);if (pb === p) {
          limits.push(values[pb]);
        } else {
          pr = p - pb;limits.push(values[pb] * pr + values[pb + 1] * (1 - pr));
        }
      }limits.push(max);
    } else if (mode.substr(0, 1) === "k") {
      n = values.length;assignments = new Array(n);clusterSizes = new Array(num);repeat = true;nb_iters = 0;centroids = null;centroids = [];centroids.push(min);for (i = _l = 1, _ref4 = num - 1; 1 <= _ref4 ? _l <= _ref4 : _l >= _ref4; i = 1 <= _ref4 ? ++_l : --_l) {
        centroids.push(min + i / num * (max - min));
      }centroids.push(max);while (repeat) {
        for (j = _m = 0, _ref5 = num - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; j = 0 <= _ref5 ? ++_m : --_m) {
          clusterSizes[j] = 0;
        }for (i = _n = 0, _ref6 = n - 1; 0 <= _ref6 ? _n <= _ref6 : _n >= _ref6; i = 0 <= _ref6 ? ++_n : --_n) {
          value = values[i];mindist = Number.MAX_VALUE;for (j = _o = 0, _ref7 = num - 1; 0 <= _ref7 ? _o <= _ref7 : _o >= _ref7; j = 0 <= _ref7 ? ++_o : --_o) {
            dist = Math.abs(centroids[j] - value);if (dist < mindist) {
              mindist = dist;best = j;
            }
          }clusterSizes[best]++;assignments[i] = best;
        }newCentroids = new Array(num);for (j = _p = 0, _ref8 = num - 1; 0 <= _ref8 ? _p <= _ref8 : _p >= _ref8; j = 0 <= _ref8 ? ++_p : --_p) {
          newCentroids[j] = null;
        }for (i = _q = 0, _ref9 = n - 1; 0 <= _ref9 ? _q <= _ref9 : _q >= _ref9; i = 0 <= _ref9 ? ++_q : --_q) {
          cluster = assignments[i];if (newCentroids[cluster] === null) {
            newCentroids[cluster] = values[i];
          } else {
            newCentroids[cluster] += values[i];
          }
        }for (j = _r = 0, _ref10 = num - 1; 0 <= _ref10 ? _r <= _ref10 : _r >= _ref10; j = 0 <= _ref10 ? ++_r : --_r) {
          newCentroids[j] *= 1 / clusterSizes[j];
        }repeat = false;for (j = _s = 0, _ref11 = num - 1; 0 <= _ref11 ? _s <= _ref11 : _s >= _ref11; j = 0 <= _ref11 ? ++_s : --_s) {
          if (newCentroids[j] !== centroids[i]) {
            repeat = true;break;
          }
        }centroids = newCentroids;nb_iters++;if (nb_iters > 200) {
          repeat = false;
        }
      }kClusters = {};for (j = _t = 0, _ref12 = num - 1; 0 <= _ref12 ? _t <= _ref12 : _t >= _ref12; j = 0 <= _ref12 ? ++_t : --_t) {
        kClusters[j] = [];
      }for (i = _u = 0, _ref13 = n - 1; 0 <= _ref13 ? _u <= _ref13 : _u >= _ref13; i = 0 <= _ref13 ? ++_u : --_u) {
        cluster = assignments[i];kClusters[cluster].push(values[i]);
      }tmpKMeansBreaks = [];for (j = _v = 0, _ref14 = num - 1; 0 <= _ref14 ? _v <= _ref14 : _v >= _ref14; j = 0 <= _ref14 ? ++_v : --_v) {
        tmpKMeansBreaks.push(kClusters[j][0]);tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);
      }tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a, b) {
        return a - b;
      });limits.push(tmpKMeansBreaks[0]);for (i = _w = 1, _ref15 = tmpKMeansBreaks.length - 1; _w <= _ref15; i = _w += 2) {
        if (!isNaN(tmpKMeansBreaks[i])) {
          limits.push(tmpKMeansBreaks[i]);
        }
      }
    }return limits;
  };root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma.brewer = brewer = { OrRd: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"], PuBu: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858"], BuPu: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b"], Oranges: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704"], BuGn: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b"], YlOrBr: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506"], YlGn: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529"], Reds: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d"], RdPu: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a"], Greens: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b"], YlGnBu: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58"], Purples: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d"], GnBu: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081"], Greys: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000"], YlOrRd: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026"], PuRd: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f"], Blues: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b"], PuBuGn: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636"], Spectral: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"], RdYlGn: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"], RdBu: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"], PiYG: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"], PRGn: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"], RdYlBu: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"], BrBG: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"], RdGy: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"], PuOr: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"], Set2: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3"], Accent: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666"], Set1: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999"], Set3: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f"], Dark2: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666"], Paired: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928"], Pastel2: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc"], Pastel1: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2"] };root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma.colors = colors = { indigo: "#4b0082", gold: "#ffd700", hotpink: "#ff69b4", firebrick: "#b22222", indianred: "#cd5c5c", yellow: "#ffff00", mistyrose: "#ffe4e1", darkolivegreen: "#556b2f", olive: "#808000", darkseagreen: "#8fbc8f", pink: "#ffc0cb", tomato: "#ff6347", lightcoral: "#f08080", orangered: "#ff4500", navajowhite: "#ffdead", lime: "#00ff00", palegreen: "#98fb98", darkslategrey: "#2f4f4f", greenyellow: "#adff2f", burlywood: "#deb887", seashell: "#fff5ee", mediumspringgreen: "#00fa9a", fuchsia: "#ff00ff", papayawhip: "#ffefd5", blanchedalmond: "#ffebcd", chartreuse: "#7fff00", dimgray: "#696969", black: "#000000", peachpuff: "#ffdab9", springgreen: "#00ff7f", aquamarine: "#7fffd4", white: "#ffffff", orange: "#ffa500", lightsalmon: "#ffa07a", darkslategray: "#2f4f4f", brown: "#a52a2a", ivory: "#fffff0", dodgerblue: "#1e90ff", peru: "#cd853f", lawngreen: "#7cfc00", chocolate: "#d2691e", crimson: "#dc143c", forestgreen: "#228b22", darkgrey: "#a9a9a9", lightseagreen: "#20b2aa", cyan: "#00ffff", mintcream: "#f5fffa", silver: "#c0c0c0", antiquewhite: "#faebd7", mediumorchid: "#ba55d3", skyblue: "#87ceeb", gray: "#808080", darkturquoise: "#00ced1", goldenrod: "#daa520", darkgreen: "#006400", floralwhite: "#fffaf0", darkviolet: "#9400d3", darkgray: "#a9a9a9", moccasin: "#ffe4b5", saddlebrown: "#8b4513", grey: "#808080", darkslateblue: "#483d8b", lightskyblue: "#87cefa", lightpink: "#ffb6c1", mediumvioletred: "#c71585", slategrey: "#708090", red: "#ff0000", deeppink: "#ff1493", limegreen: "#32cd32", darkmagenta: "#8b008b", palegoldenrod: "#eee8aa", plum: "#dda0dd", turquoise: "#40e0d0", lightgrey: "#d3d3d3", lightgoldenrodyellow: "#fafad2", darkgoldenrod: "#b8860b", lavender: "#e6e6fa", maroon: "#800000", yellowgreen: "#9acd32", sandybrown: "#f4a460", thistle: "#d8bfd8", violet: "#ee82ee", navy: "#000080", magenta: "#ff00ff", dimgrey: "#696969", tan: "#d2b48c", rosybrown: "#bc8f8f", olivedrab: "#6b8e23", blue: "#0000ff", lightblue: "#add8e6", ghostwhite: "#f8f8ff", honeydew: "#f0fff0", cornflowerblue: "#6495ed", slateblue: "#6a5acd", linen: "#faf0e6", darkblue: "#00008b", powderblue: "#b0e0e6", seagreen: "#2e8b57", darkkhaki: "#bdb76b", snow: "#fffafa", sienna: "#a0522d", mediumblue: "#0000cd", royalblue: "#4169e1", lightcyan: "#e0ffff", green: "#008000", mediumpurple: "#9370db", midnightblue: "#191970", cornsilk: "#fff8dc", paleturquoise: "#afeeee", bisque: "#ffe4c4", slategray: "#708090", darkcyan: "#008b8b", khaki: "#f0e68c", wheat: "#f5deb3", teal: "#008080", darkorchid: "#9932cc", deepskyblue: "#00bfff", salmon: "#fa8072", darkred: "#8b0000", steelblue: "#4682b4", palevioletred: "#db7093", lightslategray: "#778899", aliceblue: "#f0f8ff", lightslategrey: "#778899", lightgreen: "#90ee90", orchid: "#da70d6", gainsboro: "#dcdcdc", mediumseagreen: "#3cb371", lightgray: "#d3d3d3", mediumturquoise: "#48d1cc", lemonchiffon: "#fffacd", cadetblue: "#5f9ea0", lightyellow: "#ffffe0", lavenderblush: "#fff0f5", coral: "#ff7f50", purple: "#800080", aqua: "#00ffff", whitesmoke: "#f5f5f5", mediumslateblue: "#7b68ee", darkorange: "#ff8c00", mediumaquamarine: "#66cdaa", darksalmon: "#e9967a", beige: "#f5f5dc", blueviolet: "#8a2be2", azure: "#f0ffff", lightsteelblue: "#b0c4de", oldlace: "#fdf5e6" };type = function () {
    var classToType, name, _i, _len, _ref1;classToType = {};_ref1 = "Boolean Number String Function Array Date RegExp Undefined Null".split(" ");for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
      name = _ref1[_i];classToType["[object " + name + "]"] = name.toLowerCase();
    }return function (obj) {
      var strType;strType = Object.prototype.toString.call(obj);return classToType[strType] || "object";
    };
  }();limit = function limit(x, min, max) {
    if (min == null) {
      min = 0;
    }if (max == null) {
      max = 1;
    }if (x < min) {
      x = min;
    }if (x > max) {
      x = max;
    }return x;
  };unpack = function unpack(args) {
    if (args.length >= 3) {
      return args;
    } else {
      return args[0];
    }
  };TWOPI = Math.PI * 2;PITHIRD = Math.PI / 3;cos = Math.cos;_bezier = function bezier(colors) {
    var I, I0, I1, c, lab0, lab1, lab2, lab3, _ref1, _ref2, _ref3;colors = function () {
      var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
        c = colors[_i];_results.push(chroma(c));
      }return _results;
    }();if (colors.length === 2) {
      _ref1 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref1[0], lab1 = _ref1[1];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push(lab0[i] + t * (lab1[i] - lab0[i]));
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 3) {
      _ref2 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref2[0], lab1 = _ref2[1], lab2 = _ref2[2];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 4) {
      _ref3 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref3[0], lab1 = _ref3[1], lab2 = _ref3[2], lab3 = _ref3[3];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 5) {
      I0 = _bezier(colors.slice(0, 3));I1 = _bezier(colors.slice(2, 5));I = function I(t) {
        if (t < .5) {
          return I0(t * 2);
        } else {
          return I1((t - .5) * 2);
        }
      };
    }return I;
  };chroma.interpolate.bezier = _bezier;
}.call(undefined);
//# sourceMappingURL=chroma.min.js.map

"use strict";

!function () {
  var Color, K, PITHIRD, TWOPI, X, Y, Z, _bezier, brewer, chroma, clip_rgb, colors, cos, css2rgb, hex2rgb, hsi2rgb, hsl2rgb, hsv2rgb, lab2lch, lab2rgb, lab_xyz, lch2lab, lch2rgb, limit, luminance, luminance_x, rgb2hex, rgb2hsi, rgb2hsl, rgb2hsv, rgb2lab, rgb2lch, rgb_xyz, root, type, unpack, xyz_lab, xyz_rgb, _ref;root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma = root.chroma = function (x, y, z, m) {
    return new Color(x, y, z, m);
  };if (typeof module !== "undefined" && module !== null) {
    module.exports = chroma;
  }chroma.color = function (x, y, z, m) {
    return new Color(x, y, z, m);
  };chroma.hsl = function (h, s, l, a) {
    return new Color(h, s, l, a, "hsl");
  };chroma.hsv = function (h, s, v, a) {
    return new Color(h, s, v, a, "hsv");
  };chroma.rgb = function (r, g, b, a) {
    return new Color(r, g, b, a, "rgb");
  };chroma.hex = function (x) {
    return new Color(x);
  };chroma.css = function (x) {
    return new Color(x);
  };chroma.lab = function (l, a, b) {
    return new Color(l, a, b, "lab");
  };chroma.lch = function (l, c, h) {
    return new Color(l, c, h, "lch");
  };chroma.hsi = function (h, s, i) {
    return new Color(h, s, i, "hsi");
  };chroma.interpolate = function (a, b, f, m) {
    if (a == null || b == null) {
      return "#000";
    }if (type(a) === "string") {
      a = new Color(a);
    }if (type(b) === "string") {
      b = new Color(b);
    }return a.interpolate(f, b, m);
  };chroma.mix = chroma.interpolate;chroma.contrast = function (a, b) {
    var l1, l2;if (type(a) === "string") {
      a = new Color(a);
    }if (type(b) === "string") {
      b = new Color(b);
    }l1 = a.luminance();l2 = b.luminance();if (l1 > l2) {
      return (l1 + .05) / (l2 + .05);
    } else {
      return (l2 + .05) / (l1 + .05);
    }
  };chroma.luminance = function (color) {
    return chroma(color).luminance();
  };chroma._Color = Color;Color = function () {
    function Color() {
      var a, arg, args, m, me, me_rgb, x, y, z, _i, _len, _ref, _ref1, _ref2, _ref3;me = this;args = [];for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];if (arg != null) {
          args.push(arg);
        }
      }if (args.length === 0) {
        _ref = [255, 0, 255, 1, "rgb"], x = _ref[0], y = _ref[1], z = _ref[2], a = _ref[3], m = _ref[4];
      } else if (type(args[0]) === "array") {
        if (args[0].length === 3) {
          _ref1 = args[0], x = _ref1[0], y = _ref1[1], z = _ref1[2];a = 1;
        } else if (args[0].length === 4) {
          _ref2 = args[0], x = _ref2[0], y = _ref2[1], z = _ref2[2], a = _ref2[3];
        } else {
          throw "unknown input argument";
        }m = args[1];
      } else if (type(args[0]) === "string") {
        x = args[0];m = "hex";
      } else if (type(args[0]) === "object") {
        _ref3 = args[0]._rgb, x = _ref3[0], y = _ref3[1], z = _ref3[2], a = _ref3[3];m = "rgb";
      } else if (args.length >= 3) {
        x = args[0];y = args[1];z = args[2];
      }if (args.length === 3) {
        m = "rgb";a = 1;
      } else if (args.length === 4) {
        if (type(args[3]) === "string") {
          m = args[3];a = 1;
        } else if (type(args[3]) === "number") {
          m = "rgb";a = args[3];
        }
      } else if (args.length === 5) {
        a = args[3];m = args[4];
      }if (a == null) {
        a = 1;
      }if (m === "rgb") {
        me._rgb = [x, y, z, a];
      } else if (m === "hsl") {
        me._rgb = hsl2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hsv") {
        me._rgb = hsv2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hex") {
        me._rgb = hex2rgb(x);
      } else if (m === "lab") {
        me._rgb = lab2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "lch") {
        me._rgb = lch2rgb(x, y, z);me._rgb[3] = a;
      } else if (m === "hsi") {
        me._rgb = hsi2rgb(x, y, z);me._rgb[3] = a;
      }me_rgb = clip_rgb(me._rgb);
    }Color.prototype.rgb = function () {
      return this._rgb.slice(0, 3);
    };Color.prototype.rgba = function () {
      return this._rgb;
    };Color.prototype.hex = function () {
      return rgb2hex(this._rgb);
    };Color.prototype.toString = function () {
      return this.hex();
    };Color.prototype.hsl = function () {
      return rgb2hsl(this._rgb);
    };Color.prototype.hsv = function () {
      return rgb2hsv(this._rgb);
    };Color.prototype.lab = function () {
      return rgb2lab(this._rgb);
    };Color.prototype.lch = function () {
      return rgb2lch(this._rgb);
    };Color.prototype.hsi = function () {
      return rgb2hsi(this._rgb);
    };Color.prototype.luminance = function () {
      return luminance(this._rgb);
    };Color.prototype.name = function () {
      var h, k;h = this.hex();for (k in chroma.colors) {
        if (h === chroma.colors[k]) {
          return k;
        }
      }return h;
    };Color.prototype.alpha = function (alpha) {
      if (arguments.length) {
        this._rgb[3] = alpha;return this;
      }return this._rgb[3];
    };Color.prototype.css = function () {
      if (this._rgb[3] < 1) {
        return "rgba(" + this._rgb.join(",") + ")";
      } else {
        return "rgb(" + this._rgb.slice(0, 3).join(",") + ")";
      }
    };Color.prototype.interpolate = function (f, col, m) {
      var dh, hue, hue0, hue1, lbv, lbv0, lbv1, me, res, sat, sat0, sat1, xyz0, xyz1;me = this;if (m == null) {
        m = "rgb";
      }if (type(col) === "string") {
        col = new Color(col);
      }if (m === "hsl" || m === "hsv" || m === "lch" || m === "hsi") {
        if (m === "hsl") {
          xyz0 = me.hsl();xyz1 = col.hsl();
        } else if (m === "hsv") {
          xyz0 = me.hsv();xyz1 = col.hsv();
        } else if (m === "hsi") {
          xyz0 = me.hsi();xyz1 = col.hsi();
        } else if (m === "lch") {
          xyz0 = me.lch();xyz1 = col.lch();
        }if (m.substr(0, 1) === "h") {
          hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];
        } else {
          lbv0 = xyz0[0], sat0 = xyz0[1], hue0 = xyz0[2];lbv1 = xyz1[0], sat1 = xyz1[1], hue1 = xyz1[2];
        }if (!isNaN(hue0) && !isNaN(hue1)) {
          if (hue1 > hue0 && hue1 - hue0 > 180) {
            dh = hue1 - (hue0 + 360);
          } else if (hue1 < hue0 && hue0 - hue1 > 180) {
            dh = hue1 + 360 - hue0;
          } else {
            dh = hue1 - hue0;
          }hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
          hue = hue0;if (lbv1 === 1 || lbv1 === 0) {
            sat = sat0;
          }
        } else if (!isNaN(hue1)) {
          hue = hue1;if (lbv0 === 1 || lbv0 === 0) {
            sat = sat1;
          }
        } else {
          hue = Number.NaN;
        }if (sat == null) {
          sat = sat0 + f * (sat1 - sat0);
        }lbv = lbv0 + f * (lbv1 - lbv0);if (m.substr(0, 1) === "h") {
          res = new Color(hue, sat, lbv, m);
        } else {
          res = new Color(lbv, sat, hue, m);
        }
      } else if (m === "rgb") {
        xyz0 = me._rgb;xyz1 = col._rgb;res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);
      } else if (m === "lab") {
        xyz0 = me.lab();xyz1 = col.lab();res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);
      } else {
        throw "color mode " + m + " is not supported";
      }res.alpha(me.alpha() + f * (col.alpha() - me.alpha()));return res;
    };Color.prototype.darken = function (amount) {
      var lch, me;if (amount == null) {
        amount = 20;
      }me = this;lch = me.lch();lch[0] -= amount;return chroma.lch(lch).alpha(me.alpha());
    };Color.prototype.darker = function (amount) {
      return this.darken(amount);
    };Color.prototype.brighten = function (amount) {
      if (amount == null) {
        amount = 20;
      }return this.darken(-amount);
    };Color.prototype.brighter = function (amount) {
      return this.brighten(amount);
    };Color.prototype.saturate = function (amount) {
      var lch, me;if (amount == null) {
        amount = 20;
      }me = this;lch = me.lch();lch[1] += amount;return chroma.lch(lch).alpha(me.alpha());
    };Color.prototype.desaturate = function (amount) {
      if (amount == null) {
        amount = 20;
      }return this.saturate(-amount);
    };return Color;
  }();clip_rgb = function clip_rgb(rgb) {
    var i;for (i in rgb) {
      if (i < 3) {
        if (rgb[i] < 0) {
          rgb[i] = 0;
        }if (rgb[i] > 255) {
          rgb[i] = 255;
        }
      } else if (i === 3) {
        if (rgb[i] < 0) {
          rgb[i] = 0;
        }if (rgb[i] > 1) {
          rgb[i] = 1;
        }
      }
    }return rgb;
  };css2rgb = function css2rgb(css) {
    var hsl, i, m, rgb, _i, _j, _k, _l;if (chroma.colors != null && chroma.colors[css]) {
      return hex2rgb(chroma.colors[css]);
    }if (m = css.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) {
      rgb = m.slice(1, 4);for (i = _i = 0; _i <= 2; i = ++_i) {
        rgb[i] = +rgb[i];
      }rgb[3] = 1;
    } else if (m = css.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)) {
      rgb = m.slice(1, 5);for (i = _j = 0; _j <= 3; i = ++_j) {
        rgb[i] = +rgb[i];
      }
    } else if (m = css.match(/rgb\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
      rgb = m.slice(1, 4);for (i = _k = 0; _k <= 2; i = ++_k) {
        rgb[i] = Math.round(rgb[i] * 2.55);
      }rgb[3] = 1;
    } else if (m = css.match(/rgba\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*,\s*([01]|[01]?\.\d+)\)/)) {
      rgb = m.slice(1, 5);for (i = _l = 0; _l <= 2; i = ++_l) {
        rgb[i] = Math.round(rgb[i] * 2.55);
      }rgb[3] = +rgb[3];
    } else if (m = css.match(/hsl\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
      hsl = m.slice(1, 4);hsl[1] *= .01;hsl[2] *= .01;rgb = hsl2rgb(hsl);rgb[3] = 1;
    } else if (m = css.match(/hsla\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*,\s*([01]|[01]?\.\d+)\)/)) {
      hsl = m.slice(1, 4);hsl[1] *= .01;hsl[2] *= .01;rgb = hsl2rgb(hsl);rgb[3] = +m[4];
    }return rgb;
  };hex2rgb = function hex2rgb(hex) {
    var a, b, g, r, rgb, u;if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {
      if (hex.length === 4 || hex.length === 7) {
        hex = hex.substr(1);
      }if (hex.length === 3) {
        hex = hex.split("");hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
      }u = parseInt(hex, 16);r = u >> 16;g = u >> 8 & 255;b = u & 255;return [r, g, b, 1];
    }if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {
      if (hex.length === 9) {
        hex = hex.substr(1);
      }u = parseInt(hex, 16);r = u >> 24 & 255;g = u >> 16 & 255;b = u >> 8 & 255;a = u & 255;return [r, g, b, a];
    }if (rgb = css2rgb(hex)) {
      return rgb;
    }throw "unknown color: " + hex;
  };hsi2rgb = function hsi2rgb(h, s, i) {
    var b, g, r, _ref;_ref = unpack(arguments), h = _ref[0], s = _ref[1], i = _ref[2];h /= 360;if (h < 1 / 3) {
      b = (1 - s) / 3;r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;g = 1 - (b + r);
    } else if (h < 2 / 3) {
      h -= 1 / 3;r = (1 - s) / 3;g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;b = 1 - (r + g);
    } else {
      h -= 2 / 3;g = (1 - s) / 3;b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;r = 1 - (g + b);
    }r = limit(i * r * 3);g = limit(i * g * 3);b = limit(i * b * 3);return [r * 255, g * 255, b * 255];
  };hsl2rgb = function hsl2rgb() {
    var b, c, g, h, i, l, r, s, t1, t2, t3, _i, _ref, _ref1;_ref = unpack(arguments), h = _ref[0], s = _ref[1], l = _ref[2];if (s === 0) {
      r = g = b = l * 255;
    } else {
      t3 = [0, 0, 0];c = [0, 0, 0];t2 = l < .5 ? l * (1 + s) : l + s - l * s;t1 = 2 * l - t2;h /= 360;t3[0] = h + 1 / 3;t3[1] = h;t3[2] = h - 1 / 3;for (i = _i = 0; _i <= 2; i = ++_i) {
        if (t3[i] < 0) {
          t3[i] += 1;
        }if (t3[i] > 1) {
          t3[i] -= 1;
        }if (6 * t3[i] < 1) {
          c[i] = t1 + (t2 - t1) * 6 * t3[i];
        } else if (2 * t3[i] < 1) {
          c[i] = t2;
        } else if (3 * t3[i] < 2) {
          c[i] = t1 + (t2 - t1) * (2 / 3 - t3[i]) * 6;
        } else {
          c[i] = t1;
        }
      }_ref1 = [Math.round(c[0] * 255), Math.round(c[1] * 255), Math.round(c[2] * 255)], r = _ref1[0], g = _ref1[1], b = _ref1[2];
    }return [r, g, b];
  };hsv2rgb = function hsv2rgb() {
    var b, f, g, h, i, p, q, r, s, t, v, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;_ref = unpack(arguments), h = _ref[0], s = _ref[1], v = _ref[2];v *= 255;if (s === 0) {
      r = g = b = v;
    } else {
      if (h === 360) {
        h = 0;
      }if (h > 360) {
        h -= 360;
      }if (h < 0) {
        h += 360;
      }h /= 60;i = Math.floor(h);f = h - i;p = v * (1 - s);q = v * (1 - s * f);t = v * (1 - s * (1 - f));switch (i) {case 0:
          _ref1 = [v, t, p], r = _ref1[0], g = _ref1[1], b = _ref1[2];break;case 1:
          _ref2 = [q, v, p], r = _ref2[0], g = _ref2[1], b = _ref2[2];break;case 2:
          _ref3 = [p, v, t], r = _ref3[0], g = _ref3[1], b = _ref3[2];break;case 3:
          _ref4 = [p, q, v], r = _ref4[0], g = _ref4[1], b = _ref4[2];break;case 4:
          _ref5 = [t, p, v], r = _ref5[0], g = _ref5[1], b = _ref5[2];break;case 5:
          _ref6 = [v, p, q], r = _ref6[0], g = _ref6[1], b = _ref6[2];}
    }r = Math.round(r);g = Math.round(g);b = Math.round(b);return [r, g, b];
  };K = 18;X = .95047;Y = 1;Z = 1.08883;lab2lch = function lab2lch() {
    var a, b, c, h, l, _ref;_ref = unpack(arguments), l = _ref[0], a = _ref[1], b = _ref[2];c = Math.sqrt(a * a + b * b);h = Math.atan2(b, a) / Math.PI * 180;return [l, c, h];
  };lab2rgb = function lab2rgb(l, a, b) {
    var g, r, x, y, z, _ref, _ref1;if (l !== void 0 && l.length === 3) {
      _ref = l, l = _ref[0], a = _ref[1], b = _ref[2];
    }if (l !== void 0 && l.length === 3) {
      _ref1 = l, l = _ref1[0], a = _ref1[1], b = _ref1[2];
    }y = (l + 16) / 116;x = y + a / 500;z = y - b / 200;x = lab_xyz(x) * X;y = lab_xyz(y) * Y;z = lab_xyz(z) * Z;r = xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z);g = xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z);b = xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z);return [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255), 1];
  };lab_xyz = function lab_xyz(x) {
    if (x > .206893034) {
      return x * x * x;
    } else {
      return (x - 4 / 29) / 7.787037;
    }
  };xyz_rgb = function xyz_rgb(r) {
    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));
  };lch2lab = function lch2lab() {
    var c, h, l, _ref;_ref = unpack(arguments), l = _ref[0], c = _ref[1], h = _ref[2];h = h * Math.PI / 180;return [l, Math.cos(h) * c, Math.sin(h) * c];
  };lch2rgb = function lch2rgb(l, c, h) {
    var L, a, b, g, r, _ref, _ref1;_ref = lch2lab(l, c, h), L = _ref[0], a = _ref[1], b = _ref[2];_ref1 = lab2rgb(L, a, b), r = _ref1[0], g = _ref1[1], b = _ref1[2];return [limit(r, 0, 255), limit(g, 0, 255), limit(b, 0, 255)];
  };luminance = function luminance(r, g, b) {
    var _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];r = luminance_x(r);g = luminance_x(g);b = luminance_x(b);return .2126 * r + .7152 * g + .0722 * b;
  };luminance_x = function luminance_x(x) {
    x /= 255;if (x <= .03928) {
      return x / 12.92;
    } else {
      return Math.pow((x + .055) / 1.055, 2.4);
    }
  };rgb2hex = function rgb2hex() {
    var b, g, r, str, u, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];u = r << 16 | g << 8 | b;str = "000000" + u.toString(16);return "#" + str.substr(str.length - 6);
  };rgb2hsi = function rgb2hsi() {
    var TWOPI, b, g, h, i, min, r, s, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];TWOPI = Math.PI * 2;r /= 255;g /= 255;b /= 255;min = Math.min(r, g, b);i = (r + g + b) / 3;s = 1 - min / i;if (s === 0) {
      h = 0;
    } else {
      h = (r - g + (r - b)) / 2;h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));h = Math.acos(h);if (b > g) {
        h = TWOPI - h;
      }h /= TWOPI;
    }return [h * 360, s, i];
  };rgb2hsl = function rgb2hsl(r, g, b) {
    var h, l, max, min, s, _ref;if (r !== void 0 && r.length >= 3) {
      _ref = r, r = _ref[0], g = _ref[1], b = _ref[2];
    }r /= 255;g /= 255;b /= 255;min = Math.min(r, g, b);max = Math.max(r, g, b);l = (max + min) / 2;if (max === min) {
      s = 0;h = Number.NaN;
    } else {
      s = l < .5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
    }if (r === max) {
      h = (g - b) / (max - min);
    } else if (g === max) {
      h = 2 + (b - r) / (max - min);
    } else if (b === max) {
      h = 4 + (r - g) / (max - min);
    }h *= 60;if (h < 0) {
      h += 360;
    }return [h, s, l];
  };rgb2hsv = function rgb2hsv() {
    var b, delta, g, h, max, min, r, s, v, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];min = Math.min(r, g, b);max = Math.max(r, g, b);delta = max - min;v = max / 255;if (max === 0) {
      h = Number.NaN;s = 0;
    } else {
      s = delta / max;if (r === max) {
        h = (g - b) / delta;
      }if (g === max) {
        h = 2 + (b - r) / delta;
      }if (b === max) {
        h = 4 + (r - g) / delta;
      }h *= 60;if (h < 0) {
        h += 360;
      }
    }return [h, s, v];
  };rgb2lab = function rgb2lab() {
    var b, g, r, x, y, z, _ref;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];r = rgb_xyz(r);g = rgb_xyz(g);b = rgb_xyz(b);x = xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / X);y = xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / Y);z = xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / Z);return [116 * y - 16, 500 * (x - y), 200 * (y - z)];
  };rgb_xyz = function rgb_xyz(r) {
    if ((r /= 255) <= .04045) {
      return r / 12.92;
    } else {
      return Math.pow((r + .055) / 1.055, 2.4);
    }
  };xyz_lab = function xyz_lab(x) {
    if (x > .008856) {
      return Math.pow(x, 1 / 3);
    } else {
      return 7.787037 * x + 4 / 29;
    }
  };rgb2lch = function rgb2lch() {
    var a, b, g, l, r, _ref, _ref1;_ref = unpack(arguments), r = _ref[0], g = _ref[1], b = _ref[2];_ref1 = rgb2lab(r, g, b), l = _ref1[0], a = _ref1[1], b = _ref1[2];return lab2lch(l, a, b);
  };chroma.scale = function (colors, positions) {
    var classifyValue, f, getClass, getColor, setColors, setDomain, tmap, _colors, _correctLightness, _domain, _fixed, _max, _min, _mode, _nacol, _numClasses, _out, _pos, _spread;_mode = "rgb";_nacol = chroma("#ccc");_spread = 0;_fixed = false;_domain = [0, 1];_colors = [];_out = false;_pos = [];_min = 0;_max = 1;_correctLightness = false;_numClasses = 0;setColors = function setColors(colors, positions) {
      var c, col, _i, _j, _ref, _ref1, _ref2;if (colors == null) {
        colors = ["#ddd", "#222"];
      }if (colors != null && type(colors) === "string" && ((_ref = chroma.brewer) != null ? _ref[colors] : void 0) != null) {
        colors = chroma.brewer[colors];
      }if (type(colors) === "array") {
        colors = colors.slice(0);for (c = _i = 0, _ref1 = colors.length - 1; 0 <= _ref1 ? _i <= _ref1 : _i >= _ref1; c = 0 <= _ref1 ? ++_i : --_i) {
          col = colors[c];if (type(col) === "string") {
            colors[c] = chroma(col);
          }
        }if (positions != null) {
          _pos = positions;
        } else {
          _pos = [];for (c = _j = 0, _ref2 = colors.length - 1; 0 <= _ref2 ? _j <= _ref2 : _j >= _ref2; c = 0 <= _ref2 ? ++_j : --_j) {
            _pos.push(c / (colors.length - 1));
          }
        }
      }return _colors = colors;
    };setDomain = function setDomain(domain) {
      if (domain == null) {
        domain = [];
      }_domain = domain;_min = domain[0];_max = domain[domain.length - 1];if (domain.length === 2) {
        return _numClasses = 0;
      } else {
        return _numClasses = domain.length - 1;
      }
    };getClass = function getClass(value) {
      var i, n;if (_domain != null) {
        n = _domain.length - 1;i = 0;while (i < n && value >= _domain[i]) {
          i++;
        }return i - 1;
      }return 0;
    };tmap = function tmap(t) {
      return t;
    };classifyValue = function classifyValue(value) {
      var i, maxc, minc, n, val;val = value;if (_domain.length > 2) {
        n = _domain.length - 1;i = getClass(value);minc = _domain[0] + (_domain[1] - _domain[0]) * (0 + _spread * .5);maxc = _domain[n - 1] + (_domain[n] - _domain[n - 1]) * (1 - _spread * .5);val = _min + (_domain[i] + (_domain[i + 1] - _domain[i]) * .5 - minc) / (maxc - minc) * (_max - _min);
      }return val;
    };getColor = function getColor(val, bypassMap) {
      var c, col, f0, i, p, t, _i, _ref;if (bypassMap == null) {
        bypassMap = false;
      }if (isNaN(val)) {
        return _nacol;
      }if (!bypassMap) {
        if (_domain.length > 2) {
          c = getClass(val);t = c / (_numClasses - 1);
        } else {
          t = f0 = (val - _min) / (_max - _min);t = Math.min(1, Math.max(0, t));
        }
      } else {
        t = val;
      }if (!bypassMap) {
        t = tmap(t);
      }if (type(_colors) === "array") {
        for (i = _i = 0, _ref = _pos.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          p = _pos[i];if (t <= p) {
            col = _colors[i];break;
          }if (t >= p && i === _pos.length - 1) {
            col = _colors[i];break;
          }if (t > p && t < _pos[i + 1]) {
            t = (t - p) / (_pos[i + 1] - p);col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);break;
          }
        }
      } else if (type(_colors) === "function") {
        col = _colors(t);
      }return col;
    };setColors(colors, positions);f = function f(v) {
      var c;c = getColor(v);if (_out && c[_out]) {
        return c[_out]();
      } else {
        return c;
      }
    };f.domain = function (domain, classes, mode, key) {
      var d;if (mode == null) {
        mode = "e";
      }if (!arguments.length) {
        return _domain;
      }if (classes != null) {
        d = chroma.analyze(domain, key);if (classes === 0) {
          domain = [d.min, d.max];
        } else {
          domain = chroma.limits(d, mode, classes);
        }
      }setDomain(domain);return f;
    };f.mode = function (_m) {
      if (!arguments.length) {
        return _mode;
      }_mode = _m;return f;
    };f.range = function (colors, _pos) {
      setColors(colors, _pos);return f;
    };f.out = function (_o) {
      _out = _o;return f;
    };f.spread = function (val) {
      if (!arguments.length) {
        return _spread;
      }_spread = val;return f;
    };f.correctLightness = function (v) {
      if (!arguments.length) {
        return _correctLightness;
      }_correctLightness = v;if (_correctLightness) {
        tmap = function tmap(t) {
          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;L0 = getColor(0, true).lab()[0];L1 = getColor(1, true).lab()[0];pol = L0 > L1;L_actual = getColor(t, true).lab()[0];L_ideal = L0 + (L1 - L0) * t;L_diff = L_actual - L_ideal;t0 = 0;t1 = 1;max_iter = 20;while (Math.abs(L_diff) > .01 && max_iter-- > 0) {
            !function () {
              if (pol) {
                L_diff *= -1;
              }if (L_diff < 0) {
                t0 = t;t += (t1 - t) * .5;
              } else {
                t1 = t;t += (t0 - t) * .5;
              }L_actual = getColor(t, true).lab()[0];return L_diff = L_actual - L_ideal;
            }();
          }return t;
        };
      } else {
        tmap = function tmap(t) {
          return t;
        };
      }return f;
    };return f;
  };if ((_ref = chroma.scales) == null) {
    chroma.scales = {};
  }chroma.scales.cool = function () {
    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);
  };chroma.scales.hot = function () {
    return chroma.scale(["#000", "#f00", "#ff0", "#fff"], [0, .25, .75, 1]).mode("rgb");
  };chroma.analyze = function (data, key, filter) {
    var add, k, r, val, visit, _i, _len;r = { min: Number.MAX_VALUE, max: Number.MAX_VALUE * -1, sum: 0, values: [], count: 0 };if (filter == null) {
      filter = function filter() {
        return true;
      };
    }add = function add(val) {
      if (val != null && !isNaN(val)) {
        r.values.push(val);r.sum += val;if (val < r.min) {
          r.min = val;
        }if (val > r.max) {
          r.max = val;
        }r.count += 1;
      }
    };visit = function visit(val, k) {
      if (filter(val, k)) {
        if (key != null && type(key) === "function") {
          return add(key(val));
        } else if (key != null && type(key) === "string" || type(key) === "number") {
          return add(val[key]);
        } else {
          return add(val);
        }
      }
    };if (type(data) === "array") {
      for (_i = 0, _len = data.length; _i < _len; _i++) {
        val = data[_i];visit(val);
      }
    } else {
      for (k in data) {
        val = data[k];visit(val, k);
      }
    }r.domain = [r.min, r.max];r.limits = function (mode, num) {
      return chroma.limits(r, mode, num);
    };return r;
  };chroma.limits = function (data, mode, num) {
    var assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max, max_log, min, min_log, mindist, n, nb_iters, newCentroids, p, pb, pr, repeat, sum, tmpKMeansBreaks, value, values, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _s, _t, _u, _v, _w;if (mode == null) {
      mode = "equal";
    }if (num == null) {
      num = 7;
    }if (data.values == null) {
      data = chroma.analyze(data);
    }min = data.min;max = data.max;sum = data.sum;values = data.values.sort(function (a, b) {
      return a - b;
    });limits = [];if (mode.substr(0, 1) === "c") {
      limits.push(min);limits.push(max);
    }if (mode.substr(0, 1) === "e") {
      limits.push(min);for (i = _i = 1, _ref1 = num - 1; 1 <= _ref1 ? _i <= _ref1 : _i >= _ref1; i = 1 <= _ref1 ? ++_i : --_i) {
        limits.push(min + i / num * (max - min));
      }limits.push(max);
    } else if (mode.substr(0, 1) === "l") {
      if (min <= 0) {
        throw "Logarithmic scales are only possible for values > 0";
      }min_log = Math.LOG10E * Math.log(min);max_log = Math.LOG10E * Math.log(max);limits.push(min);for (i = _j = 1, _ref2 = num - 1; 1 <= _ref2 ? _j <= _ref2 : _j >= _ref2; i = 1 <= _ref2 ? ++_j : --_j) {
        limits.push(Math.pow(10, min_log + i / num * (max_log - min_log)));
      }limits.push(max);
    } else if (mode.substr(0, 1) === "q") {
      limits.push(min);for (i = _k = 1, _ref3 = num - 1; 1 <= _ref3 ? _k <= _ref3 : _k >= _ref3; i = 1 <= _ref3 ? ++_k : --_k) {
        p = values.length * i / num;pb = Math.floor(p);if (pb === p) {
          limits.push(values[pb]);
        } else {
          pr = p - pb;limits.push(values[pb] * pr + values[pb + 1] * (1 - pr));
        }
      }limits.push(max);
    } else if (mode.substr(0, 1) === "k") {
      n = values.length;assignments = new Array(n);clusterSizes = new Array(num);repeat = true;nb_iters = 0;centroids = null;centroids = [];centroids.push(min);for (i = _l = 1, _ref4 = num - 1; 1 <= _ref4 ? _l <= _ref4 : _l >= _ref4; i = 1 <= _ref4 ? ++_l : --_l) {
        centroids.push(min + i / num * (max - min));
      }centroids.push(max);while (repeat) {
        for (j = _m = 0, _ref5 = num - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; j = 0 <= _ref5 ? ++_m : --_m) {
          clusterSizes[j] = 0;
        }for (i = _n = 0, _ref6 = n - 1; 0 <= _ref6 ? _n <= _ref6 : _n >= _ref6; i = 0 <= _ref6 ? ++_n : --_n) {
          value = values[i];mindist = Number.MAX_VALUE;for (j = _o = 0, _ref7 = num - 1; 0 <= _ref7 ? _o <= _ref7 : _o >= _ref7; j = 0 <= _ref7 ? ++_o : --_o) {
            dist = Math.abs(centroids[j] - value);if (dist < mindist) {
              mindist = dist;best = j;
            }
          }clusterSizes[best]++;assignments[i] = best;
        }newCentroids = new Array(num);for (j = _p = 0, _ref8 = num - 1; 0 <= _ref8 ? _p <= _ref8 : _p >= _ref8; j = 0 <= _ref8 ? ++_p : --_p) {
          newCentroids[j] = null;
        }for (i = _q = 0, _ref9 = n - 1; 0 <= _ref9 ? _q <= _ref9 : _q >= _ref9; i = 0 <= _ref9 ? ++_q : --_q) {
          cluster = assignments[i];if (newCentroids[cluster] === null) {
            newCentroids[cluster] = values[i];
          } else {
            newCentroids[cluster] += values[i];
          }
        }for (j = _r = 0, _ref10 = num - 1; 0 <= _ref10 ? _r <= _ref10 : _r >= _ref10; j = 0 <= _ref10 ? ++_r : --_r) {
          newCentroids[j] *= 1 / clusterSizes[j];
        }repeat = false;for (j = _s = 0, _ref11 = num - 1; 0 <= _ref11 ? _s <= _ref11 : _s >= _ref11; j = 0 <= _ref11 ? ++_s : --_s) {
          if (newCentroids[j] !== centroids[i]) {
            repeat = true;break;
          }
        }centroids = newCentroids;nb_iters++;if (nb_iters > 200) {
          repeat = false;
        }
      }kClusters = {};for (j = _t = 0, _ref12 = num - 1; 0 <= _ref12 ? _t <= _ref12 : _t >= _ref12; j = 0 <= _ref12 ? ++_t : --_t) {
        kClusters[j] = [];
      }for (i = _u = 0, _ref13 = n - 1; 0 <= _ref13 ? _u <= _ref13 : _u >= _ref13; i = 0 <= _ref13 ? ++_u : --_u) {
        cluster = assignments[i];kClusters[cluster].push(values[i]);
      }tmpKMeansBreaks = [];for (j = _v = 0, _ref14 = num - 1; 0 <= _ref14 ? _v <= _ref14 : _v >= _ref14; j = 0 <= _ref14 ? ++_v : --_v) {
        tmpKMeansBreaks.push(kClusters[j][0]);tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);
      }tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a, b) {
        return a - b;
      });limits.push(tmpKMeansBreaks[0]);for (i = _w = 1, _ref15 = tmpKMeansBreaks.length - 1; _w <= _ref15; i = _w += 2) {
        if (!isNaN(tmpKMeansBreaks[i])) {
          limits.push(tmpKMeansBreaks[i]);
        }
      }
    }return limits;
  };root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma.brewer = brewer = { OrRd: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"], PuBu: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858"], BuPu: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b"], Oranges: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704"], BuGn: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b"], YlOrBr: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506"], YlGn: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529"], Reds: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d"], RdPu: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a"], Greens: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b"], YlGnBu: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58"], Purples: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d"], GnBu: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081"], Greys: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000"], YlOrRd: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026"], PuRd: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f"], Blues: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b"], PuBuGn: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636"], Spectral: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"], RdYlGn: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"], RdBu: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"], PiYG: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"], PRGn: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"], RdYlBu: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"], BrBG: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"], RdGy: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"], PuOr: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"], Set2: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3"], Accent: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666"], Set1: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999"], Set3: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f"], Dark2: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666"], Paired: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928"], Pastel2: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc"], Pastel1: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2"] };root = typeof exports !== "undefined" && exports !== null ? exports : this;chroma.colors = colors = { indigo: "#4b0082", gold: "#ffd700", hotpink: "#ff69b4", firebrick: "#b22222", indianred: "#cd5c5c", yellow: "#ffff00", mistyrose: "#ffe4e1", darkolivegreen: "#556b2f", olive: "#808000", darkseagreen: "#8fbc8f", pink: "#ffc0cb", tomato: "#ff6347", lightcoral: "#f08080", orangered: "#ff4500", navajowhite: "#ffdead", lime: "#00ff00", palegreen: "#98fb98", darkslategrey: "#2f4f4f", greenyellow: "#adff2f", burlywood: "#deb887", seashell: "#fff5ee", mediumspringgreen: "#00fa9a", fuchsia: "#ff00ff", papayawhip: "#ffefd5", blanchedalmond: "#ffebcd", chartreuse: "#7fff00", dimgray: "#696969", black: "#000000", peachpuff: "#ffdab9", springgreen: "#00ff7f", aquamarine: "#7fffd4", white: "#ffffff", orange: "#ffa500", lightsalmon: "#ffa07a", darkslategray: "#2f4f4f", brown: "#a52a2a", ivory: "#fffff0", dodgerblue: "#1e90ff", peru: "#cd853f", lawngreen: "#7cfc00", chocolate: "#d2691e", crimson: "#dc143c", forestgreen: "#228b22", darkgrey: "#a9a9a9", lightseagreen: "#20b2aa", cyan: "#00ffff", mintcream: "#f5fffa", silver: "#c0c0c0", antiquewhite: "#faebd7", mediumorchid: "#ba55d3", skyblue: "#87ceeb", gray: "#808080", darkturquoise: "#00ced1", goldenrod: "#daa520", darkgreen: "#006400", floralwhite: "#fffaf0", darkviolet: "#9400d3", darkgray: "#a9a9a9", moccasin: "#ffe4b5", saddlebrown: "#8b4513", grey: "#808080", darkslateblue: "#483d8b", lightskyblue: "#87cefa", lightpink: "#ffb6c1", mediumvioletred: "#c71585", slategrey: "#708090", red: "#ff0000", deeppink: "#ff1493", limegreen: "#32cd32", darkmagenta: "#8b008b", palegoldenrod: "#eee8aa", plum: "#dda0dd", turquoise: "#40e0d0", lightgrey: "#d3d3d3", lightgoldenrodyellow: "#fafad2", darkgoldenrod: "#b8860b", lavender: "#e6e6fa", maroon: "#800000", yellowgreen: "#9acd32", sandybrown: "#f4a460", thistle: "#d8bfd8", violet: "#ee82ee", navy: "#000080", magenta: "#ff00ff", dimgrey: "#696969", tan: "#d2b48c", rosybrown: "#bc8f8f", olivedrab: "#6b8e23", blue: "#0000ff", lightblue: "#add8e6", ghostwhite: "#f8f8ff", honeydew: "#f0fff0", cornflowerblue: "#6495ed", slateblue: "#6a5acd", linen: "#faf0e6", darkblue: "#00008b", powderblue: "#b0e0e6", seagreen: "#2e8b57", darkkhaki: "#bdb76b", snow: "#fffafa", sienna: "#a0522d", mediumblue: "#0000cd", royalblue: "#4169e1", lightcyan: "#e0ffff", green: "#008000", mediumpurple: "#9370db", midnightblue: "#191970", cornsilk: "#fff8dc", paleturquoise: "#afeeee", bisque: "#ffe4c4", slategray: "#708090", darkcyan: "#008b8b", khaki: "#f0e68c", wheat: "#f5deb3", teal: "#008080", darkorchid: "#9932cc", deepskyblue: "#00bfff", salmon: "#fa8072", darkred: "#8b0000", steelblue: "#4682b4", palevioletred: "#db7093", lightslategray: "#778899", aliceblue: "#f0f8ff", lightslategrey: "#778899", lightgreen: "#90ee90", orchid: "#da70d6", gainsboro: "#dcdcdc", mediumseagreen: "#3cb371", lightgray: "#d3d3d3", mediumturquoise: "#48d1cc", lemonchiffon: "#fffacd", cadetblue: "#5f9ea0", lightyellow: "#ffffe0", lavenderblush: "#fff0f5", coral: "#ff7f50", purple: "#800080", aqua: "#00ffff", whitesmoke: "#f5f5f5", mediumslateblue: "#7b68ee", darkorange: "#ff8c00", mediumaquamarine: "#66cdaa", darksalmon: "#e9967a", beige: "#f5f5dc", blueviolet: "#8a2be2", azure: "#f0ffff", lightsteelblue: "#b0c4de", oldlace: "#fdf5e6" };type = function () {
    var classToType, name, _i, _len, _ref1;classToType = {};_ref1 = "Boolean Number String Function Array Date RegExp Undefined Null".split(" ");for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
      name = _ref1[_i];classToType["[object " + name + "]"] = name.toLowerCase();
    }return function (obj) {
      var strType;strType = Object.prototype.toString.call(obj);return classToType[strType] || "object";
    };
  }();limit = function limit(x, min, max) {
    if (min == null) {
      min = 0;
    }if (max == null) {
      max = 1;
    }if (x < min) {
      x = min;
    }if (x > max) {
      x = max;
    }return x;
  };unpack = function unpack(args) {
    if (args.length >= 3) {
      return args;
    } else {
      return args[0];
    }
  };TWOPI = Math.PI * 2;PITHIRD = Math.PI / 3;cos = Math.cos;_bezier = function bezier(colors) {
    var I, I0, I1, c, lab0, lab1, lab2, lab3, _ref1, _ref2, _ref3;colors = function () {
      var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
        c = colors[_i];_results.push(chroma(c));
      }return _results;
    }();if (colors.length === 2) {
      _ref1 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref1[0], lab1 = _ref1[1];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push(lab0[i] + t * (lab1[i] - lab0[i]));
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 3) {
      _ref2 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref2[0], lab1 = _ref2[1], lab2 = _ref2[2];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 4) {
      _ref3 = function () {
        var _i, _len, _results;_results = [];for (_i = 0, _len = colors.length; _i < _len; _i++) {
          c = colors[_i];_results.push(c.lab());
        }return _results;
      }(), lab0 = _ref3[0], lab1 = _ref3[1], lab2 = _ref3[2], lab3 = _ref3[3];I = function I(t) {
        var i, lab;lab = function () {
          var _i, _results;_results = [];for (i = _i = 0; _i <= 2; i = ++_i) {
            _results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);
          }return _results;
        }();return chroma.lab.apply(chroma, lab);
      };
    } else if (colors.length === 5) {
      I0 = _bezier(colors.slice(0, 3));I1 = _bezier(colors.slice(2, 5));I = function I(t) {
        if (t < .5) {
          return I0(t * 2);
        } else {
          return I1((t - .5) * 2);
        }
      };
    }return I;
  };chroma.interpolate.bezier = _bezier;
}.call(undefined);
//# sourceMappingURL=chroma.min.js.map

angular.module("mediaboxApp").run(["$templateCache", function($templateCache) {$templateCache.put("app/about/about.html","<div id=\"main-section-header\" class=\"row\">\r\n    <h2>About</h2>\r\n</div>\r\n\r\n<div id=\"about\" class=\"main-section-content row\">\r\n    <div>\r\n        <h3 class=\"section-title\">Telerik Northwind Dashboard</h3>\r\n        <p>Telerik Northwind Dashboard is a web app built on top of AngularJS with Progress award-winning\r\n        <a href=\"http://www.telerik.com/kendo-ui\">Kendo UI HTML5 and JavaScript widgets</a>. Kendo UI<sup>&reg;</sup> \r\n        <a href=\"http://www.telerik.com/kendo-ui/angularjs-and-kendo-ui-framework-integration\">speeds up your AngularJS development</a> with 70+ ready-to-use UI widgets for every need - from the must-have for every app Grids, Dropdowns and Menus to the advanced line-of-business UI, such as Charts, Gantt, Diagram, Scheduler, PivotGrid and Maps.</p>\r\n\r\n          \r\n        <p>The sample app showcases some of the most popular Kendo UI widgets, such as Scheduler, Grid, TabStrip, Charts and Map in a real world scenario. It has a simple and responsive UI based on\r\n        <a href=\"http://getbootstrap.com/\">Bootstrap</a> and works on a wide range of devices.</p>\r\n\r\n        <p>The sample app is aimed at executives, analysts, or sales representatives. It helps them establish targets based on insights into historical data as well as track sales and product performance in real time.</p>\r\n        <a class=\"download-btn\" href=\"https://github.com/telerik/kendoui-northwind-dashboard/tree/master/angular\">Get Source Code for AngularJS</a>\r\n    </div>\r\n\r\n    <div class=\"section-white\">\r\n        <h3 class=\"section-title\">Featured Kendo UI Components</h3>\r\n        <div class=\"row\">\r\n            <ul class=\"col-xs-4\">\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/datetimepicker/angular\">Date Picker</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/dropdownlist/angular\">DropDownList</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/grid/angular\">Grid</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/listview/angular\">ListView</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/scheduler/angular\">Scheduler</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/tabstrip/angular\">TabStrip</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/tooltip/angular\">Tooltip</a>\r\n                </li>\r\n            </ul>\r\n            <ul class=\"col-xs-4\">\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/bar-charts/angular\">Column Charts</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/donut-charts/angular\">Donut Charts</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/line-charts/angular\">Line Charts</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/map/angular\">Map</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/sparklines/angular\">SparkLines</a>\r\n                </li>\r\n            </ul>\r\n            <ul class=\"col-xs-4\">\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/templates/index\">Templates</a>\r\n                </li>\r\n                <li>\r\n                <a href=\"http://demos.telerik.com/kendo-ui/validator/angular\">Validator</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n            </div>\r\n");
$templateCache.put("app/address/address.html","<navbar></navbar>\r\n<div flex layout=\"column\" layout-gt-xs=\"row\" layout-align=\"center stretch\">\r\n\r\n<div layout=\"column\" layout-gt-sm=\"<column></column>\">\r\n<!--Address box-->\r\n<md-card ng-show=\"address.showAddressForm\">\r\n    <md-card-content>\r\n	<p ng-show=\"address.error\" class=\"md-warn\">{{address.error.message}}</p>\r\n	<h3>SELECTED ADDRESS</h3>\r\n	<form name=\"form\" ng-submit=\"address.saveAddress(address.addr);new.address=false;address.addr = address.address[0];\" novalidate layout=\"column\">\r\n		<md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\">\r\n			<label>Name</label>\r\n			<input name=\"name\" type=\"name\" ng-model=\"address.addr.name\" required autofocus>\r\n			<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\r\n				<div ng-message=\"required\">Name is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.addr.$error.required || form.addr.$error.addr) && form.addr.$dirty\">\r\n			<label>Address</label>\r\n			<input name=\"address\" type=\"address\" ng-model=\"address.addr.address\" required/>\r\n			<div ng-messages=\"form.address.$error\" ng-if=\"form.address.$dirty\">\r\n				<div ng-message=\"required\">Address is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.city.$error.required || form.city.$error.city) && form.city.$dirty\">\r\n			<label>City</label>\r\n			<input name=\"city\" type=\"city\" ng-model=\"address.addr.city\" required/>\r\n			<div ng-messages=\"form.city.$error\" ng-if=\"form.city.$dirty\">\r\n				<div ng-message=\"required\">City is required</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n        <md-input-container md-is-error=\"(form.zip.$error.required || form.zip.$error.zip) && form.zip.$dirty\">\r\n			<label>Zip</label>\r\n			<input name=\"zip\" type=\"zip\" ng-model=\"address.addr.zip\" required only-numbers/>\r\n			<div ng-messages=\"form.zip.$error\" ng-if=\"form.zip.$dirty\">\r\n				<div ng-message=\"required\">Zip code is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.state.$error.required || form.state.$error.state) && form.state.$dirty\">\r\n			<label>State</label>\r\n			<input name=\"state\" type=\"state\" ng-model=\"address.addr.state\" required/>\r\n			<div ng-messages=\"form.state.$error\" ng-if=\"form.state.$dirty\">\r\n				<div ng-message=\"required\">State is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.phone.$error.required || form.phone.$error.phone) && form.phone.$dirty\">\r\n			<label>Phone</label>\r\n			<input name=\"phone\" type=\"phone\" ng-model=\"address.addr.phone\" required/>\r\n			<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\r\n				<div ng-message=\"required\">Phone number is required</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n        <!--<md-input-container md-is-error=\"(form.country.$error.required || form.country.$error.country) && form.country.$dirty\">\r\n            <label>Country</label>\r\n            <input ng-model=\"address.addr.country\" ng-value=\"address.Settings.country.name\" disabled/>\r\n            <div ng-messages=\"form.country.$error\" ng-if=\"form.country.$dirty\">\r\n				<div ng-message=\"required\">Country required</div>\r\n			</div>\r\n		</md-input-container>-->\r\n\r\n        <div layout=\"row\">\r\n            <md-button type=\"submit\" class=\"md-raised md-primary\" \r\n            ng-disabled=\"!form.$valid || address.loadingAddress\" aria-label=\"Save Address\" layout=\"row\">\r\n                <ng-md-icon icon=\"save\" ng-hide=\"address.loadingAddress\"></ng-md-icon>\r\n                <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"address.loadingAddress\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n                Save <span hide show-gt-xs>as Primary Address</span>\r\n            </md-button>\r\n            <md-button ng-click=\"address.cancelForm(address.addr);new.address=false;\">Cancel</md-button>\r\n	   </div>\r\n       </form>\r\n    </md-card-content>\r\n</md-card>\r\n<div layout=\"column\">\r\n<md-button class=\"md-raised\" ng-click=\"address.addressForm(true);address.new.address=true; address.addr={country: address.Settings.country.name}\">\r\n    <ng-md-icon icon=\"location_on\"></ng-md-icon>Add New Address\r\n</md-button>\r\n<div layout=\"row\" layout-align=\"start start\" layout-wrap>\r\n\r\n<md-card  \r\nng-repeat=\"a in address.address\" \r\nng-click=\"new.address=false; address.addressForm(true);address.switchAddress(a)\" \r\nstyle=\"min-width:300px\" \r\nng-class=\"{\'selected\':(a==address.addr)} \"\r\n>\r\n      <md-card-header layout=\"row\" layout-align=\"space-between start\">\r\n          <md-card-header-text>\r\n            <h3>ADDRESS - {{$index+1}}</h3>\r\n          </md-card-header-text>\r\n          	<div>\r\n				  <md-button ng-click=\"address.delete(a)\" aria-label=\"Delete Address\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>  \r\n			</div>				  \r\n      </md-card-header>\r\n	  \r\n      <md-card-content layout=\"column\" layout-align=\"start start\">\r\n			{{a.name}}<br/>\r\n            {{a.address}}<br/>\r\n            {{a.city}}<br/>\r\n            {{a.state}}<br/>\r\n            {{a.zip}}<br/>\r\n            {{a.phone}}\r\n      </md-card-content>\r\n      \r\n</md-card>\r\n</div><!--Address box-->\r\n</div>\r\n</div>\r\n\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/admin/admin.html","<crud-table api=\'user\' options=\'admin.options\' noAdd noCopy></crud-table>\r\n");
$templateCache.put("app/book/book.html","<crud-table api=\'book\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/brandmg/brandmg.html","<crud-table api=\'BrandMG\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/brand/brand.html","<crud-table api=\'brand\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/brandtv/brandtv.html","<crud-table api=\'BrandTV\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/campaign/campaign.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n\r\n<link rel=\"stylesheet\" href=\"bower_components/angular-loading/angular-loading.css\"/>\r\n\r\n\r\n<div ng-cloak>\r\n<div class=\"container\" >\r\n<ul class=\"breadcrumb\">\r\n  <li><a href=\"#\">Home</a></li>\r\n  <li><a href=\"#\">Dashboard</a></li>\r\n  <li><a href=\"#\">My Campaigns</a></li>\r\n  \r\n</ul>\r\n\r\n <!--When No Campaigns-->\r\n      <section ng-if=\"campaign.campaigns.totalCampaign.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\r\n        <h1>You have not purchased anything yet</h1>\r\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\r\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\r\n\r\n        </md-buton>\r\n      </section>\r\n\r\n  <div class=\"box\" ng-controller=\"CampaignController as vm\">\r\n        <div class=\"row\">\r\n        \r\n              <div class=\"col-sm-2\" style=\"border-right: bold\">\r\n                <h3 >Total :<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsAll.totalCampaign}}</div></h3>\r\n              </div>\r\n              <div class=\"col-sm-2\"><h3>Pending<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsPending.totalCampaign}}</div></h3></div>\r\n              <div class=\"col-sm-2\"><h3>Scheduled<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsScheduled.totalCampaign}}</div></h3></div>\r\n               <div class=\"col-sm-2\"><h3>Running<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsRunning.totalCampaign}}</div></h3></div>\r\n               <div class=\"col-sm-2\"><h3>Completed<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsCompleted.totalCampaign}}</div></h3></div>\r\n               <div class=\"col-sm-2\"></div>\r\n          \r\n        </div>\r\n </div>\r\n\r\n\r\n   \r\n</div>\r\n\r\n   <md-content class=\"container\" layout=\"column\">\r\n    <md-tabs md-dynamic-height md-border-bottom>\r\n      <md-tab label=\"PENDING\">\r\n        <md-content >\r\n          \r\n            <section >\r\n   \r\n          <md-content >\r\n            <div >\r\n              <div class=\"col-md-12\" ng-controller=\"CampaignController as vm\">\r\n                  \r\n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n               <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                <div k-detail-template>\r\n\r\n\r\n                    <kendo-tab-strip>\r\n                    <ul>\r\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                        <li>PUBLISHER DETAILS </li>\r\n                    </ul>\r\n                    <div>\r\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                    </div>\r\n                    <div>\r\n                        <ul class=\"contact-info-form\">\r\n                    \r\n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\r\n                           \r\n                        </ul>\r\n                    </div>\r\n                    </kendo-tab-strip>\r\n                </div>\r\n            </kendo-grid>\r\n\r\n          </div>\r\n          \r\n              \r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n            <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\r\n              <md-toolbar style= \"background-color:#555555\">\r\n                <h1 class=\"md-toolbar-tools\">Edit Request</h1>\r\n              </md-toolbar>\r\n            \r\n            </md-sidenav>\r\n        </section>\r\n        </p>\r\n      </md-content>\r\n      </md-tab>\r\n       <md-tab label=\"SCHEDULED\">\r\n        <md-content >\r\n           <section >\r\n   \r\n            <md-content >\r\n            <div >\r\n              <div class=\"col-md-12\" ng-controller=\"CampaignScheduledController as vm\">\r\n                  \r\n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n               <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                <div k-detail-template>\r\n\r\n\r\n                    <kendo-tab-strip>\r\n                    <ul>\r\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                        <li>PUBLISHER </li>\r\n                    </ul>\r\n                    <div>\r\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                    </div>\r\n                    <div>\r\n                        <ul class=\"contact-info-form\">\r\n                    \r\n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\r\n                            \r\n                        </ul>\r\n                    </div>\r\n                    </kendo-tab-strip>\r\n                </div>\r\n            </kendo-grid>\r\n\r\n          </div>\r\n          \r\n              \r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n                <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\r\n                  <md-toolbar style= \"background-color:#555555\">\r\n                    <h1 class=\"md-toolbar-tools\">Preview Request</h1>\r\n                  </md-toolbar>\r\n                  \r\n                </md-sidenav>\r\n        </section>\r\n        </md-content>\r\n      </md-tab>\r\n\r\n         <md-tab label=\"RUNNING\">\r\n        <md-content >\r\n          \r\n            <section >\r\n   \r\n          <md-content >\r\n            <div >\r\n              <div class=\"col-md-12\" ng-controller=\"CampaignRunningController as vm\">\r\n                  \r\n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n               <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                <div k-detail-template>\r\n\r\n\r\n                <kendo-tab-strip>\r\n                    <ul>\r\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                        <li>PUBLISHER </li>\r\n                    </ul>\r\n                    <div>\r\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                    </div>\r\n                    <div>\r\n                        <ul class=\"contact-info-form\">\r\n                    \r\n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\r\n                            \r\n                        </ul>\r\n                    </div>\r\n                    </kendo-tab-strip>                </div>\r\n            </kendo-grid>\r\n\r\n          </div>\r\n          \r\n              \r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n            <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\r\n              <md-toolbar style= \"background-color:#555555\">\r\n                <h1 class=\"md-toolbar-tools\">Edit Request</h1>\r\n              </md-toolbar>\r\n              \r\n            </md-sidenav>\r\n        </section>\r\n        </p>\r\n      </md-content>\r\n      </md-tab>\r\n      <!--running to be inseterd gere-->\r\n      <md-tab label=\"COMPLETED\">\r\n        <md-content >\r\n            <div >\r\n              <div class=\"col-md-12\" ng-controller=\"CampaignCompletedController as vm\">\r\n                  \r\n            <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n               <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n               <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                <div k-detail-template>\r\n\r\n\r\n                    <kendo-tab-strip>\r\n                    <ul>\r\n                        <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                        <li>PUBLISHER </li>\r\n                    </ul>\r\n                    <div>\r\n                        <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                    </div>\r\n                    <div>\r\n                        <ul class=\"contact-info-form\">\r\n                    \r\n                            <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\r\n                            \r\n                        </ul>\r\n                    </div>\r\n                    </kendo-tab-strip>\r\n                </div>\r\n            </kendo-grid>\r\n\r\n          </div>\r\n          \r\n              \r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n              <md-sidenav class=\"md-sidenav-right md-whiteframe-4dp\" md-component-id=\"right\">\r\n                <md-toolbar style= \"background-color:#555555\">\r\n                  <h1 class=\"md-toolbar-tools\">Preview Request</h1>\r\n                </md-toolbar>\r\n                \r\n              </md-sidenav>\r\n          </section>\r\n        </md-content>\r\n      </md-tab>\r\n    </md-tabs>\r\n  </md-content>\r\n</div>\r\n<footer></footer>\r\n<script>\r\n        /*\r\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\r\n            declared in kendo.common.css. It also declares the paths to the\r\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\r\n            stylesheet is hosted on a different domain.\r\n        */\r\n        kendo.pdf.defineFont({\r\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\r\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\r\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\r\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\r\n        });\r\n    </script>\r\n    <script type=\"text/x-kendo-template\" id=\"template\">\r\n        <div class=\"toolbar\">\r\n            <label class=\"category-label\" for=\"category\">Show products by category:</label>\r\n            <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\r\n        </div>\r\n    </script>\r\n\r\n    <script type=\"x/kendo-template\" id=\"page-template\">\r\n      <div class=\"page-template\">\r\n        <div class=\"header\">\r\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\r\n          Bringing Back Life To The Advertising Industry\r\n        </div>\r\n        <div class=\"watermark\">MEDIABOX</div>\r\n        <div class=\"footer\">\r\n          Page #: pageNum # of #: totalPages #\r\n        </div>\r\n      </div>\r\n    </script>\r\n");
$templateCache.put("app/campaigns/campaigns.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<link rel=\"stylesheet\" href=\"bower_components/angular-loading/angular-loading.css\"/>\r\n\r\n\r\n<div ng-cloak>\r\n\r\n<div class=\"container\">    \r\n  <ul class=\"breadcrumb\">\r\n  <li><a href=\"#\">Home</a></li>\r\n  <li><a href=\"#\">Dashboard</a></li>\r\n  <li><a href=\"#\">Campaign Management</a></li>\r\n  \r\n</ul>\r\n    <section  ng-controller=\"CampaignsController as tab\">\r\n        <ul class=\"nav nav-pills\" style=\"margin-left: 20px;margin-bottom: 10px\">\r\n            \r\n           \r\n            <li ng-class=\"{active:tab.isSet(1)}\"><a href ng-click=\"tab.setTab(1)\">Campaigns</a></li>  \r\n             <li ng-class=\"{active:tab.isSet(2)}\"><a href ng-click=\"tab.setTab(2)\">Calendar</a></li>          \r\n        </ul>\r\n        \r\n        <div ng-show=\"tab.isSet(2)\">\r\n\r\n\r\n                 <div class=\"container\" style=\"min-height: 400px\" ng-controller=\"CalendarController\">\r\n                        <h2 class=\"text-center\">{{ vm.calendarTitle }}</h2>\r\n\r\n                          <div class=\"row\">\r\n\r\n                            <div class=\"col-md-6 text-center\">\r\n                              <div class=\"btn-group\">\r\n\r\n                                <button\r\n                                  class=\"btn btn-primary\"\r\n                                  mwl-date-modifier\r\n                                  date=\"vm.viewDate\"\r\n                                  decrement=\"vm.calendarView\"\r\n                                  ng-click=\"vm.cellIsOpen = false\">\r\n                                  Previous\r\n                                </button>\r\n                                <button\r\n                                  class=\"btn btn-default\"\r\n                                  mwl-date-modifier\r\n                                  date=\"vm.viewDate\"\r\n                                  set-to-today\r\n                                  ng-click=\"vm.cellIsOpen = false\">\r\n                                  Today\r\n                                </button>\r\n                                <button\r\n                                  class=\"btn btn-primary\"\r\n                                  mwl-date-modifier\r\n                                  date=\"vm.viewDate\"\r\n                                  increment=\"vm.calendarView\"\r\n                                  ng-click=\"vm.cellIsOpen = false\">\r\n                                  Next\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <br class=\"visible-xs visible-sm\">\r\n\r\n                            <div class=\"col-md-6 text-center\">\r\n                              <div class=\"btn-group\">\r\n                                <label class=\"btn btn-primary\" ng-model=\"vm.calendarView\" uib-btn-radio=\"\'year\'\" ng-click=\"vm.cellIsOpen = false\">Year</label>\r\n                                <label class=\"btn btn-primary\" ng-model=\"vm.calendarView\" uib-btn-radio=\"\'month\'\" ng-click=\"vm.cellIsOpen = false\">Month</label>\r\n                                <label class=\"btn btn-primary\" ng-model=\"vm.calendarView\" uib-btn-radio=\"\'week\'\" ng-click=\"vm.cellIsOpen = false\">Week</label>\r\n                                <label class=\"btn btn-primary\" ng-model=\"vm.calendarView\" uib-btn-radio=\"\'day\'\" ng-click=\"vm.cellIsOpen = false\">Day</label>\r\n                              </div>\r\n                            </div>\r\n\r\n                          </div>\r\n\r\n                          <br>\r\n\r\n                          <mwl-calendar\r\n                            events=\"vm.events\"\r\n                            view=\"vm.calendarView\"\r\n                            view-title=\"vm.calendarTitle\"\r\n                            view-date=\"vm.viewDate\"\r\n                            on-event-click=\"vm.eventClicked(calendarEvent)\"\r\n                            on-event-times-changed=\"vm.eventTimesChanged(calendarEvent); calendarEvent.startsAt = calendarNewEventStart; calendarEvent.endsAt = calendarNewEventEnd\"\r\n                            cell-is-open=\"vm.cellIsOpen\"\r\n                            day-view-start=\"06:00\"\r\n                            day-view-end=\"22:59\"\r\n                            day-view-split=\"30\"\r\n                            cell-modifier=\"vm.modifyCell(calendarCell)\"\r\n                            cell-auto-open-disabled=\"true\"\r\n                            on-timespan-click=\"vm.timespanClicked(calendarDate, calendarCell)\">\r\n                          </mwl-calendar>\r\n\r\n                          <br><br><br>\r\n\r\n                         \r\n\r\n                          \r\n\r\n                </div>  \r\n\r\n        </div><!--end tab 1-->\r\n        <div ng-show=\"tab.isSet(1)\">\r\n\r\n           \r\n              <div class=\"container\" style=\"min-height: 80px\" >\r\n                    <div class=\"row\">\r\n                      <div class=\"col-md-4\"><h3></h3> </div>\r\n\r\n                      <div class=\"col-md-8\"><div   class=\"alert alert-danger\" >New Requests/ Proposals will expire in 7 days if not responded to</div>\r\n\r\n                      </div>\r\n                    </div>\r\n                      <div class=\"box\" ng-controller=\"CampaignsController as vm\">\r\n                            <div class=\"row\">\r\n                            \r\n                                  <div class=\"col-sm-2\" style=\"border-right: bold\">\r\n                                    <h3 >Total :<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaigns.totalCampaign}}</div></h3>\r\n                                  </div>\r\n                                  <div class=\"col-sm-2\"><h3>Pending<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsPending.totalCampaign}}</div></h3></div>\r\n                                  <div class=\"col-sm-2\"><h3>Scheduled<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsScheduled.totalCampaign}}</div></h3></div>\r\n                                   <div class=\"col-sm-2\"><h3>Running<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsRunning.totalCampaign}}</div></h3></div>\r\n                                   <div class=\"col-sm-2\"><h3>Completed<br> &nbsp;<br><div  style=\"margin-left:30px;color:red\">{{vm.campaignsCompleted.totalCampaign}}</div></h3></div>\r\n                                   <div class=\"col-sm-2\"></div>\r\n                              \r\n                            </div>\r\n                     </div>\r\n\r\n                       \r\n                    </div>\r\n\r\n                      <md-content class=\"container\" layout=\"column\">\r\n                        <md-tabs md-dynamic-height md-border-bottom>\r\n                          <md-tab label=\"PENDING\">\r\n                            <md-content >\r\n                              \r\n                                <section >\r\n                       \r\n                              <md-content >\r\n                                <div >\r\n                                  <div class=\"col-md-12\" ng-controller=\"CampaignsController as vm\">\r\n                                      \r\n                                <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n                                   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n                                   <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                                    <div k-detail-template>\r\n\r\n\r\n                                        <kendo-tab-strip>\r\n                                        <ul>\r\n                                            <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                                            <li>ADVERTISER DETAILS </li>\r\n                                        </ul>\r\n                                        <div>\r\n                                            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <ul class=\"contact-info-form\">\r\n                                        \r\n                                                <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\r\n                                                <!--<li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li>-->\r\n                                                <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\r\n                                                <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        </kendo-tab-strip>\r\n                                    </div>\r\n                                </kendo-grid>\r\n\r\n                              </div>\r\n                              \r\n                                  \r\n                                </div>\r\n\r\n                                <div flex></div>\r\n                              </md-content>\r\n                           \r\n                            </section>\r\n                            </p>\r\n                          </md-content>\r\n                          </md-tab>\r\n                           <md-tab label=\"SCHEDULED\">\r\n                            <md-content >\r\n                               <section >\r\n                       \r\n                                <md-content >\r\n                                <div >\r\n                                  <div class=\"col-md-12\" ng-controller=\"CampaignsScheduledController as vm\">\r\n                                      \r\n                                <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n                                   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n                                   <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                                    <div k-detail-template>\r\n\r\n\r\n                                        <kendo-tab-strip>\r\n                                        <ul>\r\n                                            <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                                            <li>ADVERTISER DETAILS </li>\r\n                                        </ul>\r\n                                        <div>\r\n                                            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <u++l class=\"contact-info-form\">\r\n                                        \r\n                                                <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\r\n                                                 <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\r\n                                                <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        </kendo-tab-strip>\r\n                                    </div>\r\n                                </kendo-grid>\r\n\r\n                              </div>\r\n                              \r\n                                  \r\n                                </div>\r\n\r\n                                <div flex></div>\r\n                              </md-content>\r\n                                \r\n                            </section>\r\n                            </md-content>\r\n                          </md-tab>\r\n\r\n                             <md-tab label=\"RUNNING\">\r\n                            <md-content >\r\n                              \r\n                                <section >\r\n                       \r\n                              <md-content >\r\n                                <div >\r\n                                  <div class=\"col-md-12\" ng-controller=\"CampaignsRunningController as vm\">\r\n                                      \r\n                                <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n                                   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n                                   <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                                    <div k-detail-template>\r\n\r\n\r\n                                        <kendo-tab-strip>\r\n                                        <ul>\r\n                                            <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                                            <li>ADVERTISER DETAILS </li>\r\n                                        </ul>\r\n                                        <div>\r\n                                            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <ul class=\"contact-info-form\">\r\n                                        \r\n                                                <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\r\n                                                 <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\r\n                                                <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        </kendo-tab-strip>\r\n                                    </div>\r\n                                </kendo-grid>\r\n\r\n                              </div>\r\n                              \r\n                                  \r\n                                </div>\r\n\r\n                                <div flex></div>\r\n                              </md-content>\r\n                                \r\n                            </section>\r\n                            </p>\r\n                          </md-content>\r\n                          </md-tab>\r\n                          <!--running to be inseterd gere-->\r\n                          <md-tab label=\"COMPLETED\">\r\n                            <md-content >\r\n                                <div >\r\n                                  <div class=\"col-md-12\" ng-controller=\"CampaignsCompletedController as vm\">\r\n                                      \r\n                                <!-- <h3  class=\"bg-info well text-center\">Total Spent: {{campaigns.total | currency}}</h3> -->\r\n                                   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"campaigns\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n\r\n                                   <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                                    <div k-detail-template>\r\n\r\n\r\n                                        <kendo-tab-strip>\r\n                                        <ul>\r\n                                            <li class=\"k-state-active\">PRODUCTS/SITES</li>\r\n                                            <li>ADVERTISER DETAILS </li>\r\n                                        </ul>\r\n                                        <div>\r\n                                            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <ul class=\"contact-info-form\">\r\n                                        \r\n                                                <li><label>Name:</label> {{dataItem.items[0].advertiser.company}}</li>\r\n                                                <!--<li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li>-->\r\n                                                <li><label>Email:</label> {{dataItem.items[0].advertiser.email}}</li>\r\n                                                <li><label>Phone:</label> {{dataItem.items[0].advertiser.phone}}</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        </kendo-tab-strip>\r\n                                    </div>\r\n                                </kendo-grid>\r\n\r\n                              </div>\r\n                              \r\n                                  \r\n                                </div>\r\n\r\n                                <div flex></div>\r\n                              </md-content>\r\n                                  </section>\r\n                            </md-content>\r\n                          </md-tab>\r\n                        </md-tabs>\r\n                      </md-content>     \r\n              \r\n                   \r\n        </div>\r\n        \r\n    </section>\r\n</div>\r\n\r\n\r\n</div>\r\n<footer></footer>\r\n<script>\r\n        /*\r\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\r\n            declared in kendo.common.css. It also declares the paths to the\r\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\r\n            stylesheet is hosted on a different domain.\r\n        */\r\n        kendo.pdf.defineFont({\r\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\r\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\r\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\r\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\r\n        });\r\n    </script>\r\n    <script type=\"text/x-kendo-template\" id=\"template\">\r\n        <div class=\"toolbar\">\r\n            <label class=\"category-label\" for=\"category\">Show products by category:</label>\r\n            <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\r\n        </div>\r\n    </script>\r\n\r\n    <script type=\"x/kendo-template\" id=\"page-template\">\r\n      <div class=\"page-template\">\r\n        <div class=\"header\">\r\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\r\n          Bringing Back Life To The Advertising Industry\r\n        </div>\r\n        <div class=\"watermark\">MEDIABOX</div>\r\n        <div class=\"footer\">\r\n          Page #: pageNum # of #: totalPages #\r\n        </div>\r\n      </div>\r\n    </script>\r\n\r\n\r\n");
$templateCache.put("app/cart/cart.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content class=\"container \" layout=\"column\">\r\n    <section class=\"header\" layout=\"column\">\r\n        <div class=\"col-sm-12 \">\r\n            <div class=\"box\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-3 stats-graph\">\r\n                        <md-input-container>\r\n                            <label>Campaign Name</label>\r\n                            <input value=\"{{vm.cart.campaignName}}\" ng-model=\"vm.cart.campaignName\" \\>\r\n                        </md-input-container>\r\n                    </div>\r\n                    <div class=\"col-xs-6 stats-graph\">\r\n                        <div class \"col-md-12\">\r\n                            <md-input-container>\r\n                                <label>Campaign Objective</label>\r\n                                <textarea name=\"objectives\" cols=\"50\" rows=\"2\" ng-model=\"vm.cart.objectives\" md-maxlength=\"150\"></textarea>\r\n                                <div ng-messages=\"userForm.bio.$error\" ng-show=\"userForm.bio.$dirty\">\r\n                                    <div ng-message=\"required\">This is required!</div>\r\n                                    <div ng-message=\"md-maxlength\">That\'s too long!</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"totalContainer\" class=\"col-xs-3 stats-graph\">\r\n                        <h4 class=\"section-header\">Total Spend</h4> {{vm.cart.getTotalPrice() | currency}} - ({{vm.cart.getTotalCount()}} items)\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class=\"header\" layout=\"column\" padding>\r\n        <div>\r\n            <p>\r\n                <div>\r\n                    <div class=\"actions-continue\">\r\n                        <input type=\"text\" placeholder=\"Filter ...\" class=\"form-control col-md-4\" style=\"width:250px;margin-left:20px;\" ng-model=\"filterCart\" autofocus/>\r\n                        <button value=\"Proceed to Checkout \" name=\"proceed\" class=\"btn btn-danger pull-right\" ng-click=\"cart.createCampaign(vm.cart);\" ng-disabled=\"vm.cart.getTotalCount() <= 0\">Create Campaign/Advert </button>\r\n                        <div class=\"clearfix\"></div>\r\n                    </div>\r\n                    <br/>\r\n                    <table class=\"cart table table-striped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Publisher</th>\r\n                                <th>Media Option and upload </th>\r\n                                <th style=\"width: 250px\">Start and End Date</th>\r\n                                <th style=\"width: 100px\">Availability</th>\r\n                                <th>Price</th>\r\n                                <th>Inserts</th>\r\n                                <th>Total</th>\r\n                                <th>Remove</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <!-- empty cart message -->\r\n                            <tr ng-hide=\"vm.cart.getTotalCount() > 0\">\r\n                                <td class=\"tdCenter\" colspan=\"7\">\r\n                                    Your MediaCart is empty. &nbsp;&nbsp;<a class=\"btn btn-primary\" href=\"/\" ng-click=\"vm.cancel();\">Build Campaign</a>\r\n                                </td>\r\n                            </tr>\r\n                            <tr ng-repeat=\"item in vm.cart.items track by $index \">\r\n                                <td>{{$index+1}}</td>\r\n                                <td class=\"product-thumbnail\">\r\n                                    <a>\r\n                                        <img data-ng-src=\"data:image/png;base64,{{item.image}}\" alt=\"{{item.publisher}}\" style=\"width: 100px;\">\r\n                                    </a><br>&nbsp;\r\n                                    <br> {{item.publisher}}\r\n                                </td>\r\n                                <td class=\"product-name\">\r\n                                    {{item.name}}<br>\r\n                                    <md-input-container flex>\r\n                                        <img style=\"width: 100px;border: none;\" ng-src=\"{{item.creative}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\">\r\n                                    </md-input-container>\r\n                                    <div ng-hide=\"item.creative\">\r\n                                        <button class=\"btn btn-danger\" ng-hide=\"isAdmin()\" ng-click=\"cart.mediaLibrary($index)\"><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button>\r\n                                    </div>\r\n                                    <div ng-show=\"item.creative\">\r\n                                        <button class=\"btn btn-success\" ng-hide=\"isAdmin()\" ng-click=\"cart.mediaLibrary($index)\"><i class=\"fa fa-image\"></i><span class=\"glyphicon glyphicon-upload\"></span></button>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"product-name\">\r\n                                    <div class=\"col-md-12 demo\">\r\n                                        <div class=\"form-group has-feedback\">\r\n                                            <label class=\"control-label\">&nbsp;</label>\r\n                                            <input type=\"text\" class=\"form-control\" id=\"config-demo\" name=\"daterange\" value=\"\" ng-model=\"item.category\" placeholder=\"Start and End Date\" ng-change=\"cart.querySearch(item.category,item,$index)\" />\r\n                                            <i class=\"glyphicon glyphicon-calendar form-control-feedback\"></i>\r\n                                        </div>\r\n                                        <p><ng-md-icon icon=\"highlight_off\" ng-show=\"cart.loaded[$index]==\'notavailable\'\"  class=\"material-icons md-96 cancel\"></ng-md-icon><span ng-show=\"cart.loaded[$index]==\'notavailable\'\"><small><b>select different dates</b></small></span></p>\r\n                                </td>\r\n                                <td>\r\n                                    <div id=\"mydiv\" ng-hide=\"cart.loaded[$index]\" >\r\n                                        <img src=\"/assets/images/AjaxLoader-5b8b06c052.gif\"  style=\"border: none;\" alt=\"\">\r\n                                        \r\n                                    </div>\r\n                                    <!-- <ng-md-icon icon=\"check_circle\" ng-show=\"cart.loaded[$index]==\'available\'\" class=\"material-icons md-96 success\"></ng-md-icon><br>\r\n                                    <ng-md-icon icon=\"highlight_off\" ng-show=\"cart.loaded[$index]==\'notavailable\'\"  class=\"material-icons md-96 cancel\"></ng-md-icon> -->\r\n                                    &nbsp;&nbsp;&nbsp;<span ng-show=\"cart.loaded[$index]==\'notavailable\'\" class=\"red\">{{cart.available[$index]}}</span>\r\n                                    <span ng-show=\"cart.loaded[$index]==\'available\'\" class=\"green\">{{cart.available[$index]}}</span>\r\n                                </td>\r\n                                <td>{{item.price | currency}}</td>\r\n                                <td>\r\n                                    <md-button class=\"md-raised md-primary small-button md-icon-button\" ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, +1)\" aria-label=\"Add to cart\">\r\n                                        <ng-md-icon icon=\"add\"></ng-md-icon>\r\n                                    </md-button>\r\n                                    <div class=\"md-raised\" ng-disabled=\"true\" aria-label=\"Cart quantity\">{{vm.cart.getQuantity(item.sku, item.vid)}}</div>\r\n                                    <md-button class=\"md-raised md-primary small-button md-icon-button\" ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, -1)\" aria-label=\"Remove from cart\">\r\n                                        <ng-md-icon icon=\"remove\"></ng-md-icon>\r\n                                    </md-button>\r\n                                </td>\r\n                                <td><span><strong>{{item.price * item.quantity | currency}}</strong></span></td>\r\n                                <td class=\"product-actions\">\r\n                                    <a aria-label=\"Remove {{item.name}} from cart\" ng-click=\"vm.cart.addItem({sku:item.sku, vid: item.vid}, -10000000);\">\r\n                                        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    </div>\r\n                    <hr>\r\n                </div>\r\n</md-content>\r\n</section>\r\n</md-content>\r\n<footer></footer>\r\n<script type=\"text/javascript\">\r\n$(function() {\r\n    $(\'input[name=\"daterange\"]\').daterangepicker();\r\n});\r\n</script>\r\n");
$templateCache.put("app/cart/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\r\n  <md-toolbar class=\"md-warn\">\r\n    <div class=\"md-toolbar-tools\">\r\n      <h2>Media Library</h2>\r\n      <span flex></span>\r\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\r\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n      </md-button>\r\n    </div>\r\n  </md-toolbar>\r\n\r\n  <md-dialog-content>\r\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\r\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\r\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\r\n          		<div class=\"thumbnail\">\r\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\r\n          		</div>\r\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\r\n            </md-grid-tile>\r\n          </md-grid-list>\r\n    </div>\r\n  </md-dialog-content>\r\n  <md-dialog-actions layout=\"row\">\r\n    <span flex></span>\r\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\r\n     Add new Image\r\n    </md-button>\r\n  </md-dialog-actions>\r\n</md-dialog>\r\n");
$templateCache.put("app/category/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\r\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\r\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\r\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n		</md-button>\r\n		<h3>Edit {{detail.header | labelCase}} - {{detail.category._id}}</h3>\r\n		<md-button aria-label=\"-\">\r\n		</md-button>\r\n	</span>\r\n</md-toolbar>\r\n\r\n<md-content class=\"md-padding\" flex layout-fill ng-cloak id=\"user-detail-content\">\r\n  <section layout=\"column\">\r\n      <span layout=\"row\">\r\n        <md-input-container flex>\r\n          <label>Name</label>\r\n          <input name=\"name\" ng-model=\"detail.category.name\" md-autofocus>\r\n        </md-input-container>\r\n\r\n        <md-input-container flex>\r\n          <label>Slug</label>\r\n          <input name=\"slug\" ng-model=\"detail.category.slug\"/>\r\n        </md-input-container>\r\n        <md-input-container flex>\r\n          <label>Category</label>\r\n          <input name=\"category\" ng-model=\"detail.category.category\"/>\r\n        </md-input-container>\r\n      </span>\r\n  </section>\r\n	<section class=\"section\" layout=\"row\">\r\n<form name=\"form\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.save(detail.cat);\" novalidate autocomplete=\"off\">\r\n		<span layout=\"column\" layout-sm=\"column\">\r\n		  <md-content>\r\n			    <section>\r\n			      <md-subheader class=\"md-accent\">Sub Categories </md-subheader>\r\n\r\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n							<thead>\r\n								<tr class=\"md-table-headers-row\">\r\n									<th class=\"md-table-header\">#</th>\r\n									<th class=\"md-table-header\">Name</th>\r\n									<th class=\"md-table-header\">Active</th>\r\n									<th class=\"md-table-header\"></th>\r\n								</tr>\r\n							</thead>\r\n\r\n							<tbody>\r\n								<tr ng-repeat=\"v in detail.category.child track by $index\" id=\"{{v._id}}\"\r\n										class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(v)}\">\r\n									<td>{{$index+1}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"name\" ng-model=\"v.name\" aria-label=\"Name\"/>\r\n										</md-input-container>\r\n									</td>\r\n                  <td>\r\n										<md-input-container flex>\r\n											<md-switch class=\"md-secondary\" ng-model=\"v.active\" aria-label=\"Activate Category\"></md-switch>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\"   ng-click=\"detail.deleteVariants($index,cat);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\r\n									</td>\r\n								</tr>\r\n								<tr class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>{{$index}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"name\" ng-model=\"detail.category.newSubCat.name\" aria-label=\"Variant Weight\" placeholder=\"New Name\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n									</td>\r\n								</tr>\r\n							</tbody>\r\n			      </table>\r\n			    </section>\r\n\r\n			  </md-content>\r\n\r\n		<md-dialog-actions layout=\"row\">\r\n			<span flex></span>\r\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\r\n		</md-dialog-actions>\r\n		</form>\r\n\r\n	</section>\r\n\r\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\r\n\r\n		<span class=\"section-title\">Record Information</span>\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\r\n			<span flex=\"45\">Modified</span>\r\n			<span flex ng-show=\"detail.category.updatedAt\" class=\"subtitle\">\r\n				<span am-time-ago=\"detail.category.updatedAt\"></span>\r\n				<md-tooltip>{{detail.category.updatedAt | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\r\n				{{detail.category.modifiedBy && \'by \' + detail.category.modifiedBy}}\r\n			</span>\r\n		</span>\r\n\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\r\n			<span flex=\"45\">Created</span>\r\n			<span flex ng-show=\"detail.category.createdAt\" class=\"subtitle\">{{detail.category.createdAt | date:\'dd. MMMM yyyy H:mm\'}}</span>\r\n		</span>\r\n\r\n	</section>\r\n\r\n</md-content>\r\n\r\n<md-button class=\"md-fab md-accent md-fab-bottom-right fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Save Category\" ng-if=\"form.$dirty\" ng-click=\"detail.save(detail.cat);\">\r\n	<ng-md-icon icon=\"save\"></ng-md-icon>\r\n</md-button>\r\n");
$templateCache.put("app/category/list.html","<style>\r\n	.b { flex: 1; text-align: center; }\r\n	.pull-right{\r\n		margin-left:auto;\r\n	}\r\n</style>\r\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\r\n\r\n<!-- Nested node template -->\r\n<script type=\"text/ng-template\" id=\"nodes_renderer.html\">\r\n  <div ui-tree-handle class=\"tree-node tree-node-content\" layout=\"row\">\r\n    <a class=\"btn btn-success btn-xs\" ng-if=\"node.child && node.child.length > 0\" data-nodrag ng-click=\"list.toggle(this)\">\r\n      <ng-md-icon icon=\"chevron_right\" ng-if=\"collapsed\"></ng-md-icon>\r\n      <ng-md-icon icon=\"expand_more\" ng-if=\"!collapsed\"></ng-md-icon>\r\n    </a>\r\n    <div flex>{{node.name}}</div>\r\n		<a class=\"pull-right btn btn-danger btn-xs\" data-nodrag ng-click=\"list.remove(this,node)\">\r\n			<ng-md-icon icon=\"delete\"></ng-md-icon>\r\n		</a>\r\n  </div>\r\n  <ol ui-tree-nodes=\"\" ng-model=\"node.child\" ng-class=\"{hidden: collapsed}\">\r\n    <li ng-repeat=\"node in node.child\" ui-tree-node ng-include=\"\'nodes_renderer.html\'\" ng-show=\"visible(node)\">\r\n    </li>\r\n  </ol>\r\n</script>\r\n\r\n\r\n <!-- Add div For infinite scroll -->\r\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\'>\r\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\r\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<h2 class=\"md-title\">List of Categories</h2>\r\n			  <div flex></div>\r\n\r\n\r\n				<form layout layout-align=\"center\" layout-padding ng-submit=\"list.addTab(category)\" class=\"categoryAddForm\">\r\n					<div layout=\"row\" flex>\r\n							<md-input-container class=\"md-block\" layout=\"row\" layout-align=\"center end\">\r\n							<label >Add New Category</label>\r\n							<input type=\"text\" ng-model=\"category.name\">\r\n						</md-input-container>\r\n							<div>\r\n								<md-button class=\"md-primary md-raised\" ng-disabled=\"!category\" type=\"submit\">Add</md-button>\r\n							</div>\r\n					</div>  \r\n			</form>\r\n\r\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\r\n				aria-label=\"Open filter box for {{list.header}}s table\">\r\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\r\n			  </md-button>\r\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\r\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\r\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\r\n	      </md-button>\r\n	      <md-menu-content width=\"4\">\r\n	        <md-menu-item>\r\n	          <md-button\r\n							ng-click=\"list.exportData(\'xls\');\"\r\n							aria-label=\"Export {{list.header}}s table as Excel\">\r\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\r\n	            Excel\r\n	          </md-button>\r\n	        </md-menu-item>\r\n					<md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header}}s table in JSON format\">\r\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\r\n	            JSON\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header}}s table in Text format\">\r\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\r\n	            Text\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n\r\n	      </md-menu-content>\r\n	    </md-menu>\r\n      </div>\r\n    </md-toolbar>\r\n\r\n		<md-toolbar class=\"md-table-toolbar md-default\"\r\n			ng-show=\"filter.show || list.data.search\"\r\n			aria-hidden=\"false\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<ng-md-icon icon=\"search\"></ng-md-icon>\r\n				<md-input-container flex class=\"mgt30\">\r\n		      <label>Filter {{list.header}}</label>\r\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\" ng-change=\"findNodes()\">\r\n		    </md-input-container>\r\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\r\n			</div>\r\n		</md-toolbar>\r\n\r\n<div layout=\"row\">\r\n    <div ui-tree=\"treeOptions\" id=\"tree-root\" flex>\r\n      <ol ui-tree-nodes=\"\" ng-model=\"list.data\">\r\n        <li ng-repeat=\"node in list.data\" ui-tree-node ng-include=\"\'nodes_renderer.html\'\" ng-show=\"visible(node)\">{{node}}</li>\r\n      </ol>\r\n    </div>\r\n</div>\r\n\r\n<a id=\"bottom\"></a><!--When a new category added, page should scroll to this point-->\r\n \r\n <div class=\"md-table-pagination\">\r\n		<span>Filtered {{filtered.length}} of {{list.data.length}} {{list.header}}s</span>\r\n	</div>\r\n</md-card>\r\n\r\n<md-card ng-if=\"!list.data.length && !list.loading\">\r\n	  <md-card-content>\r\n	    <h2>No {{list.header | labelCase}}s found</h2>\r\n	    <p class=\"mgl\" hide-xs>\r\n				There are no {{list.header | labelCase}}s!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	    <p hide-gt-xs>\r\n				There are no {{list.header | labelCase}}s!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	  </md-card-content>\r\n	</md-card>\r\n");
$templateCache.put("app/category/main.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex layout=\"column\" class=\"content\">\r\n<section layout=\"row\">\r\n\r\n		<div ui-view=\"content\" layout=\"column\" flex></div>\r\n\r\n		<md-content\r\n			ui-view=\"detail\"\r\n			id=\"detail-content\"\r\n			toggle-component\r\n			md-component-id=\"categories.detailView\"\r\n			layout=\"column\"\r\n			flex-xs=\"100\"\r\n			flex-sm = \"90\"\r\n			flex-md=\"90\"\r\n			flex-lg=\"50\"\r\n			flex-gt-lg=\"50\"\r\n			class=\"md-whiteframe-z1\">\r\n		</md-content>\r\n</section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/checkout/checkout.html","<navbar></navbar>\r\n<md-card ng-if=\"checkout.payment.msg\">\r\n      <md-card-header style=\"background:pink\">\r\n          <md-card-header-text>\r\n            <h3 ng-if=\"\">Payment Failed </h3>\r\n            <span class=\"md-subhead\" >\r\n                <div ng-if=\"checkout.payment.id\">ID: {{checkout.payment.id}}</div>\r\n                <b>Error:</b> \r\n                    <div ng-repeat=\"m in checkout.payment.msg\">{{m.field}} {{m.issue}} </div>\r\n            </span>\r\n          </md-card-header-text>\r\n          \r\n      </md-card-header>\r\n</md-card>\r\n\r\n<div flex layout=\"column\" layout-gt-xs=\"row\" layout-align=\"center stretch\" class=\"checkout\">\r\n\r\n<md-card>\r\n      <md-card-header>\r\n          <md-card-header-text>\r\n            <h4>PROCESS ORDER</h4>        \r\n            \r\n          </md-card-header-text>\r\n          \r\n      </md-card-header>\r\n      <md-card-content>\r\n  <div class=\"md-table-container\">\r\n      <form name=\"orderForm\" ng-submit=\"checkout.checkout(checkout.addr,checkout.options,true);\" novalidate>\r\n      \r\n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n		<tbody>\r\n\r\n			<tr class=\"md-table-content-row\" >\r\n				<td>Order Total:</td>\r\n			    <td>{{checkout.Cart.cart.getTotalPrice() | currency : checkout.Settings.currency.symbol}}</td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\">\r\n				<td>Handling Fee: </td>\r\n			    <td >\r\n                    {{checkout.Cart.cart.getHandlingFee()| currency : checkout.Settings.currency.symbol}}\r\n                </td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\">\r\n				<td>Total Amount:&nbsp;&nbsp;&nbsp;</td>\r\n			    <td>{{checkout.Cart.cart.getTotalPrice() + checkout.Cart.cart.getHandlingFee() - checkout.coupon.amount | currency : checkout.Settings.currency.symbol}}</td>\r\n			</tr>\r\n            <tr>\r\n                <td>&nbsp;</td>\r\n                <td>&nbsp;</td>\r\n            </tr>\r\n            <tr class=\"md-table-content-row\">\r\n\r\n				\r\n			    <td colspan=\"2\"><h4>Select Payment Method</h4>\r\n                       <div class=\"row\">\r\n                            <div class=\"col-md-6 short\">\r\n                                <div class=\"payment-logo\">\r\n                                  <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/paypal-e9dccdb656.png\" alt=\"\">\r\n                                </div>\r\n                                <label class=\"payment-label\" for=\"r1\">\r\n                                                          \r\n                                    <div class=\"payment-selector\" id=\"isNotMasterCard\">\r\n                                        <input type=\"radio\" name=\"payment_method_id\"   ng-model=\"checkout.options.paymentMethod.name\" value=\"PayPal\" id=\"r1\"> \r\n                                    </div>\r\n                                    <span class=\"payment-type-name\">PayPal</span>\r\n                                                  \r\n                                                          \r\n                                </label>\r\n\r\n                            </div>\r\n                        <div class=\"col-md-6 short\">\r\n                            <div class=\"payment-logo\">\r\n                              <img width=\"200px\"  height=\"60px\" data-ng-src=\"./assets/images/paynow-e7bc602c34.png\" alt=\"\">\r\n                            </div>\r\n                              <label class=\"payment-label\" for=\"r1\">\r\n                                                          \r\n                                  <div class=\"payment-selector\" id=\"isNotMasterCard\">\r\n                                      <input type=\"radio\" name=\"payment_method_id\"   ng-model=\"checkout.options.paymentMethod.name\" value=\"PayNow\" id=\"r1\"> \r\n                                  </div>\r\n                                  <span class=\"payment-type-name\">PayNow</span>\r\n                                                  \r\n                                                          \r\n                             </label>\r\n                        </div>\r\n                       </div>\r\n                        \r\n                \r\n                    </div><div ng-messages=\"orderForm.paymentMethod.name.$error\" ng-if=\"orderForm.paymentMethod.name.$dirty\">\r\n                        <div ng-message=\"required\">Payment Method is required</div>\r\n                    </div>\r\n</td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\r\n				<td>Card No:</td>\r\n			    <td>\r\n                    <md-input-container md-is-error=\"(form.number.$error.required || form.number.$error.number) && form.number.$dirty\" md-no-float>\r\n                        <input name=\"number\" type=\"text\" ng-model=\"checkout.stripeToken.number\"\r\n                        placeholder=\"Credit Card Number\"\r\n                        autocomplete=\"off\"\r\n                        ng-minlength=\"16\"\r\n                        ng-maxlength=\"16\"/>\r\n                        <small class=\"errorMessage\" ng-show=\"orderForm.number.$dirty && orderForm.number.$invalid\"> Credit Card number is invalid.\r\n                        </small>\r\n                        <div ng-messages=\"orderForm.number.$error\" ng-if=\"orderForm.number.$dirty\">\r\n                            <div ng-message=\"required\">Number is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\r\n				<td>CVC:</td>\r\n			    <td>\r\n                    <md-input-container md-is-error=\"(form.cvc.$error.required || form.cvc.$error.cvc) && form.cvc.$dirty\" md-no-float>\r\n                        <input name=\"cvc\" type=\"text\" ng-model=\"checkout.stripeToken.cvc\"\r\n                        placeholder=\"Credit Card CVC\"\r\n                        autocomplete=\"off\"\r\n                        ng-minlength=\"3\"\r\n                        ng-maxlength=\"3\"/>\r\n                        <small class=\"errorMessage\" ng-show=\"orderForm.cvc.$dirty && orderForm.cvc.$invalid\"> Credit Card cvc is invalid.\r\n                        </small>\r\n                        <div ng-messages=\"orderForm.cvc.$error\" ng-if=\"orderForm.cvc.$dirty\">\r\n                            <div ng-message=\"required\">CVC is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\r\n				<td>Expiry Month:</td>\r\n			    <td>\r\n                    <md-input-container md-is-error=\"(form.exp_month.$error.required || form.exp_month.$error.exp_month) && form.exp_month.$dirty\" md-no-float>\r\n                        <input name=\"exp_month\" type=\"text\" ng-model=\"checkout.stripeToken.exp_month\"\r\n                        placeholder=\"Credit Card Expiry Month\"\r\n                        autocomplete=\"off\"\r\n                        ng-pattern=\"\'(0[1-9]|1[012])\'\" />\r\n                        <small class=\"errorMessage\" ng-show=\"orderForm.exp_month.$dirty && orderForm.exp_month.$invalid\"> Credit Card exp_month is invalid.\r\n                        </small>\r\n                        <div ng-messages=\"orderForm.exp_month.$error\" ng-if=\"orderForm.exp_month.$dirty\">\r\n                            <div ng-message=\"required\">Expiry Month is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\" ng-if=\"checkout.options.paymentMethod.name===\'Stripe\'\">\r\n				<td>Expiry Year:</td>\r\n			    <td>\r\n                    <md-input-container md-is-error=\"(form.exp_year.$error.required || form.exp_year.$error.exp_year) && form.exp_year.$dirty\" md-no-float>\r\n                        <input name=\"exp_year\" type=\"text\" ng-model=\"checkout.stripeToken.exp_year\"\r\n                        placeholder=\"Credit Card Expiry Month\"\r\n                        autocomplete=\"off\"\r\n                        ng-pattern=\"\'^(20)\\\\d{2}$\'\"/>\r\n                        <small class=\"errorMessage\" ng-show=\"orderForm.exp_year.$dirty && orderForm.exp_year.$invalid\"> Credit Card exp_year is invalid.\r\n                        </small>\r\n                        <div ng-messages=\"orderForm.exp_year.$error\" ng-if=\"orderForm.exp_year.$dirty\">\r\n                            <div ng-message=\"required\">Expiry Year is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </td>\r\n			</tr>\r\n            <tr class=\"md-table-content-row\">\r\n	\r\n				<td><h4>Discount Coupon:</h4></td>\r\n			    <td>\r\n                    <md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\" md-no-float>\r\n                        <input name=\"coupon\" type=\"text\" ng-model=\"checkout.options.coupon\" ng-change=\"checkout.checkCoupon(checkout.options.coupon, checkout.Cart.cart.getTotalPrice())\"\r\n                        placeholder=\"Discount Coupon\"\r\n                        autocomplete=\"off\"/>\r\n                        <span class=\"text-muted text-success\" ng-if=\"checkout.coupon.code\">{{checkout.coupon.type}} of {{checkout.coupon.amount | currency : checkout.Settings.currency.symbol}} was applied to the cart</span>\r\n                        <small class=\"errorMessage\" ng-show=\"orderForm.coupon.$dirty && orderForm.coupon.$invalid\"> Discount coupon was expired.\r\n                        </small>\r\n                        <div ng-messages=\"orderForm.coupon.$error\" ng-if=\"orderForm.coupon.$dirty\">\r\n                            <div ng-message=\"required\">Coupon is expired</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <input type=\"hidden\" ng-model=\"checkout.cartValid\" validate-cart>\r\n                    <div class=\"hidden\">{{orderForm.$valid = !(vm.shipping.best[\'charge\'] === undefined)}}</div>\r\n                </td>\r\n			</tr>\r\n		</tbody>\r\n\r\n	</table>\r\n      <br/>\r\n\r\n    <div layout=\"column\" layout-align=\"center stretch\">\r\n        <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" \r\n        ng-disabled=\"orderForm.number.$invalid || orderForm.exp_month.$invalid || orderForm.exp_year.$invalid || orderForm.cvc.$invalid || checkout.loading || checkout.Cart.cart.getTotalPrice()===0 || !checkout.addr\" aria-label=\"Place Order\" layout=\"row\" layout-align=\"center center\"> \r\n            <div flex></div>\r\n            <ng-md-icon icon=\"local_shipping\" ng-hide=\"checkout.loading\"></ng-md-icon>\r\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"checkout.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n            <span>&nbsp;Place Order</span>\r\n            <div flex></div>\r\n      </md-button></br>\r\n      <a href=\'https://www.expeditedssl.com/simple-ssl-scanner/scan?target_domain=advertising.mediabox.co.zw\' target=\'_blank\' rel=\'nofollow\'><img src=\'https://www.expeditedssl.com/ssl-secure-badge.png\'  alt=\'Expedited SSL Scanner\'></a>\r\n    </div>\r\n\r\n	</form>\r\n</div>\r\n</md-card-content>\r\n</md-card>\r\n\r\n<div layout=\"column\" layout-gt-sm=\"row\">\r\n<!--Address box-->\r\n\r\n<md-card ng-show=\"checkout.showAddressForm\">\r\n    <md-card-content>\r\n	<p ng-show=\"checkout.error\" class=\"md-warn\">{{checkout.error.message}}</p>\r\n	<h3>SELECTED ADDRESS</h3>\r\n	<form name=\"form\" ng-submit=\"checkout.saveAddress(checkout.addr);new.address=false;checkout.addr = checkout.address[0];\" novalidate layout=\"column\">\r\n		<md-input-container md-is-error=\"(form.name.$error.required || form.name.$error.name) && form.name.$dirty\">\r\n			<label>Company Name</label>\r\n			<input name=\"name\" type=\"name\" ng-model=\"checkout.addr.name\" required autofocus>\r\n			<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\r\n				<div ng-message=\"required\">Company Name is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.addr.$error.required || form.addr.$error.addr) && form.addr.$dirty\">\r\n			<label>Company Address</label>\r\n			<input name=\"address\" type=\"address\" ng-model=\"checkout.addr.address\" required/>\r\n			<div ng-messages=\"form.address.$error\" ng-if=\"form.address.$dirty\">\r\n				<div ng-message=\"required\">Address is required</div>\r\n			</div>\r\n		</md-input-container>\r\n        \r\n        <md-input-container md-is-error=\"(form.city.$error.required || form.city.$error.city) && form.city.$dirty\">\r\n			<label>City</label>\r\n			<input name=\"city\" type=\"city\" ng-model=\"checkout.addr.city\" required/>\r\n			<div ng-messages=\"form.city.$error\" ng-if=\"form.city.$dirty\">\r\n				<div ng-message=\"required\">City is required</div>\r\n			</div>\r\n		</md-input-container>    \r\n         \r\n        <md-input-container md-is-error=\"(form.phone.$error.required || form.phone.$error.phone) && form.phone.$dirty\">\r\n			<label>Phone</label>\r\n			<input name=\"phone\" type=\"phone\" ng-model=\"checkout.addr.phone\" required/>\r\n			<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\r\n				<div ng-message=\"required\">Phone number is required</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n        <!--<md-input-container md-is-error=\"(form.country.$error.required || form.country.$error.country) && form.country.$dirty\">\r\n            <label>Country</label>\r\n            <input ng-model=\"checkout.addr.country\" ng-value=\"checkout.Settings.country.name\" disabled/>\r\n            <div ng-messages=\"form.country.$error\" ng-if=\"form.country.$dirty\">\r\n				<div ng-message=\"required\">Country required</div>\r\n			</div>\r\n		</md-input-container>-->\r\n        <div layout=\"row\">\r\n            <md-button type=\"submit\" class=\"md-raised md-primary\" \r\n            ng-disabled=\"!form.$valid || checkout.loadingAddress\" aria-label=\"Save Address\" layout=\"row\">\r\n                <ng-md-icon icon=\"save\" ng-hide=\"checkout.loadingAddress\"></ng-md-icon>\r\n                <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"checkout.loadingAddress\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n                Save <span hide show-gt-xs>as Primary Address</span>\r\n            </md-button>\r\n            <md-button ng-click=\"checkout.cancelForm(checkout.addr);new.address=false;\">Cancel</md-button>\r\n	   </div>\r\n       </form>\r\n    </md-card-content>\r\n</md-card>\r\n<div layout=\"column\">\r\n<md-button class=\"md-raised\" ng-click=\"checkout.addressForm(true);checkout.new.address=true; checkout.addr={country: checkout.Settings.country.name}\">\r\n    <ng-md-icon icon=\"location_on\"></ng-md-icon>Add New Address\r\n</md-button>\r\n\r\n<md-card  \r\nng-repeat=\"a in checkout.address\" \r\nng-click=\"new.address=false; checkout.addressForm(true);checkout.switchAddress(a)\" \r\nstyle=\"min-width:300px\" \r\nng-class=\"{\'selected\':(a==checkout.addr)} \"\r\n>\r\n      <md-card-header layout=\"row\" layout-align=\"space-between start\">\r\n          <md-card-header-text>\r\n            <h3>BILLING ADDRESS - {{$index+1}}</h3>\r\n          </md-card-header-text>\r\n          	<div>\r\n				  <md-button ng-click=\"checkout.delete(a)\" aria-label=\"Delete Address\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>  \r\n			</div>				  \r\n      </md-card-header>\r\n	  \r\n      <md-card-content layout=\"column\" layout-align=\"start start\">\r\n			{{a.name}}<br/>\r\n            {{a.address}}<br/>\r\n            {{a.city}}<br/>\r\n            {{a.state}}<br/>\r\n            {{a.zip}}<br/>\r\n            {{a.phone}}\r\n      </md-card-content>\r\n      \r\n</md-card>\r\n</div><!--Address box-->\r\n</div>\r\n\r\n\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/contact/contact.html","<crud-table api=\'contact\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/country/country.html","<crud-table api=\'country\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/coupon/coupon.html","<crud-table api=\'coupon\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/customer/customer.html","<crud-table api=\'customer\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/dashboard/dashboard.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<div layout-align=\"start center\" layout=\"column\">\r\n<h2 class=\"md-title\">Examples</h2>\r\n</div>\r\n<md-grid-list class=\"things-list\" md-cols-xs =\"1\" md-cols-sm=\"2\" md-cols-md=\"3\" md-cols-lg=\"5\" md-cols-gt-lg=\"5\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\r\n  <md-grid-tile ng-repeat=\"p in dashboard.pages\" ng-class=\"dashboard.getColor($index)\" class=\"md-whiteframe-z2\" ui-sref=\"{{p.url}}\">\r\n    <ng-md-icon icon=\"{{p.icon}}\" size=\"128\"></ng-md-icon>\r\n    <md-grid-tile-footer><h3>{{p.text}}</h3></md-grid-tile-footer>\r\n  </md-grid-tile>\r\n</md-grid-list>\r\n<footer></footer>\r\n");
$templateCache.put("app/documentation/back.html","<doc-menu></doc-menu>\r\n\r\n<md-content flex layout-padding layout=\"row\">\r\n<section class=\"doc\" flex>\r\n\r\n<h3>::::::::::::::: Store Administration ::::::::::::::</h3>\r\n<blockquote>\r\n  <em>Only administrators, managers can access the pages</em>\r\n</blockquote>\r\n    <div class=\"post\">\r\n    <h2 id=\"add-brands\">Manage Brands</h2>\r\n    <p>Administrators can add, edit, delete, filter brands of their store from this view</p>\r\n    <div class=\"image\"><a><img src=\"/assets/img/brands.jpg\" class=\"img-responsive\" alt=\"Manage Brands\"></a></div>\r\n    <hr>\r\n    </div>\r\n\r\n    <div class=\"post\">\r\n    <h2 id=\"add-categories\">Manage Categories</h2>\r\n    <p>\r\n      <ul>\r\n        <li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li>\r\n        <li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li>\r\n        <div class=\"image\"><a><img src=\"/assets/img/navbar.jpg\" class=\"img-responsive\" alt=\"Manage Categories\"></a></div>\r\n\r\n        <li>This view provides facility to add both parent and child categories, edit them, re-arrange category association according to their requirement.</li>\r\n      </ul>\r\n     </p>\r\n    <div class=\"image\"><a><img src=\"/assets/img/categories.jpg\" class=\"img-responsive\" alt=\"Manage Categories\"></a></div>\r\n    <hr>\r\n    </div>\r\n\r\n    <div class=\"post\">\r\n    <h2 id=\"add-products\">Manage Products</h2>\r\n    <p><em>This is the main page for administrators to manage products at store.</em>\r\n    <ul>\r\n      <li>The right sidebar lists all the available products with a search box to filter the list.</li>\r\n      <li>Clicking on a product at the product list will populate the details of the product at the left sidebar</li>\r\n      <li>The left sidebar has option to change product name, details, brand, category</li>\r\n      <li>This left sidebar also contains a module to manage product variants which has facility for Size, MRP, Price and Image for that perticular variant</li>\r\n    </ul>\r\n    </p>\r\n    <div class=\"image\"><a><img src=\"/assets/img/products.jpg\" class=\"img-responsive\" alt=\"Add Products\"></a></div>\r\n    <hr>\r\n    </div>\r\n\r\n    <div class=\"post\">\r\n    <h2 id=\"manage-users\">Manage Users (Customers)</h2>\r\n    <p>Using this view administrators can add, remove or edit users of their shopping web application</p>\r\n    <div class=\"image\"><a><img src=\"/assets/img/customers.jpg\" class=\"img-responsive\" alt=\"Manage customers\"></a></div>\r\n    <hr>\r\n    </div>\r\n</section>\r\n</md-content>");
$templateCache.put("app/documentation/features.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<div class=\"col-md-12\">\r\n    <ul class=\"breadcrumb\">\r\n        <li><a href=\"/\">Home</a>\r\n        </li>\r\n        <li>FAQ\'s</li>\r\n       \r\n    </ul>\r\n</div>\r\n<div class=\"row\">\r\n<div class=\"col-md-2\">\r\n\r\n</div>\r\n\r\n<div class=\"col-md-8\">\r\n\r\n\r\n    <div class=\"box\" id=\"contact\">\r\n\r\n<h1>Top 10 Questions </h1>\r\n\r\n<h3>How do I get started </h3>\r\n<p>What should I do after I register? Once you sign up as an advertiser, you can immediately start building and launching campaigns with any publisher  that is set up in the system.</p>\r\n\r\n\r\n<h3>How does MediaBox make money?</h3>\r\n <p>MediaBox charges advertisers a 20%, 10%, or 5% service fee depending on the total amount theyve billed with a publisher. We also offer publishers optional premium memberships and subscription services.</p>\r\n <h3>How do payments work ,how are payments and invoices handled? </h3> \r\n <p>Using our automated billing system, Once you review and approve your campaigns and both parties have engaged Mediabox charges your payment method or per transaction  and releases funds to the publisher  .</p>\r\n\r\n<h3>What methods of payment do you accept and what do they cost? </h3>\r\n<p>You can pay using MasterCard, Visa,PayNow, or PayPal. Any payments are subject to a 2.75% processing fee. Or 3 % for PayNow</p>\r\n\r\n<h3>How do i benefit from using Mediabox</h3>\r\n<p>We provide you with the technology that will help you in managing your advertising content\r\nThis automation translates to significant benefits for both advertisers and publishers in the form of<br>\r\nREDUCTION IN OPERATION COSTS<br>\r\nPublishers can free their sales teams to spend more time establishing high value relationships, whilst advertisers can access a market of known publishers, known price and known availability, further more to advertise with any publisher on Mediabox you need not have to visit their offices as everything is done through the platform from creative submission to payments </p>\r\n\r\n<h3>How do I find the best publisher for my advertising campaign?</h3>\r\n<p>Our Smart filters will also help you discover the best publishers that match your budget and or campaign objectives. Advertisers can filter publishers based on location (region and country),budget ,target audience(income levels ,age group ,gender) ,reach ,platform (newspapers ,magazines fliers ,newsletters ,websites ,social media ,billboards ,inflight ,in-store ,cinema ).</p>\r\n\r\n<h3>Does Mediabox screen publishers  </h3>\r\n<p>At MediaBox we strive to provide a fair and trusted marketplace. This includes working diligently to verify that publishers are representing themselves correctly. We begin by authenticating the email address of registered users. We then provide many forms of screening for publishers  to use. Ultimately however, it is your responsibility to do the final screening to help ensure that the Publisher is a great match for you and your advertising requirements. We do have features in place to help facilitate the screening process, from MediaBox Messages  for real-time communication with publishers to custom screening questions to assist you in identifying the best matches.</p>\r\n\r\n<h3>What publishers can I find on Mediabox</h3>\r\n<p>Anywhere you can put your product  or service to be seen by your potential customers from traditional publishers (Magazines ,Newspapers ,Billboards ) to unorthodox methods such as  Vehicle in Transit ,Air advertising .Big or small   you will find best ways to advertise your products or services on Mediabox</p>\r\n\r\n\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<!-- /.col-md-8 -->\r\n<div class=\"col-md-2\">\r\n\r\n</div>\r\n</div>\r\n<footer></footer>\r\n\r\n");
$templateCache.put("app/documentation/index.html","<style type=\"text/css\">\r\n\r\n\r\n/*\r\nBootstrap Image Carousel Slider with Animate.css\r\nCode snippet by Hashif (http://hashif.com) for Bootsnipp.com\r\nImage credits: unsplash.com\r\n*/\r\n@import url(https://fonts.googleapis.com/css?family=Quicksand:400,700);\r\n\r\nbody {\r\n    font-family: \'Quicksand\', sans-serif;\r\n    font-weight:700;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/********************************/\r\n/*          Main CSS     */\r\n/********************************/\r\n\r\n\r\n#first-slider .main-container {\r\n  padding: 0;\r\n}\r\n\r\n\r\n#first-slider .slide1 h3, #first-slider .slide2 h3, #first-slider .slide3 h3, #first-slider .slide4 h3{\r\n    color: #fff;\r\n    font-size: 30px;\r\n      text-transform: uppercase;\r\n      font-weight:700;\r\n}\r\n\r\n#first-slider .slide1 h4,#first-slider .slide2 h4,#first-slider .slide3 h4,#first-slider .slide4 h4{\r\n    color: #fff;\r\n    font-size: 30px;\r\n      text-transform: uppercase;\r\n      font-weight:700;\r\n}\r\n#first-slider .slide1 .text-left ,#first-slider .slide3 .text-left{\r\n    padding-left: 40px;\r\n}\r\n\r\n\r\n#first-slider .carousel-indicators {\r\n  bottom: 0;\r\n}\r\n#first-slider .carousel-control.right,\r\n#first-slider .carousel-control.left {\r\n  background-image: none;\r\n}\r\n#first-slider .carousel .item {\r\n  min-height: 425px; \r\n  height: 100%;\r\n  width:100%;\r\n}\r\n\r\n.carousel-inner .item .container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n\r\n#first-slider h3{\r\n  animation-delay: 1s;\r\n}\r\n#first-slider h4 {\r\n  animation-delay: 2s;\r\n}\r\n#first-slider h2 {\r\n  animation-delay: 3s;\r\n}\r\n\r\n\r\n#first-slider .carousel-control {\r\n    width: 6%;\r\n        text-shadow: none;\r\n}\r\n\r\n\r\n#first-slider h1 {\r\n  text-align: center;  \r\n  margin-bottom: 30px;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n}\r\n\r\n#first-slider .p {\r\n  padding-top: 125px;\r\n  text-align: center;\r\n}\r\n\r\n#first-slider .p a {\r\n  text-decoration: underline;\r\n}\r\n#first-slider .carousel-indicators li {\r\n    width: 14px;\r\n    height: 14px;\r\n    background-color: rgba(255,255,255,.4);\r\n  border:none;\r\n}\r\n#first-slider .carousel-indicators .active{\r\n    width: 16px;\r\n    height: 16px;\r\n    background-color: #fff;\r\n  border:none;\r\n}\r\n\r\n\r\n.carousel-fade .carousel-inner .item {\r\n  -webkit-transition-property: opacity;\r\n  transition-property: opacity;\r\n}\r\n.carousel-fade .carousel-inner .item,\r\n.carousel-fade .carousel-inner .active.left,\r\n.carousel-fade .carousel-inner .active.right {\r\n  opacity: 0;\r\n}\r\n.carousel-fade .carousel-inner .active,\r\n.carousel-fade .carousel-inner .next.left,\r\n.carousel-fade .carousel-inner .prev.right {\r\n  opacity: 1;\r\n}\r\n.carousel-fade .carousel-inner .next,\r\n.carousel-fade .carousel-inner .prev,\r\n.carousel-fade .carousel-inner .active.left,\r\n.carousel-fade .carousel-inner .active.right {\r\n  left: 0;\r\n  -webkit-transform: translate3d(0, 0, 0);\r\n          transform: translate3d(0, 0, 0);\r\n}\r\n.carousel-fade .carousel-control {\r\n  z-index: 2;\r\n}\r\n\r\n.carousel-control .fa-angle-right, .carousel-control .fa-angle-left {\r\n    position: absolute;\r\n    top: 50%;\r\n    z-index: 5;\r\n    display: inline-block;\r\n}\r\n.carousel-control .fa-angle-left{\r\n    left: 50%;\r\n    width: 38px;\r\n    height: 38px;\r\n    margin-top: -15px;\r\n    font-size: 30px;\r\n    color: #fff;\r\n    border: 3px solid #ffffff;\r\n    -webkit-border-radius: 23px;\r\n    -moz-border-radius: 23px;\r\n    border-radius: 53px;\r\n}\r\n.carousel-control .fa-angle-right{\r\n    right: 50%;\r\n    width: 38px;\r\n    height: 38px;\r\n    margin-top: -15px;\r\n    font-size: 30px;\r\n    color: #fff;\r\n    border: 3px solid #ffffff;\r\n    -webkit-border-radius: 23px;\r\n    -moz-border-radius: 23px;\r\n    border-radius: 53px;\r\n}\r\n.carousel-control {\r\n    opacity: 1;\r\n    filter: alpha(opacity=100);\r\n}\r\n\r\n\r\n/********************************/\r\n/*       Slides backgrounds     */\r\n/********************************/\r\n#first-slider .slide1 {\r\n    background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\r\n      background-size: cover;\r\n    background-repeat: no-repeat;\r\n}\r\n#first-slider .slide2 {\r\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\r\n      background-size: cover;\r\n    background-repeat: no-repeat;\r\n}\r\n#first-slider .slide3 {\r\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\r\n      background-size: cover;\r\n    background-repeat: no-repeat;\r\n}\r\n#first-slider .slide4 {\r\n  background-image: url(\"../../assets/images/main-slider-3-b11ce1eff5.jpg\");\r\n      background-size: cover;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n\r\n\r\n\r\n/********************************/\r\n/*          Media Queries       */\r\n/********************************/\r\n@media screen and (min-width: 980px){\r\n      \r\n}\r\n@media screen and (max-width: 640px){\r\n      \r\n}\r\n\r\n    \r\n    body,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n    font-family: \"Lato\",\"Helvetica Neue\",Helvetica,Arial,sans-serif;\r\n    font-weight: 500;\r\n}\r\n.material-icons.md-18 { font-size: 18px; }\r\n.material-icons.md-24 { font-size: 24px; }\r\n.material-icons.md-36 { font-size: 36px; }\r\n.material-icons.md-48 { font-size: 48px; }\r\n.material-icons.md-96 { font-size: 96px; }\r\n.material-icons.orange600 {color: #d9534f}\r\n\r\n.topnav {\r\n    font-size: 14px; \r\n}\r\n\r\n.lead {\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n}\r\n\r\n.intro-header {\r\n    padding-top: 50px; /* If you\'re making other pages, make sure there is 50px of padding to make sure the navbar doesn\'t overlap content! */\r\n    padding-bottom: 50px;\r\n    text-align: center;\r\n    color: #f8f8f8;\r\n   \r\n    background-size: cover;\r\n}\r\n\r\n.intro-message {\r\n    position: relative;\r\n    color: #333333;\r\n    padding-bottom: 5%;\r\n}\r\n\r\n.intro-message > h1 {\r\n    margin: 0;\r\n   \r\n    font-size: 5em;\r\n}\r\n\r\n.intro-divider {\r\n    width: 400px;\r\n    border-top: 1px solid #f8f8f8;\r\n    border-bottom: 1px solid rgba(0,0,0,0.2);\r\n}\r\n\r\n.intro-message > h3 {\r\n\r\n}\r\n\r\n@media(max-width:767px) {\r\n    .intro-message {\r\n        padding-bottom: 15%;\r\n    }\r\n\r\n    .intro-message > h1 {\r\n        font-size: 3em;\r\n    }\r\n\r\n    ul.intro-social-buttons > li {\r\n        display: block;\r\n        margin-bottom: 20px;\r\n        padding: 0;\r\n    }\r\n\r\n    ul.intro-social-buttons > li:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    .intro-divider {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.network-name {\r\n    text-transform: uppercase;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    letter-spacing: 2px;\r\n}\r\n\r\n.content-section-a {\r\n    padding: 50px 0;\r\n    background-color: #f8f8f8;\r\n}\r\n\r\n.content-section-b {\r\n    padding: 50px 0;\r\n    border-top: 1px solid #e7e7e7;\r\n    border-bottom: 1px solid #e7e7e7;\r\n}\r\n\r\n.section-heading {\r\n    margin-bottom: 30px;\r\n    font-weight: 700;\r\n}\r\n\r\n.section-heading-spacer {\r\n    float: left;\r\n    width: 200px;\r\n    border-top: 3px solid #e7e7e7;\r\n}\r\n\r\n.banner {\r\n    padding: 100px 0;\r\n    color: #f8f8f8;\r\n    background: url(../img/banner-bg.jpg) no-repeat center center;\r\n    background-size: cover;\r\n}\r\n\r\n.banner h2 {\r\n    margin: 0;\r\n    text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\r\n    font-size: 3em;\r\n}\r\n\r\n.banner ul {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.banner-social-buttons {\r\n    float: right;\r\n    margin-top: 0;\r\n}\r\n\r\n@media(max-width:1199px) {\r\n    ul.banner-social-buttons {\r\n        float: left;\r\n        margin-top: 15px;\r\n    }\r\n}\r\n\r\n@media(max-width:767px) {\r\n    .banner h2 {\r\n        margin: 0;\r\n        text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\r\n        font-size: 3em;\r\n    }\r\n\r\n    ul.banner-social-buttons > li {\r\n        display: block;\r\n        margin-bottom: 20px;\r\n        padding: 0;\r\n    }\r\n\r\n    ul.banner-social-buttons > li:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n}\r\n\r\n\r\nfooter {\r\n    padding: 50px 0;\r\n    background-color: #f8f8f8;\r\n}\r\n\r\np.copyright {\r\n    margin: 15px 0 0;\r\n} \r\n\r\n.white-bg {\r\n    background-color: #fff;\r\n}\r\n\r\n\r\n\r\n@media (max-width: 767px)\r\n.space-80, .space-100 {\r\n    padding-bottom: 50px;\r\n    padding-top: 50px;\r\n}\r\n@media (max-width: 767px)\r\n.video-bg {\r\n    min-height: auto;\r\n}\r\n\r\n@media (max-width: 1200px)\r\n.theme-container {\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n}\r\n\r\n@media (max-width: 479px)\r\n.section-title, .caption-text .extra-bold-font {\r\n    font-size: 16px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.mask-overlay {\r\n    background: rgba(0, 0, 0, 0.5) none repeat scroll 0 0;\r\n}\r\n.mask-overlay, .theme-color-mask, .white-mask {\r\n    bottom: 0;\r\n    left: 0;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 0;\r\n}\r\n.theme-container {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.white-color {\r\n    color: #fff;\r\n}\r\n.title-wrap {\r\n    display: inline-block;\r\n    width: 100%;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n}\r\n\r\n.relative-div {\r\n    position: relative;\r\n}\r\n.slider-title-1 {\r\n    text-transform: uppercase;\r\n    font-size: 14px;\r\n}\r\nsecondery-font, .section-title, .title-1, .title-2, .title-3, .article-title > h2, .comment-reply-title, .comment-author .fn, .comment-metadata a, .theme-btn, .theme-btn-1, .theme-btn-2, .form-submit > input[type=\"submit\"], .primary-navbar li a, .form-control, .countdown-amount, .countdown-period {\r\n    font-family: \'Montserrat\', sans-serif;\r\n}\r\nwhite-color .section-title, .white-color p {\r\n    color: #fff;\r\n}\r\n\r\n.space-top-15 {\r\n    padding-top: 15px;\r\n}\r\n.section-title {\r\n    font-size: 54px;\r\n}\r\n.section-title, .title-1, .title-2, .title-3, .article-title > h2, .comment-reply-title, .comment-author .fn, .comment-metadata a {\r\n    color: #3c3d41;\r\n    text-transform: capitalize;\r\n    letter-spacing: 1px;\r\n}\r\n.devices-wrap .fa {\r\n    font-size: 35px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n\r\n.space-50 {\r\n    padding-bottom: 50px;\r\n    padding-top: 50px;\r\n}\r\n.block-inline {\r\n    display: inline-block;\r\n    width: 100%;\r\n    vertical-align: middle;\r\n}\r\n\r\n.theme-color, .hover-color:hover, .hover-color:focus, .navigation .dropdown-menu li a:hover, .navigation .dropdown-menu li a:focus, .breadcrumb-menubar > li > a:hover, .breadcrumb-menubar > li > a:focus {\r\n    color: #d80018;\r\n}\r\n\r\n.slider-form .submit-btn, .video-icon.fa, .price-box:hover .theme-btn-2, .price-box:focus .theme-btn-2, .title-devider .line-1, .theme-btn-1:hover, .theme-btn-1:focus, .widget-wrap.tag-cloud a:hover, .widget-wrap.tag-cloud a:focus, .pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover, .pagination > li > a:focus, .pagination > li > a:hover, .pagination > li > span:focus, .pagination > li > span:hover, .post-next:hover, .post-previous:hover, .post-next:focus, .post-previous:focus, .form-submit > input[type=\"submit\"] {\r\n    border-color: #d80018;\r\n}\r\ntrong { font-weight: 500; }\r\n\r\na, a:hover, a:focus {\r\n    color: #e89a3e;\r\n    text-decoration: none;\r\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\r\n}\r\n\r\nh1 {\r\n    margin-top: 10px;\r\n    font-size: 38px;\r\n    font-weight: 100;\r\n    color: #555;\r\n    line-height: 50px;\r\n}\r\n\r\n.medium-paragraph {\r\n    font-size: 18px;\r\n    line-height: 32px;\r\n}\r\n\r\n::-moz-selection { background: #e89a3e; color: #fff; text-shadow: none; }\r\n::selection { background: #e89a3e; color: #fff; text-shadow: none; }\r\n\r\n\r\n/***** Modal *****/\r\n\r\n.modal-backdrop.in {\r\n    filter: alpha(opacity=7);\r\n    opacity: 0.7;\r\n}\r\n\r\n.modal-content {\r\n    background: none;\r\n    border: 0;\r\n    -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\r\n    -moz-box-shadow: none; -webkit-box-shadow: none; box-shadow: none;\r\n}\r\n\r\n.modal-body {\r\n    padding: 0 25px 25px 25px;\r\n}\r\n\r\n.modal-header {\r\n    padding: 25px 25px 15px 25px;\r\n    text-align: right;\r\n}\r\n\r\n.modal-header, .modal-footer {\r\n    border: 0;\r\n}\r\n\r\n.modal-header .close {\r\n    float: none;\r\n    margin: 0;\r\n    font-size: 36px;\r\n    color: #fff;\r\n    font-weight: 300;\r\n    text-shadow: none;\r\n    opacity: 1;\r\n}\r\n\r\n\r\n/***** Top content *****/\r\n\r\n.top-content {\r\n    height: 100%;\r\n    min-height: 100%;\r\n    padding: 120px 0;\r\n}\r\n\r\n.top-content .text,\r\n.top-content .text h1 {\r\n    color: #fff;\r\n}\r\n\r\n.top-content .text p {\r\n    margin: 20px 0 10px 0;\r\n    opacity: 0.8;\r\n}\r\n\r\n.top-content .text p a {\r\n    color: #fff;\r\n    border-bottom: 1px dotted #fff;\r\n}\r\n\r\n.top-content .text p a:hover,\r\n.top-content .text p a:focus {\r\n    color: #fff;\r\n    border: 0;\r\n}\r\n\r\n.video-link {\r\n    padding-top: 70px;\r\n}\r\n\r\n.video-link a:hover,\r\n.video-link a:focus {\r\n    outline: 0;\r\n}\r\n\r\na .video-link-text {\r\n    color: #fff;\r\n    opacity: 0.8;\r\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\r\n}\r\n\r\na:hover .video-link-text, \r\na:focus .video-link-text {\r\n    outline: 0;\r\n    color: #fff;\r\n    opacity: 1;\r\n    border-bottom: 1px dotted #fff;\r\n}\r\n\r\na .video-link-icon {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-right: 10px;\r\n    background: #e89a3e;\r\n    color: #fff;\r\n    line-height: 50px;\r\n    -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;\r\n    -o-transition: all .3s; -moz-transition: all .3s; -webkit-transition: all .3s; -ms-transition: all .3s; transition: all .3s;\r\n}\r\na .video-link-icon:after {\r\n    position: absolute;\r\n    content: \"\";\r\n    top: -6px;\r\n    left: -6px;\r\n    width: 66px;\r\n    height: 66px;\r\n    background: #444;\r\n    background: rgba(0, 0, 0, 0.1);\r\n    z-index: -99;\r\n    -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;\r\n}\r\n\r\na:hover .video-link-icon,\r\na:focus .video-link-icon {\r\n    outline: 0;\r\n    background: #fff;\r\n    color: #e89a3e;\r\n}\r\n\r\n.social {\r\n    padding-top: 100px;\r\n    font-size: 28px;\r\n    line-height: 38px;\r\n}\r\n\r\n.social a {\r\n    margin: 5px 15px;\r\n    color: #fff;\r\n    color: rgba(255, 255, 255, 0.6);\r\n    vertical-align: middle;\r\n}\r\n\r\n.social a:hover,\r\n.social a:focus {\r\n    outline: 0;\r\n    color: #fff;\r\n}\r\n\r\n.social .divider-2 {\r\n    display: inline-block;\r\n    width: 1px;\r\n    height: 14px;\r\n    background: #fff;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n/***** Media Queries *****/\r\n\r\n@media (min-width: 992px) and (max-width: 1199px) { }\r\n\r\n@media (min-width: 768px) and (max-width: 991px) {\r\n    \r\n    .top-content { padding-top: 60px; }\r\n    .social { padding-top: 80px; }\r\n\r\n}\r\n\r\n@media (max-width: 767px) {\r\n\r\n    .top-content { padding: 20px 0 20px 0; }\r\n    .video-link { padding-top: 40px; }\r\n    .social { padding-top: 50px; }\r\n\r\n}\r\n\r\n@media (max-width: 415px) {\r\n    \r\n    h1 { font-size: 32px; }\r\n    \r\n    .social .divider-2 { display: none; }\r\n\r\n}\r\n</style>\r\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\">\r\n<link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/animate.css/3.5.1/animate.min.css\">\r\n<div id=\"top\">\r\n    <div class=\"container\">\r\n        <div class=\"col-md-1\">\r\n            <a  href=\"index.html\">\r\n                <img src=\"/assets/img/logo.png\"  class=\"hidden-xs\">\r\n                <img src=\"/assets/img/logo.png\"  class=\"visible-xs\"><span class=\"sr-only\"></span>\r\n            </a>\r\n        </div>\r\n         <div class=\"col-md-9 offer\" style=\"padding-top:  15px\" data-animate=\"fadeInDown\">\r\n            \r\n             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We provide advertising inventory ? <a href=\"/\">Get it here .</a>\r\n        </div>\r\n        <div class=\"col-md-2 pull-right\" data-animate=\"fadeInDown\">\r\n           <top-menu ng-if=\"!search.show\"></top-menu> \r\n        </div>\r\n    </div>\r\n   </div>\r\n\r\n<div id=\"first-slider\">\r\n    <div id=\"carousel-example-generic\" class=\"carousel slide carousel-fade\">\r\n        <!-- Indicators -->\r\n        <ol class=\"carousel-indicators\">\r\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"0\" class=\"active\"></li>\r\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"1\"></li>\r\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"2\"></li>\r\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"3\"></li>\r\n        </ol>\r\n        <!-- Wrapper for slides -->\r\n        <div class=\"carousel-inner\" role=\"listbox\">\r\n            <!-- Item 1 -->\r\n            <div class=\"item active slide1\">\r\n                <div class=\"row\"><div class=\"container\">\r\n                    <div class=\"col-md-3 text-right\">\r\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/pfmmo6qj1/window_domain.png\">\r\n                    </div>\r\n                    <div class=\"col-md-9 text-left\">\r\n                        <h3  style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Africa\'s first Online Market Place For Advertising Media!</h3>\r\n                        <h4 data-animation=\"animated bounceInUp\"> </h4>             \r\n                     </div>\r\n                </div></div>\r\n             </div> \r\n            <!-- Item 2 -->\r\n            <div class=\"item slide2\">\r\n                <div class=\"row\"><div class=\"container\">\r\n                    <div class=\"col-md-7 text-left\">\r\n                        <h3 style=\"color:#333333;\"data-animation=\"animated bounceInDown\"> Our Smart filters and Recommendations help you choose the right media option for you.</h3>\r\n                        \r\n                     </div>\r\n                    <div class=\"col-md-5 text-right\">\r\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/sp11uneml/rack_server_unlock.png\">\r\n                    </div>\r\n                </div></div>\r\n            </div>\r\n            <!-- Item 3 -->\r\n            <div class=\"item slide3\">\r\n                <div class=\"row\"><div class=\"container\">\r\n                    <div class=\"col-md-7 text-left\">\r\n                        <h3 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Access Global Publishers</h3>\r\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInUp\">Do not be limited by border boundaries advertise anywhere , any time with MediaBox</h4>\r\n                     </div>\r\n                    <div class=\"col-md-5 text-right\">\r\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/eq8xvxeq5/globe_network.png\">\r\n                    </div>     \r\n                </div></div>\r\n            </div>\r\n            <!-- Item 4 -->\r\n            <div class=\"item slide4\">\r\n                <div class=\"row\"><div class=\"container\">\r\n                    <div class=\"col-md-7 text-left\">\r\n                        <h3 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Plan</h3>\r\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInUp\">Build </h4>\r\n                        <h4 style=\"color:#333333;\" data-animation=\"animated bounceInDown\">Launch advertising campaigns anywhere ,anytime with Mediabox</h4>\r\n                     </div>\r\n                    <div class=\"col-md-5 text-right\">\r\n                        <img style=\"max-width: 200px;\"  data-animation=\"animated zoomInLeft\" src=\"http://s20.postimg.org/9vf8xngel/internet_speed.png\">\r\n                    </div>  \r\n                </div></div>\r\n            </div>\r\n            <!-- End Item 4 -->\r\n    \r\n        </div>\r\n        <!-- End Wrapper for slides-->\r\n        <a class=\"left carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"prev\">\r\n            <i class=\"fa fa-angle-left\"></i><span class=\"sr-only\">Previous</span>\r\n        </a>\r\n        <a class=\"right carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"next\">\r\n            <i class=\"fa fa-angle-right\"></i><span class=\"sr-only\">Next</span>\r\n        </a>\r\n    </div>\r\n</div>\r\n\r\n<!--emd slider-->\r\n<div class=\"intro-header\">\r\n        <div class=\"container\">\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                    <div class=\"intro-message\">\r\n                        <h2 class=\"section-heading\">We provide advertising inventory across Africa</h2>\r\n                        <h4 class=\"section-heading\">by bringing together Advertisers and Publishers</h4>\r\n                        <hr class=\"intro-divider\">\r\n                        <ul class=\"list-inline intro-social-buttons\">\r\n                            <li>\r\n                                <a href=\"/\" class=\"btn btn-danger btn-lg\"></i> <span class=\"network-name\">Start Using Mediabox -></span></a>\r\n                            </li>\r\n                            \r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <!-- /.container -->\r\n\r\n    </div>\r\n    <!-- /.intro-header -->\r\n\r\n    <!-- Page Content -->\r\n\r\n    <a  name=\"services\"></a>\r\n    <div class=\"content-section-a\">\r\n\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-12 col-sm-12\">\r\n                    <hr class=\"section-heading-spacer\">\r\n                    <div class=\"clearfix\"></div>\r\n                    <h2 class=\"section-heading\"><center>How Advertisers Benefit :</center></h2>\r\n                   <div class=\"row lead\">\r\n                                <div class=\"hidden-xs space-top-15\"></div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                    <ng-md-icon icon=\"swap_horiz\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                    <h3 class=\"title-2\">BUY DIRECTLY !</h3>\r\n                                    <p>Discover and buy advertising space through our platform .Orders and creative are submitted directly to publisher</p>\r\n                                </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                    <ng-md-icon icon=\"language\" class=\"material-icons md-48 orange600\" style=\"font-size: 48px\"></ng-md-icon>\r\n                                      <h3 class=\"title-2\">ACCESS GLOBAL PUBLISHERS!</h3>\r\n                                       <p> Do not be limited by border boundaries  advertise  anywhere , any time with MediaBox </p>\r\n                                 </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                       <ng-md-icon icon=\"alarm\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                    <h3 class=\"title-2\">SAVE TIME!</h3>\r\n                              <p>Plan ,negotiate and buy advertising space  at the comfort of your home or workplace ,No Back and Fourth</p>\r\n                                </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                      <ng-md-icon icon=\"thump_up\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                     <h3 class=\"title-2\">RECOMMENDATIONS </h3>\r\n                <p>Help you to plan by giving you appropriate publishers that match your campaign objectives or budget</p>\r\n                                </div>\r\n                            </div>\r\n                </div>\r\n               \r\n            </div>\r\n\r\n        </div>\r\n        <!-- /.container -->\r\n\r\n    </div>\r\n    <!-- /.content-section-a -->\r\n\r\n    <div class=\"content-section-b\">\r\n\r\n        <div class=\"container\">\r\n\r\n            <div class=\"row\">\r\n                <div >\r\n                    <hr class=\"section-heading-spacer\">\r\n                    <div class=\"clearfix\"></div>\r\n                    <h2 class=\"section-heading\"><center>How Publishers benefit</center></h2>\r\n                     <div class=\"row lead \">\r\n                                <div class=\"hidden-xs space-top-15\"></div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                <ng-md-icon icon=\"monetization_on\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                  \r\n                                         <h3 class=\"title-2\">INCREASE REVENUE !</h3>\r\n                                         <p>Access competition from around the globe</p>\r\n                                </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n        \r\n                                    <ng-md-icon icon=\"language\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                    <h3 class=\"title-2\">ACCESS GLOBAL DEMAND!</h3>\r\n                                    <p>Do not be limited by border boundaries  advertise  anywhere any time with MediaBox </p>\r\n                                 </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                      <ng-md-icon icon=\"alarm\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                <h3 class=\"title-2\">SAVE TIME!</h3>\r\n                                <p>Approve proposals and recieve orders directly from  advertisers through the platform\r\n</p>\r\n                                </div>\r\n                                <div class=\"devices-wrap col-sm-6 space-top-30\">\r\n                                        <ng-md-icon icon=\"trending_up\" class=\"material-icons md-48 orange600\"></ng-md-icon>\r\n                                        <h3 class=\"title-2\">EASY TRACKING AND REPORTING </h3>\r\n                                        <p>Analyzing sales and consumer data</p>\r\n                                </div>\r\n                            </div>\r\n                </div>\r\n             \r\n            </div>\r\n\r\n        </div>\r\n        <!-- /.container -->\r\n\r\n    </div>\r\n    <!-- /.content-section-b -->\r\n\r\n\r\n    \r\n    <div class=\"content-section-a\">\r\n\r\n               <section class=\"lead\" style=\"margin:20px\">\r\n                \r\n                    <div class=\"title-wrap space-bottom-45\">\r\n                        <h3 class=\"section-heading\">We provide you with the technology that will help you in managing your advertising content </h3><p>This automation translates to significant benefits for both advertisers and publishers in the form of </p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\r\n                            <div class=\"feature-wrap space-bottom-30\">\r\n                                <i  style=\"font-size: 35px;\" class=\"fa fa-dollar theme-color\"></i>\r\n                    <h3 class=\"title-2\">REDUCTION IN OPERATION COSTS </h3>\r\n                    <p>Publishers can free their sales teams to spend more time establishing high value relationships, whilst buyers can access a market of known publishers, known price and known availability, </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\r\n                            <div class=\"feature-wrap space-bottom-30\">\r\n                                <i  style=\"font-size: 35px;\"  class=\"fa fa-calculator theme-color\"></i>\r\n                    <h3 class=\"title-2\">MATERIAL EFFICIENCY GAINS</h3>\r\n                    <p>Be a master of effiency with the all in one platform for all your advertising content.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-4 col-xs-12 text-center feature-list\">\r\n                            <div class=\"feature-wrap space-bottom-30\">\r\n                                 <i   style=\"font-size: 35px;\"  class=\"fa fa-clock-o theme-color\"></i>\r\n                    <h3 class=\"title-2\">CONVINIENCE!</h3>\r\n                    <p>The only platform that manages the full advertising cycle, end to end.Media trading at the click of a button.</p>\r\n                            </div>\r\n                        </div>                    \r\n                    </div>\r\n                    \r\n                \r\n            </section>\r\n     \r\n        <!-- /.container -->\r\n\r\n    </div>\r\n    <!-- /.content-section-a -->\r\n\r\n     </div>\r\n\r\n      <!--how it works video-->\r\n\r\n         <section id=\"work-video\" class=\"white-bg\">\r\n                 <div class=\"top-content\">\r\n            <div class=\"container\">\r\n            \r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-8 col-sm-offset-2 text\">\r\n                        <h1><center>Mediabox How It Works</center></h1>\r\n                        <p>\r\n                            Find out how  Mediabox can help you discover where to put your ad \r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-9 col-sm-offset-4 video-link medium-paragraph\">\r\n                        <a href=\"#\" class=\"launch-modal\" data-modal-id=\"modal-video\">\r\n                            <span class=\"video-link-icon\"><i class=\"fa fa-play\"></i></span>\r\n                            <span class=\"video-link-text\">Launch  video</span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12 social\">\r\n                        <a href=\"http://www.facebook.com/mediaboxzw\"><i class=\"fa fa-facebook\"></i></a> <span class=\"divider-2\"></span>\r\n                        <a href=\"http://twitter.com/mediaboxzw\"><i class=\"fa fa-twitter\"></i></a> <span class=\"divider-2\"></span>\r\n                        <a href=\"https://plus.google.com/mediaboxzw\"><i class=\"fa fa-google-plus\"></i></a>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n            </section>\r\n    <!-- /.banner -->\r\n\r\n    <!-- Popup: Video Player -->\r\n           <!-- MODAL: How it works -->\r\n        <div class=\"modal fade\" id=\"modal-video\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-video-label\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  \r\n                    <div class=\"modal-body\">\r\n                        <div class=\"modal-video\">\r\n                            <div class=\"embed-responsive embed-responsive-16by9\">\r\n                                <iframe class=\"embed-responsive-item\" src=\"https://player.vimeo.com/video/196655771?title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;color=e89a3e\" \r\n                                            webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n\r\n<script type=\"text/javascript\">\r\n    \r\n\r\njQuery(document).ready(function() {\r\n    \r\n    /*\r\n        Background slideshow\r\n    */\r\n    $(\'.top-content\').backstretch(\"../../assets/images/1-e9b0d78203.jpg\");\r\n    \r\n    /*\r\n        Modals\r\n    */\r\n    $(\'.launch-modal\').on(\'click\', function(e){\r\n        e.preventDefault();\r\n        $( \'#\' + $(this).data(\'modal-id\') ).modal();\r\n    });\r\n    \r\n});\r\n\r\n\r\n(function( $ ) {\r\n\r\n    //Function to animate slider captions \r\n    function doAnimations( elems ) {\r\n        //Cache the animationend event in a variable\r\n        var animEndEv = \'webkitAnimationEnd animationend\';\r\n        \r\n        elems.each(function () {\r\n            var $this = $(this),\r\n                $animationType = $this.data(\'animation\');\r\n            $this.addClass($animationType).one(animEndEv, function () {\r\n                $this.removeClass($animationType);\r\n            });\r\n        });\r\n    }\r\n    \r\n    //Variables on page load \r\n    var $myCarousel = $(\'#carousel-example-generic\'),\r\n        $firstAnimatingElems = $myCarousel.find(\'.item:first\').find(\"[data-animation ^= \'animated\']\");\r\n        \r\n    //Initialize carousel \r\n    $myCarousel.carousel();\r\n    \r\n    //Animate captions in first slide on page load \r\n    doAnimations($firstAnimatingElems);\r\n    \r\n    //Pause carousel  \r\n    $myCarousel.carousel(\'pause\');\r\n    \r\n    \r\n    //Other slides to be animated on carousel slide event \r\n    $myCarousel.on(\'slide.bs.carousel\', function (e) {\r\n        var $animatingElems = $(e.relatedTarget).find(\"[data-animation ^= \'animated\']\");\r\n        doAnimations($animatingElems);\r\n    });  \r\n    $(\'#carousel-example-generic\').carousel({\r\n        interval:3000,\r\n        pause: \"false\"\r\n    });\r\n    \r\n})(jQuery); \r\n\r\n\r\n</script>\r\n\r\n\r\n    ");
$templateCache.put("app/documentation/install.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<div class=\"col-md-12\">\r\n    <ul class=\"breadcrumb\">\r\n        <li><a href=\"/\">Home</a>\r\n        </li>\r\n        <li>Legal</li>\r\n        <li>Terms</li>\r\n    </ul>\r\n</div>\r\n<div class=\"row\">\r\n<div class=\"col-md-2\">\r\n\r\n</div>\r\n\r\n<div class=\"col-md-8\">\r\n\r\n\r\n    <div class=\"box\" id=\"contact\">\r\n        <h1>Terms and Conditions</h1>\r\n        Effective Date: August 1, 2016</br>\r\nIn order to maintain a safe and trusted marketplace www.mediabox.co.zw and all related and affiliated websites (the Site) and to avoid use of the Site for unauthorized or unintended purposes, we require you and all other users of the Site (each, a User) to agree to and comply with these Terms of Use (the Terms). These Terms set forth the acceptable and prohibited uses of our Site .By accessing the Site or using any of the Site Services after the effective date, you agree to these Terms. You are also independently responsible for complying with all applicable laws related to your use of the Site or the Site Services whether or not covered by the Terms.</br>\r\n1. PROHIBITED SITE USE</br>\r\nThe uses described in these Terms are prohibited regardless of where on the Site they occur. For example, the activities are prohibited in campaign creation, proposals, in app messages, communications with customer service or disputes, the community forum, and Advertiser or Publisher feedback.</br>\r\n1.1 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USES</br>\r\nYou may not use, or encourage, promote, facilitate, or instructor induce others to use, the Site or Services for any activities that violate any law, statute, ordinance or regulation; for any other illegal, fraudulent, harmful, or offensive purpose; or to transmit, store, trade ,display, distribute or otherwise make available content or material that is illegal, harmful, or offensive.\r\nExamples of prohibited uses of the Site or Site Services include:</br>\r\n Seeking, offering, trading ,or approving illegal, obscene, or pornographic material (i) that would violate the intellectual property rights, including copyrights, of another person, entity, service, product, or website or \r\n(ii) that would involve the creation , review,  editing  and trading of pornographic, erotic, obscene, or sexually explicit material;</br>\r\n Posting content/material that is offensive, defamatory, profane, vulgar, obscene, threatening, discriminatory, illegal, pornographic, obscene or sexually explicit in nature;</br>\r\n Seeking, offering, or approving any material that would violate MediaBoxs Terms of Service or the terms of service of another website or any other contractual obligations;\r\n Seeking, offering, or  approving any material that violate the academic policies of any educational institution;</br>\r\n Fraudulently billing or attempting to fraudulently bill any advertiser, including by (i) falsifying or manipulating or attempting to falsify or manipulate the reach /statistics (ii) reporting, or otherwise billing advertisers for campaigns that was not actually worked</br>\r\n Expressing a preference in a media or proposal or otherwise unlawfully discriminating on the basis of race, religion, color, national origin, ancestry, physical or mental disability, medical condition, genetic information, marital status, sex, gender, gender identity, gender expression, age, sexual orientation, military/veteran status or any basis protected by applicable law;</br>\r\n Posting or exchanging material that is harassing towards another person or violates the rights of a third party;</br>\r\n Posting identifying information concerning another person;</br>\r\n Making or demanding bribes;</br>\r\n Making or demanding payments without the intention of providing or receiving services in exchange for the payment; and</br>\r\n Spamming other Users.</br>\r\n\r\n1.2 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USES</br>\r\nMediaBox makes the Site and Services available for advertisers and publishers to find one another, enter into service relationships, make and receive payments, receive and perform Media Trading Services. Users are expected to use the Site and Services for their intended purposes and Users may not use the Site and Services in contravention of their intended purposes. The following are examples of prohibited use of the Site:\r\n Posting the same product/site  multiple times so that more than one version remains active at a given time ;</br>\r\n Duplicating or sharing accounts;</br>\r\n Selling, trading, or giving an account to another person without  MediaBoxs consent;</br>\r\n Soliciting or processing payment outside of MediaBox in violation of the Terms of Service;</br>\r\n Listing products or services that are outside or beyond the scope of the MediaBox marketplace; </br>\r\n1.3 USING THE SITE TO POST FALSE OR MISLEADING CONTENT</br>\r\nAll profiles, proposals, and other content/material posted to the Site must be truthful and not misleading. Here are examples of uses that are prohibited:</br>\r\n Misrepresenting a Publishers reach or statistics , or information;</br>\r\n Allowing another person to use your account, which is misleading to other Users;</br>\r\n Falsely stating or implying a relationship with MediaBox or with another company with whom you do not have a relationship;</br>\r\n Falsely stating or implying a relationship with another User, including a user  continuing to use a MediaBoxs profile or information after the user no longer works with the Agency/Advertiser/Publisher; </br>\r\n2. ENFORCEMENT</br>\r\nWe reserve the right, but do not assume the obligation, to investigate any violation of these Terms. We may investigate violations and may remove, disable access to, or modify any content that violates these Terms.\r\nWe may report any activity that we suspect violates any law or regulation to appropriate law enforcement officials, regulators, or other appropriate third parties. Our reporting may include disclosing appropriate User information. We also may cooperate with appropriate law enforcement agencies, regulators, or other appropriate third parties to help with the investigation and prosecution of illegal conduct by providing network and systems information related to alleged violations of these Terms.</br>\r\n3. REPORTING AND CORRECTING VIOLATIONS</br>\r\nIf you become aware of any violation of these Terms, you must immediately report it to Customer Service. You agree to assist us with any investigation we undertake and to take any remedial steps we require in order to correct a violation of these Terms.</br>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n</div>\r\n\r\n<!-- /.col-md-8 -->\r\n<div class=\"col-md-2\">\r\n\r\n</div>\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/documentation/use.html","<doc-menu></doc-menu>\r\n\r\n<div flex layout-padding layout=\"row\">\r\n<section class=\"doc\" flex>\r\n\r\n<h2>Home</h2>\r\n<hr>\r\nThis is the main page of our AngularJS e-commerce store.\r\nHere we get \r\n<ul>\r\n  <li>- List of all products</li>\r\n  <li>- Filter Products: based on `Price (Price Slider), Brand, Features (Color, Type, Fit, Fabric, Neck)`</li>\r\n  <li>- Sort: Based on Price and Name</li>\r\n</ul> \r\n\r\n\r\n\r\nEach product contains a add to cart button.\r\nOnce the product is added into the cart, we get the increase or decrease cart quantity option\r\n\r\nBy clicking each product we arrive at the product detail page\r\n\r\n<h2>Product Details</h2>\r\nThis page presents the complete details of the product\r\n<ol>\r\n  <li>Product name</li>\r\n  <li>Description</li>\r\n  <li>Price, MRP</li>\r\n  <li>Product Image (Including additional images)</li>\r\n  <li>Brand</li>\r\n  <li>Category</li>\r\n  <li>Quantity in cart</li>\r\n  <li>Size</li>\r\n  <li>Features</li>\r\n</ol>\r\n\r\n<h2>Search</h2>\r\n<hr>\r\n\r\nThe top navigation bar of the website has a search box which autocompletes with product info while user starts typing. By clicking a suggested item in the search bar, the page navigates to the product details page of the selected product.\r\n\r\n<h2>Category</h2>\r\n<hr>\r\n\r\nGet the current category name with all products under it<br/>\r\nThis page also has all the filter and sort options.\r\n\r\n    <h2 id=\"shopping-cart\">Shopping Cart</h2>\r\n    <p>This store is featured with a shopping cart facility which is easy to use and fast.\r\n    <ul>\r\n      <li>Get quick summary of what is there in Cart</li>\r\n      <li>Modify the cart quantity</li>\r\n      <li>Checkout using Paypal</li>\r\n    </ul>\r\n    </p>\r\n    <!--<div class=\"image\"><a><img src=\"/assets/images/cart.png\" class=\"img-responsive\" alt=\"Shopping Cart\"></a></div>-->\r\n    <hr>\r\n\r\n<h2>Login / Signup</h2>\r\n<hr>\r\n <p>Features like Signup / SignIn / Change Password / Logout is integrated into this application already with high level of security, so that you no longer need to be worry about implementing all those features into the application</p>\r\n\r\nA user need <b>not</b> have to navigate to a separate page to login or signup. It comes as a popup which is a huge ui improvement.\r\n\r\nThis login popup has a advantage of poping out for any route when a guest user tries to access a restricted page\r\n\r\nBoth the login and signup page has the option for connect using facebook, twitter, google as well\r\n\r\n<h2>Checkout</h2>\r\n<hr>\r\n<ul>\r\n  <li>The checkout page Displays the Order Amount + Shipping Charge</li>\r\n  <li>This also has an option discount coupons which is applied if valid.</li>\r\n  <li>Here the user can choose the Payment options (Cash On Delivery, Paypal)</li>\r\n  <li>This page automatically choose the best available Shipping Options based on the total order weight and the shipper availability.</li>\r\n  <li>While checkout the user can choose from any saved address.</li>\r\n</ul> \r\n\r\n\r\n\r\n\r\n\r\n<h2>Address Management</h2>\r\n<hr>\r\nThe address management is integrated into the checkout page to make the checkout experience single view and easy.\r\nHere the user can store and manage different addresses.\r\n\r\n<h2>Order Management</h2>\r\n<hr>\r\nThe user has the facility to view the order history.\r\nAdministrators can change order status + payment status\r\n<p><em>Users:</em> All the orders placed by the logged in user is available in this view. </p>\r\n      <p><em>Administrators:</em>  This view presents all orders placed by users with the option to change order status and shipping</p>\r\n    <!--<div class=\"image\"><a><img src=\"/assets/images/order.png\" class=\"img-responsive\" alt=\"Orders History\"></a></div>-->\r\n    <hr>\r\n\r\n<h2>User Management</h2>\r\n<hr>\r\n<em>Users: </em><br/>\r\nChange Password<br/>\r\nForgot Password<br/>\r\n<em>Administrators: </em>User role management \r\n\r\n<h2>Media Library</h2>\r\n<hr>\r\n<ul>\r\n  <li>Now the shop has a new media library where the shop managers can upload any image that is to be used in the shopping application</li>\r\n  <li>Clicking on each image displays the details about it as well as an option to delete it</li>\r\n</ul> \r\n\r\n\r\n<h2>Products (Role: Managers, Administrators)</h2>\r\n<hr>\r\nProduct details can be added, modified and deleted using this page. \r\nEach product can be associated into a single Brand, Category \r\nA product can have\r\n<ul>\r\n  <li>+ Multiple features</li>\r\n  <li>+ Multiple key features</li>\r\n  <li>+ Multiple product images</li>\r\n</ul>\r\n<ul>\r\n  <li>The list contains all the available products with a search box to filter the list.</li>\r\n  <li>Clicking on a product at the product list will populate the details of the product at the right sidebar</li>\r\n  <li>The right sidebar has option to change product name, details, brand, category</li>\r\n  <li>This sidebar also contains a module to manage product images</li>\r\n</ul>\r\n\r\n<h2>Manage Brands</h2>\r\n<p>Administrators can add, edit, delete, filter brands of their store from this view</p>\r\n\r\n<h2>Manage Categories</h2>\r\n<ul>\r\n  <li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li>\r\n  <li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li>\r\n  <li>This view provides facility to add both parent and child categories, re-arrange category association according to their requirement.</li>\r\n</ul>\r\n    <!--<div class=\"image\"><a><img src=\"/assets/images/store.png\" class=\"img-responsive\" alt=\"Store Front\"></a></div>-->\r\n    <hr>\r\n    </div>\r\n</section>\r\n</div>");
$templateCache.put("app/feature/feature.html","<crud-table api=\'feature\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/main/campaign.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n\r\n<md-content class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n      <section ng-if=\"campaign.campaigns.length >0\" class=\"header\" layout=\"column\" layout-align=\"center center\">\r\n        <h1>Your Campaigns</h1>\r\n        <md-input-container flex>\r\n          <label>Search Campaigns</label>\r\n          <input name=\"search\" type=\"text\" ng-model=\"campaign.search\" md-autofocus/>\r\n        </md-input-container>\r\n      </section>\r\n\r\n      <!--When No Campaigns-->\r\n      <section ng-if=\"campaign.Campaigns.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\r\n        <h1>You have not run anything yet .Start using Mediabox to launch advertising campaigns anywhere .No back and forth</h1>\r\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\r\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Start Now\r\n\r\n        </md-buton>\r\n      </section>\r\n\r\n  <section layout=\"column\" class=\"campaigns\">\r\n  <md-card ng-repeat=\"o in campaign.campaigns | orderBy : \'campaignDate\' : \'reverse\' | filter:order.search\">\r\n      <md-card-header>\r\n          <md-card-header-text>\r\n            <span class=\"\">Campaign PLACED</span>\r\n            <span class=\"md-subhead\">{{o.created_at | amCalendar}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">TOTAL</span>\r\n            <span class=\"md-subhead\">{{o.amount.total | localPrice}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text hide show-gt-sm>\r\n            <span class=\"\">SHIP TO</span>\r\n            <span class=\"md-subhead\">{{o.address.recipient_name}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">Campaign # </span>\r\n            <span class=\"md-subhead\">{{o.campaignNo}}</span>\r\n          </md-card-header-text>\r\n      </md-card-header>\r\n      <md-card-content layout=\"column\" layout-gt-sm=\"row\" layout-align=\"space-between\">\r\n          <md-list flex=40>\r\n            <div layout=\"row\" ng-repeat=\"i in o.items\">\r\n              <md-card-avatar>\r\n                  <img ng-src=\"{{i.url}}\" err-SRC=\"/assets/images/150x150-02a04eb9d5.png\" alt=\"{{i.name}}\" width=\"100px\" hide show-gt-xs>\r\n              </md-card-avatar>\r\n              <div class=\"content\">\r\n              <a >{{i.name}}</a><br/><br/>\r\n              <b>Amount:&nbsp;&nbsp;</b> {{i.price | currency}} * {{i.quantity}}&nbsp;=&nbsp;{{i.price * i.quantity | currency}}\r\n              \r\n              <br/>\r\n                <cart-buttons variant=\"i\" product=\"o\">\r\n              </div>\r\n            </div>\r\n          </md-list>\r\n            <md-list class=\"campaign-address\" flex=30>\r\n                  <ng-md-icon icon=\"local_shipping\"></ng-md-icon>&nbsp;Status\r\n                  <hr>\r\n                \r\n                  <p class=\"md-subhead\">Campaign Status: &nbsp;{{o.status}}</p>\r\n                  \r\n           </md-list>\r\n      </md-card-content>\r\n  </md-card>\r\n  </section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/main/filter-menu.html","<md-sidenav ng-cloak md-is-locked-open=\"$mdMedia(\'gt-md\')\" md-component-id=\"filtermenu\" class=\"filter-menu\">\r\n    <md-content>\r\n        <form>\r\n\r\n        <div layout-align=\"space-between top\" class=\"md-whiteframe-z1\" layout-padding>\r\n            <md-card >\r\n                <h4>Price Range</h4>\r\n            <md-content>\r\n                <rzslider \r\n                rz-slider-model=\"main.priceSlider.min\"\r\n                rz-slider-high=\"main.priceSlider.max\" \r\n                rz-slider-options=\"main.priceSlider.options\"\r\n                ></rzslider>\r\n\r\n            </md-content>\r\n            </md-card>\r\n            \r\n            <md-card style=\"height: 500px;\" ng-if=\"main.brands\">\r\n                <md-input-container>\r\n                    <input ng-model=\"filterBrands\" placeholder=\"Categories\"/>\r\n                </md-input-container>\r\n                <md-content style=\"height: 500px\">\r\n                <div   ng-repeat=\"item in main.brands | filter:filterBrands\">\r\n                <md-checkbox\r\n                    ng-checked=\"main.exists(item, main.fl.brands)\"\r\n                    ng-click=\"main.toggle(item, main.fl.brands)\">\r\n                    {{ item.name }}\r\n                </md-checkbox>\r\n                </div>\r\n                </md-content>\r\n            </md-card>\r\n                <md-card ng-repeat=\"k in main.features | filter:filterFeatures\">\r\n                    <md-input-container>\r\n                        <input ng-model=\"filterFeatures\" placeholder=\"{{k.key}}\"/>\r\n                    </md-input-container>\r\n            <md-content>\r\n                <input ng-init=\"main.fl.features[k.key] = []\" type=\"hidden\"/>\r\n                <div flex=\"50\" ng-repeat=\"f in k.v | filter:filterFeatures\">\r\n                    <md-checkbox\r\n                    ng-checked=\"main.exists(f, main.fl.features[k.key])\"\r\n                    ng-click=\"main.toggle(f, main.fl.features[k.key])\">\r\n                        {{ f }}\r\n                    </md-checkbox>\r\n                </div>\r\n            </md-content>\r\n            </md-card>\r\n        </div>\r\n        </form>\r\n    </md-content>\r\n  \r\n    \r\n    \r\n</md-sidenav>\r\n");
$templateCache.put("app/main/main.html","<navbar leftmenu=\"true\"></navbar>\r\n<div class=\"container\">\r\n    <div layout=\"row\">\r\n        <div ng-include=\"\'app/main/filter-menu.html\'\"></div>\r\n        <!--<md-content flex layout=\"column\">-->\r\n        <section layout=\"column\" layout-fill flex>\r\n            <div class=\"sort-products md-whiteframe-z2\">\r\n                <div class=\"products-list-meta\" ng-if=\"main.$mdMedia(\'gt-md\')\" flex>\r\n                    Showing {{main.products.items.length}} products of {{main.products.count}} in: {{vm.Settings.currency.symbol}}<strong>{{main.priceSlider.min}}</strong> &nbsp;-&nbsp; {{vm.Settings.currency.symbol}}<strong>{{main.priceSlider.max}}</strong>\r\n                </div>\r\n                <section layout=\"row\" layout-align=\"center center\">\r\n                    <div>Sort: &nbsp;</div>\r\n                    <md-button class=\"groupX left\" ng-click=\"main.sortNow(\'variants.price\')\">{{main.Settings.currency.symbol}}\r\n                        <ng-md-icon icon=\"arrow_downward\" style=\"fill:#888\"></ng-md-icon>\r\n                    </md-button>\r\n                    <md-button class=\"groupX middle\" ng-click=\"main.sortNow(\'-variants.price\')\">{{main.Settings.currency.symbol}}\r\n                        <ng-md-icon icon=\"arrow_upwards\" style=\"fill:#888\"></ng-md-icon>\r\n                    </md-button>\r\n                    <md-button class=\"groupX middle\" ng-click=\"main.sortNow(\'name\')\">A-Z\r\n                        <ng-md-icon icon=\"arrow_downward\" style=\"fill:#888\"></ng-md-icon>\r\n                    </md-button>\r\n                    <md-button class=\"groupX right\" ng-click=\"main.sortNow(\'-name\')\">Z-A\r\n                        <ng-md-icon icon=\"arrow_upwards\" style=\"fill:#888\"></ng-md-icon>\r\n                    </md-button>\r\n                </section>\r\n            </div>\r\n            <div layout=\"row\">\r\n                <div ng-repeat=\"b in main.fl.brands\">\r\n                    <md-button class=\"md-raised\" ng-click=\"main.removeBrand(b);\" aria-label=\"Remove Brand Filter\">\r\n                        <ng-md-icon icon=\"verified_user\" md-menu-align-target></ng-md-icon>\r\n                        {{b.name}}\r\n                        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n                    </md-button>\r\n                </div>\r\n                <md-button ng-show=\"main.fl.categories.length > 0\" class=\"md-raised\">\r\n                    <ng-md-icon icon=\"subject\" md-menu-align-target></ng-md-icon>\r\n                    {{main.fl.categories[0].name}}\r\n                </md-button>\r\n                <div ng-repeat=\"(k,features) in main.fl.features\">\r\n                    <md-button ng-show=\"features\" ng-repeat=\"f in features\" class=\"md-raised\" ng-click=\"main.removeFeatures(features,k,f);\" aria-label=\"Remove {{f}} Filter\">\r\n                        <ng-md-icon icon=\"format_shapes\" md-menu-align-target></ng-md-icon>\r\n                        {{f}}\r\n                        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </div>\r\n            <div style=\"margin-top: 10px\" infinite-scroll=\'main.scroll()\' infinite-scroll-disabled=\'main.products.busy\' infinite-scroll-distance=\'1\' layout-align=\"center center\">\r\n                <div dw-loading=\"products\" dw-loading-options=\"{text: \'\'}\"></div>\r\n                <div layout=\"row\" layout-wrap layout-align=\"start start\">\r\n                    <div class=\"col-md-4 col-sm-6\" ng-repeat=\"product in main.products.items\" layout=\"column\" layout-align=\"space-between center\">\r\n                        <div class=\"product\" style=\"height: 300px\">\r\n                            <div class=\"img-logo\" style=\"margin: 15px\">\r\n                                <center>\r\n                                    <img ng-click=\"main.gotoDetail(product)\" width=\"150px\" height=\"90px\" data-ng-src=\"data:image/png;base64,{{product.logo[0].base64}}\" data-err-src=\"images/png/avatar.png\" />\r\n                                </center>\r\n                            </div>\r\n                            <div class=\"text text-center\" style=\"margin-top: 10px;height: 250px\">\r\n                                <a href=\"\" ng-click=\"main.gotoDetail(product)\"><h5>{{product.name}}</h5></a>\r\n                                <br><a ng-href=\"http://{{product.website}}\"> {{product.website}}</a>\r\n                                <div style=\"margin: 7px\">\r\n                                    <ol class=\"rounded-list\">\r\n                                        <li ng-repeat=\"f in product.stats |limitTo :3\"><a href=\"#\">{{f.key}} : {{f.val}}</a></li>\r\n                                    </ol>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <!-- /.text -->\r\n                        </div>\r\n                        <!-- /.product -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <!--</md-content>-->\r\n    </div>\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/main/review-form.html","<div layout=\"row\">\r\n<md-content flex layout=\"column\">\r\n<section layout=\"column\" flex layout-align=\"center center\">\r\n  <h1>Rating & Review</h1>\r\n  <form name=\"form\" ng-submit=\"save(review)\" novalidate>\r\n  <section class=\"section\" layout=\"column\">\r\n    <rating rating=\"review.rating\"></rating><br/>\r\n    <md-input-container md-is-error=\"(form.message.$error.required || form.message.$error.message) && form.message.$dirty\">\r\n      <label>Message</label>\r\n      <textarea name=\"review\" ng-model=\"review.message\" md-autofocus></textarea>\r\n      <div ng-messages=\"form.message.$error\" ng-if=\"form.message.$dirty\">\r\n        <div ng-message=\"required\">Message required</div>\r\n      </div>\r\n    </md-input-container>\r\n  </section>\r\n  <div class=\"md-dialog-actions\" layout=\"column\" layout-align=\"center center\">\r\n    <div class=\"error\" layout-align=\"center center\">{{message}}</div>\r\n    <div layout=\"row\">\r\n      <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || vm.loading\" aria-label=\"Save Review\">\r\n        <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"save\"></ng-md-icon>Save</span>\r\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\r\n      </md-button>\r\n      <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"cancel()\" aria-label=\"Cancel Review\"> Cancel </md-button>\r\n    </div>\r\n  </div>\r\n  </form>\r\n</section>\r\n</md-content>\r\n</div>");
$templateCache.put("app/main/single-product.html","<navbar leftmenu=\"true\"></navbar>\r\n<div class=\"container\">\r\n    <div layout=\"row\" class=\"wrapper\">\r\n        <div ng-include=\"\'components/navbar/cart.html\'\"></div>\r\n        <md-content flex layout=\"column\">\r\n            <section layout=\"column\" layout-fill flex>\r\n                <div class=\"sort-products md-whiteframe-z2\" style=\"margin-left:10px;margin-right:10px\">\r\n                    <div>\r\n                        Home > <a ui-sref=\"/\">Publishers</a> > {{single.product.name}}\r\n                    </div>\r\n                </div>\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\" style=\"margin-top: 10px\">\r\n                            <div class=\"row\" id=\"productMain\">\r\n                                <div class=\"col-sm-3\">\r\n                                    <div id=\"mainImage\" style=\"height: 60%\" class=\"md-whiteframe-z1\">\r\n                                        <img data-ng-src=\"data:image/png;base64,{{single.product.logo[0].base64}}\" err-SRC=\"/assets/images/486x325-fed2667202.png\" alt=\"{{single.product.name}}\" class=\"img-responsive\">\r\n                                    </div>\r\n                                    <md-divider md-inset></md-divider>\r\n                                    <div layout=\"column\">\r\n                                        <div class=\"total-rating\" layout=\"column\" layout-align=\"space-between\">\r\n                                            <p>\r\n                                                <div layout=\"row\" layout-align=\"start start\" class=\"total\"> {{single.rating.avg}}\r\n                                                    <ng-md-icon icon=\"star\"></ng-md-icon>\r\n                                                </div>\r\n                                                <div>{{single.rating.count}} Ratings</div>\r\n                                                <div>{{single.reviewCount}} Reviews</div>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div class=\"rating-signal\">\r\n                                            <div layout=\"row\" layout-align=\"start center\">5&nbsp;\r\n                                                <ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon>\r\n                                                <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r5*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r5}}</div>\r\n                                            <div layout=\"row\" layout-align=\"start center\">4&nbsp;\r\n                                                <ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon>\r\n                                                <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r4*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r4}}</div>\r\n                                            <div layout=\"row\" layout-align=\"start center\">3&nbsp;\r\n                                                <ng-md-icon icon=\"star\" style=\"fill:rgb(33,150,243)\"></ng-md-icon>\r\n                                                <md-progress-linear md-mode=\"determinate\" value=\"{{single.rating.r3*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r3}}</div>\r\n                                            <div layout=\"row\" layout-align=\"start center\">2&nbsp;\r\n                                                <ng-md-icon icon=\"star\" style=\"fill:rgb(255,87,34)\"></ng-md-icon>\r\n                                                <md-progress-linear class=\"md-warn\" md-mode=\"determinate\" value=\"{{single.rating.r2*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r2}}</div>\r\n                                            <div layout=\"row\" layout-align=\"start center\">1&nbsp;\r\n                                                <ng-md-icon icon=\"star\" style=\"fill:rgb(255,87,34)\"></ng-md-icon>\r\n                                                <md-progress-linear class=\"md-warn\" md-mode=\"determinate\" value=\"{{single.rating.r1*100 / single.rating.count}}\"></md-progress-linear>{{single.rating.r1}}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <md-button ng-click=\"single.reviewForm()\" class=\"md-raised md-primary\">Review this publisher</md-button>\r\n                                </div>\r\n                                <div class=\"col-sm-9\">\r\n                                    <div class=\"box\" style=\"margin-right: 20px\">\r\n                                        <h3 class=\"text-center\">{{single.product.name}} </h3>\r\n                                        <div ng-if=\"single.product.info\">                                                                                     \r\n                                                <p>{{single.product.info }}</p>                                        \r\n                                            <div ng-if=\"single.product.stats.length>0\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-xs-6 col-md-2\" ng-repeat=\"f in single.product.stats\">\r\n                                                        <div class=\"mythumbnail\">\r\n                                                            <p>\r\n                                                                <h6><center>{{f.key}}</h6></center>\r\n                                                                <div>\r\n                                                                    <center>\r\n                                                                        <h4>{{f.val}}</h4></center>\r\n                                                                </div>\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"row\">\r\n                                                <md-list layout-gt-xs=\"row\" layout=\"column\">\r\n                                                    <md-list-item class=\"md-2-line\" ng-if=\"single.product.brand\">\r\n                                                        <ng-md-icon icon=\"verified_user\" md-menu-align-target></ng-md-icon>\r\n                                                        <div class=\"md-list-item-text\">\r\n                                                            <h3> Category </h3>\r\n                                                            <p> {{single.product.brand.name}} </p>\r\n                                                        </div>\r\n                                                    </md-list-item>\r\n                                                    <md-list-item class=\"md-2-line\" ng-if=\"single.product.category\">\r\n                                                        <ng-md-icon icon=\"subject\" md-menu-align-target></ng-md-icon>\r\n                                                        <div class=\"md-list-item-text\">\r\n                                                            <h3> Platform </h3>\r\n                                                            <p> {{single.product.category.name}} </p>\r\n                                                        </div>\r\n                                                    </md-list-item>\r\n                                                    <md-list-item class=\"md-2-line\" ng-if=\"single.product.category\">\r\n                                                        <div class=\"md-list-item-text\">\r\n                                                            <h3>Contact Details</h3>\r\n                                                            <p style=\"margin: 10px\"><span> <ng-md-icon icon=\"email\" md-menu-align-target></ng-md-icon>{{single.product.email}}<br></span></p>\r\n                                                            <p style=\"margin: 10px\"><span> <ng-md-icon icon=\"perm_phone_msg\" md-menu-align-target></ng-md-icon></span>{{single.product.phone}}</p>\r\n                                                        </div>\r\n                                                    </md-list-item>\r\n                                                </md-list>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-xs-6 col-md-3\" ng-repeat=\"f in single.product.keyFeatures\">\r\n                                                <div>\r\n                                                    <p>\r\n                                                        <h6><center>{{f.key}}</h6></center>\r\n                                                        <div>\r\n                                                            <center>\r\n                                                                <h6 style=\"color:red\">{{f.val}}</h6></center>\r\n                                                        </div>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <p class=\"goToDescription\">\r\n                                            <a href=\"#div\" class=\"scroll-to\">Scroll to publisher media options</a>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"box\" id=\"div\" style=\"margin-right: 20px\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-5\">\r\n                                        <summary ng-if=\"single.name\"><small>{{single.name}} &nbsp; {{single.formart}} &nbsp;{{single.size}}</small></summary>\r\n                                        <div style=\"height: 450px\">\r\n                                            <img ng-hide=\"single.image\" src=\"/assets/img/preview.png\" width=\"100%\">\r\n                                            <div ng-if=\"single.image\" style=\"height: 330px\">\r\n                                                <div ng-if=\"single.image.progress &amp;&amp; single.image.progress &lt; 1\" class=\"progress\">\r\n                                                    <div role=\"progressbar\" aria-valuenow=\"{{single.image.progress}}\" aria-valuemin=\"0\" aria-valuemax=\"1\" style=\"width:{{single.image.progress*100}}%\" class=\"progress-bar\"></div>\r\n                                                </div>\r\n                                                <ng-pintura ngp-src=\"single.image.src\" ngp-scaling=\"single.image.scaling\" ngp-position=\"single.image.position\" ngp-max-scaling=\"single.image.maxScaling\" ngp-scale-step=\"single.image.scaleStep\" ngp-move-step=\"single.image.moveStep\" ngp-mw-scale-step=\"single.image.mwScaleStep\" ngp-fit-inview=\"single.image.fitInview\" ngp-fit-onload=\"single.image.fitOnload\" ngp-progress=\"single.image.progress\">\r\n                                                    <div id=\"zoomslider\">\r\n                                                        <input ng-model=\"slider.value\" ng-change=\"sliderChange()\" orient=\"vertical\" type=\"range\" min=\"0\" max=\"100\" step=\"1\" ng-disabled=\"scalingDisabled\">\r\n                                                    </div>\r\n                                                    <button id=\"zoomin\" ng-click=\"zoomIn()\" ng-disabled=\"scalingDisabled\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-plus\"></span></button>\r\n                                                    <button id=\"zoomout\" ng-click=\"zoomOut()\" ng-disabled=\"scalingDisabled\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-minus\"></span></button>\r\n                                                    <button id=\"moveup\" ng-click=\"moveUp()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-up\"></span></button>\r\n                                                    <button id=\"movedown\" ng-click=\"moveDown()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-down\"></span></button>\r\n                                                    <button id=\"moveleft\" ng-click=\"moveLeft()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-left\"></span></button>\r\n                                                    <button id=\"moveright\" ng-click=\"moveRight()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-chevron-right\"></span></button>\r\n                                                    <button id=\"movecenter\" ng-click=\"fitInView()\" class=\"btn btn-default\"><span class=\"glyphicon glyphicon-screenshot\"></span></button>\r\n                                                </ng-pintura>\r\n                                            </div>\r\n                                            <br>\r\n                                            <p>\r\n                                                <br/>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-7\" style=\"height: 420px;overflow:scroll\">\r\n                                        <p>\r\n                                            <table class=\"table table-striped\" id=\"zaposphere-table-clarity\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th></th>\r\n                                                        <th>Media Options </th>\r\n                                                        <th>Pricing</th>\r\n                                                        <th></th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n\r\n                                                    <tr data-ng-repeat=\"adspace in single.product.variants\"  ng-click=\"single.preview(adspace)\">\r\n                                                        <td>{{$index+1}}</td>\r\n                                                        <td>{{adspace.name}}\r\n                                                            <br><span><small>{{adspace.size}} &nbsp;{{adspace.maxSize}}<br/> &nbsp;{{adspace.formart}}</small></span></td>\r\n                                                        <td> {{adspace.price | currency}}\r\n                                                            <br><small>{{adspace.model}}</small></td>\r\n                                                        <td><small> \r\n                                                          <div layout=\"row\" layout-align=\"start center\">\r\n                                                          <cart-buttons variant=\"adspace\" product=\"single.product\"></cart-buttons>\r\n                                                          \r\n                                                      </div>\r\n                                                 \r\n                                                </small></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <hr>\r\n                            </div>\r\n                            <!--div-->\r\n                            <div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"col-md-4\">\r\n                                        <div layout=\"rows\" layout-align=\"center center\" ng-if=\"single.reviews.length==0 \">\r\n                                            <br/>\r\n                                            <md-divider></md-divider>\r\n                                            <br/>\r\n                                            <md-button ng-click=\"single.reviewForm()\" class=\"md-raised md-primary\">Be the first to review this publisher</md-button>\r\n                                        </div>\r\n                                        <div class=\"reviews\" ng-if=\"single.reviews.length>0 \">\r\n                                            <!--<h3>Reviews</h3>-->\r\n                                            <div class=\"reviews-header\" layout=\"column\">\r\n                                                <div flex layout=\"row\" layout-align=\"center center\">\r\n                                                    <md-button ng-click=\"single.reviewForm()\" class=\"md-primary md-raised\">Rate & Review</md-button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <md-card ng-repeat=\"review in single.reviews | orderBy: \'-created\'\">\r\n                                                <md-card-header>\r\n                                                    <md-card-avatar>\r\n                                                        <list-image string=\"{{review.message || review.rating}}\"></list-image>\r\n                                                    </md-card-avatar>\r\n                                                    <md-card-header-text>\r\n                                                        <span class=\"md-subhead\" ng-if=\"review.rating\">\r\n                              <div class=\"rating-button\">{{review.rating}} <ng-md-icon icon=\"star\" size=\"15\"></ng-md-icon></div>\r\n                          </span>\r\n                                                        <span class=\"md-title\" style=\"white-space: pre;margin-left: 10px;\">{{review.message}}</span>\r\n                                                    </md-card-header-text>\r\n                                                </md-card-header>\r\n                                                <!--<md-card-content>Good product within 7000</md-card-content>-->\r\n                                                <md-card-actions layout=\"row\" layout-align=\"space-between center\">\r\n                                                    <span layout=\"row\" layout-align=\"start center\">\r\n                          <ng-md-icon icon=\"person\" size=\"15\"></ng-md-icon>&nbsp;{{review.reviewer}}&nbsp;\r\n                          <ng-md-icon icon=\"access_time\" size=\"15\"></ng-md-icon>&nbsp;{{review.created | amCalendar}}\r\n                      </span>\r\n                                                    <md-button ng-if=\"single.myReview(review)\" class=\"md-icon-button\" ng-click=\"single.deleteReview(review)\" aria-label=\"Delete Review\">\r\n                                                        <ng-md-icon icon=\"delete\" style=\"fill: #aaa\"></ng-md-icon>&nbsp;\r\n                                                    </md-button>\r\n                                                </md-card-actions>\r\n                                            </md-card>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-8\">\r\n                                        <div class=\"row\">\r\n                                            <h3 class=\"col-md-2\">Learn</h3> <img style=\"width:150px;height:100px\" src=\"assets/img/learn.png\" class=\"responsive-img col-md-4\">\r\n                                        </div>\r\n                                        <div ng-if=\"single.magazines\">\r\n                                            <div ng-include=\"\'components/messages/magazines.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.airline\">\r\n                                            <div ng-include=\"\'components/messages/airline.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.emailMarketing\">\r\n                                            <div ng-include=\"\'components/messages/email.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.cinema\">\r\n                                            <div ng-include=\"\'components/messages/cinema.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.newspapers\">\r\n                                            <div ng-include=\"\'components/messages/newspapers.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.radio\">\r\n                                            <div ng-include=\"\'components/messages/radio.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.television\">\r\n                                            <div ng-include=\"\'components/messages/tv.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.default\">\r\n                                            <div ng-include=\"\'components/messages/nontraditional.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.billboards\">\r\n                                            <div ng-include=\"\'components/messages/outdoor.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.banner\">\r\n                                            <div ng-include=\"\'components/messages/nontraditional.html\'\"></div>\r\n                                        </div>\r\n                                        <div ng-if=\"single.socialMedia\">\r\n                                            <div ng-include=\"\'components/messages/nontraditional.html\'\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </section>\r\n        </md-content>\r\n        </div>\r\n    </div>\r\n    <footer></footer>\r\n    <script>\r\n    $(\"#adspace\").click(function() {\r\n        alert(\'clicked row\');\r\n        $(\"#movecenter\").click();\r\n    });\r\n    </script>\r\n");
$templateCache.put("app/keyfeature/keyfeature.html","<crud-table api=\'keyfeature\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/media/media.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<div class=\"container\">\r\n<div layout-align=\"start center\" layout=\"column\">\r\n<h2 class=\"md-title\">Media Library</h2>\r\n<md-progress-linear md-mode=\"determinate\" value=\"{{progress}}\" class=\"md-warn\" ng-show=\"progress >= 0\"></md-progress-linear>\r\n<!-- <span class=\"progress\">\r\n	<div style=\"width:{{progress}}%\" ng-bind=\"progress + \'%\'\"></div>\r\n</span> -->\r\n</div>\r\n<div layout=\"column\">\r\n	<div ngf-drop ngf-select ng-model=\"files\" class=\"drop-box\"\r\n			ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"true\" ngf-allow-dir=\"true\"\r\n			accept=\"image/*\"\r\n			ngf-pattern=\"\'image/*\'\">Drop images here to upload<br/>\r\n			or <br/>\r\n		<md-button tabindex=\"0\"\r\n		class=\"md-button md-default-theme md-warn md-raised\"\r\n		ngf-multiple=\"true\"\r\n		aria-label=\"Open file select panel\"\r\n		ngf-select=\"upload($files)\">\r\n			<ng-md-icon icon=\"cloud\"></ng-md-icon> Select Files\r\n		</md-button>\r\n	</div>\r\n\r\n	<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>\r\n\r\n	<md-grid-list md-cols-xs =\"1\" md-cols-sm=\"3\" md-cols-md=\"5\" md-cols-lg=\"6\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\">\r\n\r\n		<md-grid-tile ng-repeat=\"i in data\" class=\"md-whiteframe-z2\" ng-click=\"imageDetails(i)\">\r\n\r\n			<div class=\"thumbnail\">\r\n					<img ng-if=\"i.type==\'image/png\'\" ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\r\n					<audio ng-if=\"i.type==\'audio/mp3\'\" controls ng-src=\"{{i.path}}\"></audio>\r\n                  <video ng-if=\"i.type==\'video/mp4\'\" controls ng-src=\"{{i.path}}\"></video>\r\n			</div>\r\n			<md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\r\n		</md-grid-tile>\r\n	</md-grid-list>\r\n\r\n	<pre ng-if=\"files[0].$error\">Upload Log: {{f.$error}} {{f.$errorParam}}</pre>\r\n</div>\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/medias/medias.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<div class=\"container\">\r\n<div layout-align=\"start center\" layout=\"column\">\r\n<h2 class=\"md-title\">Media Library</h2>\r\n<md-progress-linear md-mode=\"determinate\" value=\"{{progress}}\" class=\"md-warn\" ng-show=\"progress >= 0\"></md-progress-linear>\r\n<!-- <span class=\"progress\">\r\n	<div style=\"width:{{progress}}%\" ng-bind=\"progress + \'%\'\"></div>\r\n</span> -->\r\n</div>\r\n<div layout=\"column\">\r\n	<!-- <div ngf-drop ngf-select ng-model=\"files\" class=\"drop-box\"\r\n			ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"true\" ngf-allow-dir=\"true\"\r\n			accept=\"image/*\"\r\n			ngf-pattern=\"\'image/*\'\">Drop images here to upload<br/>\r\n			or <br/>\r\n		<md-button tabindex=\"0\"\r\n		class=\"md-button md-default-theme md-warn md-raised\"\r\n		ngf-multiple=\"true\"\r\n		aria-label=\"Open file select panel\"\r\n		ngf-select=\"upload($files)\">\r\n			<ng-md-icon icon=\"cloud\"></ng-md-icon> Select Files\r\n		</md-button>\r\n	</div>\r\n\r\n	<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div> -->\r\n\r\n	<md-grid-list md-cols-xs =\"1\" md-cols-sm=\"3\" md-cols-md=\"5\" md-cols-lg=\"6\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\">\r\n\r\n		<md-grid-tile ng-repeat=\"i in data\" class=\"md-whiteframe-z2\" ng-click=\"imageDetails(i)\">\r\n\r\n			<div class=\"thumbnail\">\r\n					<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\r\n			</div>\r\n			<md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\r\n		</md-grid-tile>\r\n	</md-grid-list>\r\n\r\n	<pre ng-if=\"files[0].$error\">Upload Log: {{f.$error}} {{f.$errorParam}}</pre>\r\n</div>\r\n</div>\r\n<footer></footer>\r\n");
$templateCache.put("app/order/order.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-card>\r\n      <md-card-header style=\"background:#e2ee22\" ng-if=\"order.payment.id\">\r\n          <md-card-header-text>\r\n            <h3>Order placed successfully</h3>\r\n            <span class=\"md-subhead\" >\r\n                <span ng-if=\"order.payment.id\">Payment ID: {{order.payment.id}}</span><br/>\r\n            </span>\r\n          </md-card-header-text>\r\n          \r\n      </md-card-header>\r\n</md-card>\r\n<md-content class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n     \r\n      <!--When No Orders-->\r\n      <section ng-if=\"order.orders.length===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\r\n        <h1>You have not purchased anything yet</h1>\r\n        <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\r\n        <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\r\n\r\n        </md-buton>\r\n      </section>\r\n\r\n \r\n      <div class=\"container\"  ng-if=\"order.orders.length >0\">\r\n\r\n        <ul class=\"breadcrumb\">\r\n          <li><a href=\"#\">Home</a></li>\r\n          <li><a href=\"#\">Dashboard</a></li>\r\n          <li><a href=\"#\">Transaction History</a></li>\r\n          \r\n        </ul>\r\n\r\n<div class=\"box\" >\r\n        <div class=\"row\">\r\n        \r\n              <div class=\"col-sm-4\" style=\"border-right: bold\">\r\n                <h3 >Total Spent:<br> &nbsp;<br>{{order.orders.total | currency}}</h3>\r\n              </div>\r\n              <div class=\"col-sm-4\"><h3>How you pay</h3><br><small>manage</small></div>\r\n              <div class=\"col-sm-4\"><h3><a href=\"/address\">Advertising Profile</a></h3><br><p>Company:{{order.Auth.getCurrentUser().company}}<br>Contact Name:{{order.Auth.getCurrentUser().name}}<b/><br>Phone :{{order.Auth.getCurrentUser().phone}}<br>Email: {{order.Auth.getCurrentUser().email}}</div>\r\n          \r\n        </div>\r\n </div>\r\n<div class=\"box\">\r\n  <div class=\"row\">\r\n<div class=\"col-md-12\">\r\n   <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"orders\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n  <div ng-controller = \"OrderController as vm\">\r\n    <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n    <div k-detail-template>\r\n\r\n\r\n        <kendo-tab-strip>\r\n        <ul>\r\n            <li class=\"k-state-active\">ORDER DETAILS</li>\r\n           <!-- <li>PUBLISHER </li>-->\r\n        </ul>\r\n        <div>\r\n            <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n        </div>\r\n        <div>\r\n            <ul class=\"contact-info-form\">\r\n               <li><label>Name:</label> {{dataItem.items[0].publisher}}</li>\r\n                <<!-- li><label>City:</label> {{dataItem.City}}</li>\r\n                <li><label>Email:</label> {{dataItem.Address}}</li>\r\n                <li><label>Home phone:</label> {{dataItem.HomePhone}}</li> -->\r\n            </ul>\r\n        </div>\r\n        </kendo-tab-strip>\r\n    </div>\r\n</kendo-grid>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n</md-content>\r\n<footer></footer>\r\n\r\n<script>\r\n        /*\r\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\r\n            declared in kendo.common.css. It also declares the paths to the\r\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\r\n            stylesheet is hosted on a different domain.\r\n        */\r\n        kendo.pdf.defineFont({\r\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\r\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\r\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\r\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\r\n        });\r\n    </script>\r\n    <script type=\"text/x-kendo-template\" id=\"template\">\r\n                <div class=\"toolbar\">\r\n                    <label class=\"category-label\" for=\"category\">Show products by category:</label>\r\n                    <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\r\n                </div>\r\n            </script>\r\n\r\n    <script type=\"x/kendo-template\" id=\"page-template\">\r\n      <div class=\"page-template\">\r\n        <div class=\"header\">\r\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\r\n          A Taste for convinience\r\n        </div>\r\n        <div class=\"watermark\">MEDIABOX</div>\r\n        <div class=\"footer\">\r\n          Page #: pageNum # of #: totalPages #\r\n        </div>\r\n      </div>\r\n    </script>");
$templateCache.put("app/orders/orders.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n\r\n<div class=\"container\">\r\n\r\n     <ul class=\"breadcrumb\">\r\n                  <li><a href=\"#\">Home</a></li>\r\n                  <li><a href=\"#\">Dashboard</a></li>\r\n                  <li><a href=\"#\">Orders</a></li>\r\n                  \r\n                </ul>\r\n    <section  ng-controller=\"OrdersController as tab\">\r\n  \r\n    <div class=\"row\" style=\"margin-left: 20px;margin-bottom: 10px\">\r\n       <ul class=\"nav nav-pills\" >\r\n          <li ng-class=\"{active:tab.isSet(1)}\"><a href ng-click=\"tab.setTab(1)\">Orders</a></li>\r\n          <li ng-class=\"{active:tab.isSet(2)}\"><a href ng-click=\"tab.setTab(2)\">Reports</a></li>\r\n          \r\n      </ul>\r\n                                 \r\n    </div>\r\n        \r\n        \r\n        \r\n        <div ng-if=\"tab.isSet(1)\">\r\n             <div class=\"container\">\r\n               \r\n               <!--When No Orders-->\r\n                    <section ng-if=\"order.orders.total===0\" class=\"header\" layout=\"column\" layout-align=\"center stretch\">\r\n                      <h1>You have not recieved any payments yet</h1>\r\n                      <md-button ui-sref=\"/\" class=\"md-primary md-raised\">\r\n                      <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>Shop Now\r\n\r\n                      </md-buton>\r\n                    </section>\r\n              <div class=\"box\">\r\n                      <div class=\"row\">\r\n                      \r\n                            <div class=\"col-sm-4\" style=\"border-right: bold\">\r\n                              <h3 >Orders Total :<br> &nbsp;<br>{{orders.orders.total | currency}}</h3>\r\n                            </div>\r\n                            <div class=\"col-sm-4\"><h3>How You get paid</h3><br><small><a href=\"/profile\">manage</a></small></div>\r\n                             <div class=\"col-sm-4\"><h3><a href=\"/profile\">Advertising Profile</a></h3><br><p>Company:{{orders.Auth.getCurrentUser().company}}<br>Contact Name:{{user.name}}<b/><br>Phone :{{orders.Auth.getCurrentUser().phone}}<br>Email: {{orders.Auth.getCurrentUser().email}}</div>\r\n                        \r\n                      </div>\r\n               </div>\r\n              <div class=\"box\">\r\n                <div style=\"margin-top:20px\" class=\"small\" dw-loading=\"orders\" dw-loading-options=\"{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}\"></div>\r\n                  \r\n                    <div ng-controller = \"OrdersController as vm\">\r\n                  <kendo-grid options=\"vm.mainGridOptions\">\r\n\r\n                  <div k-detail-template>\r\n\r\n\r\n                      <kendo-tab-strip>\r\n                      <ul>\r\n                          <li class=\"k-state-active\">ORDER DETAILS</li>\r\n                          <li>ADVERTISER</li>\r\n                      </ul>\r\n                      <div>\r\n                          <div kendo-grid k-options=\"vm.detailGridOptions(dataItem)\"></div>\r\n                      </div>\r\n                      <div>\r\n                          <ul class=\"contact-info-form\">\r\n                          <li><label>Name:</label> {{dataItem.address.recipient_name}}</li>\r\n                              <li><label>Address:</label>{{dataItem.address.line1}}</li>\r\n                               <li><label>&nbsp;</label>{{dataItem.address.city}}</li>\r\n                               <li><label>&nbsp;</label>{{dataItem.address.country_code}}</li>\r\n                              <li><label>Email:</label> {{dataItem.email}}</li>\r\n                              <li><label>Phone:</label> {{dataItem.phone}}</li>\r\n                                        \r\n                          </ul>\r\n                      </div>\r\n                      </kendo-tab-strip>\r\n                  </div>\r\n              </kendo-grid>\r\n              </div>\r\n\r\n               \r\n              </div>\r\n              </div>\r\n\r\n        </div>\r\n        <div ng-if=\"tab.isSet(2)\">\r\n                   <md-content class=\"container\" layout=\"column\">\r\n                        <md-tabs md-dynamic-height md-border-bottom>\r\n                          <md-tab label=\"SALES STATUS\">\r\n                            <md-content >\r\n                                <section >\r\n                       \r\n                                  <md-content ng-controller=\"RegionalSalesController as regionalSales\">\r\n                                       <!--open main column-->\r\n                                            <div id=\"main-section-header\" class=\"row\" >\r\n                                                <h2 id=\"team-efficiency\" class=\"col-xs-3\">Regional sales status</h2>\r\n                                                <div id=\"dateFilter\" class=\"col-xs-9\">\r\n                                                    <div class=\"period-wrapper\">\r\n                                                        <label for=\"start-date\" class=\"select-period\">Stats from</label>\r\n                                                        <input id=\"start-date\" kendo-date-picker k-ng-model=\"regionalSales.startDate\">\r\n                                                        <span class=\"k-invalid-msg\" data-for=\"start-date\"></span>\r\n                                                    </div>\r\n                                                    <div class=\"period-wrapper\">\r\n                                                        <label for=\"end-date\" class=\"select-period\">To</label>\r\n                                                        <input id=\"end-date\" kendo-date-picker k-ng-model=\"regionalSales.endDate\">\r\n                                                        <span class=\"k-invalid-msg\" data-for=\"end-date\" ></span>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style=\"clear:both;\"></div>\r\n                                            </div>\r\n\r\n                                            <div id=\"regional-sales\" class=\"main-section-content row\">\r\n                                                <div id=\"map-wrapper\" class=\"row\">\r\n                                                    <div id=\"map-details\" class=\"col-xs-2\">\r\n                                                        <h3 class=\"section-header\">Pick a Country to view stats</h3>\r\n                                                        <h3 class=\"section-header\">COUNTRY</h3>\r\n                                                        <h3 id=\"countryName\">{{regionalSales.selectedCountry}}</h3>\r\n                                                        <h3 class=\"section-header\">CUSTOMERS</h3>\r\n                                                        <div id=\"countryCustomers\">\r\n                                                            <span>{{regionalSales.currentCustomers.join(\", \")}}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div id=\"map-container\" class=\"col-xs-10\">\r\n                                                        <div id=\"map\" kendo-map\r\n                                                            k-layers=\"regionalSales.mapLayers\"\r\n                                                            k-center=\"[50.00, 0]\"\r\n                                                            k-zoom=\"2\"\r\n                                                            k-zoomable=\"false\"\r\n                                                            k-on-shape-created=\"regionalSales.shapeCreated(kendoEvent)\"\r\n                                                            k-on-shape-mouse-enter=\"regionalSales.shapeMouseEnter(kendoEvent)\"\r\n                                                            k-on-shape-mouse-leave=\"regionalSales.shapeMouseLeave(kendoEvent)\"\r\n                                                            k-on-shape-click=\"regionalSales.shapeClick(kendoEvent)\"\r\n                                                            ></div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div id=\"statsContainer\" class=\"row\">\r\n                                                    <div id=\"marketShareContainer\" class=\"col-xs-3 stats-graph\">\r\n                                                        <h3 class=\"section-header\">Market share</h3>\r\n                                                        <span id=\"market-share-label\">{{ regionalSales.percentage }}</span>\r\n                                                        <div class=\"sparkline-container\">\r\n                                                            <div id=\"market-share\"\r\n                                                                style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                                                                kendo-chart\r\n                                                                k-theme=\"\'metro\'\"\r\n                                                                k-legend=\"{visible:false}\"\r\n                                                                k-data-source=\"regionalSales.marketDataSource\"\r\n                                                                k-series-defaults=\"{type:\'donut\'}\"\r\n                                                                k-series=\"[{field:\'sales\', categoryField:\'country\'}]\"\r\n                                                                k-tooltip=\"{visible:true, template:\'#= dataItem.country #: #= kendo.toString(dataItem.sales, \\\'c2\\\') #\'}\"\r\n                                                            ></div>\r\n                                                            <div id=\"market-share-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                                                                <div>No data available</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div id=\"revenueContainer\" class=\"col-xs-3 stats-graph\">\r\n                                                        <h3 class=\"section-header\">Revenue</h3>\r\n                                                        <span id=\"revenue-label\">{{ regionalSales.revenue }}</span>\r\n                                                        <div class=\"sparkline-container\">\r\n                                                            <div id=\"revenue\"\r\n                                                                style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                                                                kendo-sparkline\r\n                                                                k-theme=\"\'metro\'\"\r\n                                                                k-data-source=\"regionalSales.revenueDataSource\"\r\n                                                                k-type=\"\'column\'\"\r\n                                                                k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                                                                k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                                                                k-tooltip=\"{template: \'#=kendo.toString(value, \\\'c2\\\')#\'}\"\r\n                                                            ></div>\r\n                                                            <div id=\"revenue-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                                                                <div>No data available</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div id=\"ordersContainer\" class=\"col-xs-3 stats-graph\">\r\n                                                        <h3 class=\"section-header\">Orders</h3>\r\n                                                        <span id=\"orders-label\">{{regionalSales.currentOrders.length}}</span>\r\n                                                        <div class=\"sparkline-container\">\r\n                                                            <div id=\"orders\" style=\"height:100px\"\r\n                                                                style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                                                                kendo-sparkline\r\n                                                                k-theme=\"\'metro\'\"\r\n                                                                k-data-source=\"regionalSales.ordersDataSource\"\r\n                                                                k-type=\"\'column\'\"\r\n                                                                k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                                                                k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                                                            ></div>\r\n                                                            <div id=\"orders-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                                                                <div>No data available</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div id=\"customersContainer\" class=\"col-xs-3 stats-graph\">\r\n                                                        <h3 class=\"section-header\">Customers</h3>\r\n                                                        <span id=\"customers-label\">{{regionalSales.currentCustomers.length}}</span>\r\n                                                        <div class=\"sparkline-container\">\r\n                                                            <div id=\"customers\"\r\n                                                                style=\"height: 100px; visibility:{{ regionalSales.currentCustomers.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                                                                kendo-sparkline\r\n                                                                k-theme=\"\'metro\'\"\r\n                                                                k-data-source=\"regionalSales.customersDataSource\"\r\n                                                                k-type=\"\'column\'\"\r\n                                                                k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                                                                k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                                                            ></div>\r\n                                                            <div id=\"customers-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentCustomers.length > 0\">\r\n                                                                <div>No data available</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div id=\"topProductsContainer\">\r\n                                                    <h3 class=\"section-header\">Top selling products</h3>\r\n                                                    <div id=\"top-selling-products\"\r\n                                                         style=\"height: 260px; visibility:{{ regionalSales.currentTopSellingProducts.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                                                         kendo-chart\r\n                                                         k-theme=\"\'metro\'\"\r\n                                                         k-data-source=\"regionalSales.topSellingProductsDataSource\"\r\n                                                         k-legend=\"{visible:true, position:\'top\'}\"\r\n                                                         k-chart-area=\"{background:\'#eeeeee\'}\"\r\n                                                         k-series-defaults=\"{type: \'line\',style: \'smooth\'}\"\r\n                                                         k-series=\"[{field:\'quantity\',markers:{visible:false}}]\"\r\n                                                         k-category-axis=\"[{majorGridLines:{visible:false},line:{width:0},labels:{visible:false}}]\"\r\n                                                         k-value-axis=\"{majorUnit:50,majorTicks:{visible:false},majorGridLines:{visible:false},line:{visible:false},labels:{visible:false}}\"\r\n                                                         k-tooltip=\"{visible:true,template:\'#=data.series.name.replace(data.series.field, data.value)#\'}\"\r\n                                                    ></div>\r\n                                                    <div id=\"products-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentTopSellingProducts.length > 0\">\r\n                                                        <div>No data available</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                    <div flex></div>\r\n                                  </md-content>\r\n                           \r\n                            </section>\r\n                            </p>\r\n                          </md-content>\r\n                          </md-tab>\r\n                           <md-tab label=\"PRODUCT ORDERS\">\r\n                            <md-content >\r\n                               <section >\r\n                       \r\n                                <md-content ng-controller=\"ProductsOrdersController as productsOrders\">\r\n                                     <!--open main column-->\r\n                                      <div id=\"main-section-header\" class=\"row\" >\r\n                                          <h2 id=\"team-efficiency\" class=\"col-xs-3\">PRODUCTS & ORDERS</h2>\r\n                                          <div style=\"clear:both;\"></div>\r\n                                      </div>\r\n                                      <div id=\"orders\"\r\n                                          kendo-grid\r\n                                          k-data-source=\"productsOrders.ordersDataSource\"\r\n                                          k-columns=\"productsOrders.ordersColumns\"\r\n                                          k-sortable=\"true\"\r\n                                          k-pageable=\"true\"\r\n                                          k-navigatable=\"true\"\r\n                                          k-filterable=\"true\"\r\n                                          k-selectable=\"\'column\'\"\r\n\r\n\r\n                                      >\r\n                                      <div k-detail-template>\r\n                                          <h4>Details for order {{ dataItem.OrderID }} </h4>\r\n                                          <div class=\"tabstrip\" kendo-tab-strip>\r\n                                              <ul>\r\n                                                  <li class=\"k-state-active\">\r\n                                                      PRODUCTS\r\n                                                  </li>\r\n                                                  <li>\r\n                                                      CUSTOMER DETAILS\r\n                                                  </li>\r\n                                              </ul>\r\n                                              <div class=\"details-grid\"\r\n                                                  style=\"height: 200px\"\r\n                                                  kendo-grid\r\n                                                  k-columns=\"productsOrders.productsColumns\"\r\n                                                  k-data-source=\"productsOrders.productDataSource(dataItem.OrderID)\">\r\n                                                  <div k-detail-template>\r\n                                                      <div class=\"product-details-wrapper row\">\r\n                                                          <div class=\"product-details col-xs-3\">\r\n                                                              <img src=\"./Content/Products/{{dataItem.ProductID}}.jpg\" class=\"product-details-image\">\r\n                                                              <div class=\"product-name-cat\">\r\n                                                                  <div class=\"product-name\">{{productsOrders.product(dataItem.ProductID).ProductName}}</div>\r\n                                                                  <div class=\"product-category\">{{productsOrders.product(dataItem.ProductID).Category}}</div>\r\n                                                              </div>\r\n                                                          </div>\r\n                                                          <div class=\"product-details col-xs-3\">\r\n                                                              <h5>Orders QTY.</h5>\r\n                                                              <div class=\"sparkline-container\">\r\n                                                                  <!-- escape template to prevent the grid from executing it -->\r\n                                                                  <div class=\"details-sparkline\"\r\n                                                                      kendo-sparkline\r\n                                                                      k-theme=\"\'metro\'\"\r\n                                                                      k-type=\"\'column\'\"\r\n                                                                      k-data-source=\"productsOrders.productSalesDataSource(dataItem.ProductID)\"\r\n                                                                      k-series=\"[{categoryField:\'Date\',aggregate:\'count\',gap:0.2,field:\'Quantity\',tooltip:{template:\'QUANTITY: \\\\\\\\#= value \\\\\\\\#\'}}]\"\r\n                                                                      k-category-axis=\"{type:\'date\',visible:true,labels:{visible:false},majorTicks:{visible:false},baseUnit:\'months\',line:{visible:true,color:\'black\'}}\"\r\n                                                                      k-value-axis=\"{line:{visible:true}}\">\r\n                                                                  </div>\r\n                                                              </div>\r\n                                                          </div>\r\n                                                          \r\n                                                      </div>\r\n                                                  </div>\r\n                                              </div>\r\n                                              <div>\r\n                                                   <div class=\'shipping-details\'>\r\n                                                       <ul>\r\n                                                           <li><label>Name:</label>{{dataItem.ShipName}}</li>\r\n                                                           <li><label>Country:</label>{{dataItem.ShipCountry}}</li>\r\n                                                           <li><label>City:</label>{{dataItem.ShipCity}}</li>\r\n                                                           <li><label>Address:</label>{{dataItem.ShipAddress}}</li>\r\n                                                           <li><label>Postal Code:</label>{{dataItem.ShipPostalCode}}</li>\r\n                                                       </ul>\r\n                                                   </div>\r\n                                              </div>\r\n                                          </div>\r\n                                      </div>\r\n                                      </div>\r\n                               <div flex></div>\r\n                              </md-content>\r\n                                \r\n                            </section>\r\n                            </md-content>\r\n                          </md-tab>\r\n\r\n                             <md-tab label=\"PRODUCT EFFICIENCY\">\r\n                            <md-content >                              \r\n                              <section >                       \r\n                              <md-content ng-controller=\"ProductEfficiencyController as productEfficiency\" >\r\n                                  <div id=\"main-section-header\" class=\"row\"  >\r\n                                      <h2 id=\"team-efficiency\" class=\"col-xs-3\">Product efficiency</h2>\r\n                                      <div id=\"dateFilter\" class=\"col-xs-9\">\r\n                                          <div class=\"period-wrapper\">\r\n                                              <label for=\"StartDate\" class=\"select-period\">Stats from</label>\r\n                                              <input id=\"start-date\" kendo-date-picker k-ng-model=\"productEfficiency.startDate\">\r\n                                          </div>\r\n                                          <div class=\"period-wrapper\">\r\n                                              <label for=\"EndDate\" class=\"select-period\">To</label>\r\n                                              <input id=\"end-date\" kendo-date-picker k-ng-model=\"productEfficiency.endDate\">\r\n                                          </div>\r\n                                      </div>\r\n                                      <div style=\"clear:both;\"></div>\r\n                                  </div>\r\n\r\n                                  <div class=\"main-section-content row\" style=\"\">\r\n                                      <div id=\"employee-list\" class=\"col col-xs-2\">\r\n                                          <h3>PRODUCTS /SITES</h3>\r\n                                          <div id=\"employees-list\"\r\n                                              kendo-list-view\r\n                                              k-selectable=\"\'single\'\"\r\n                                              k-data-source=\"productEfficiency.employeeListDataSource\"\r\n                                              k-on-change=\"productEfficiency.changeCurrentEmployee(dataItem)\"\r\n                                          >\r\n                                             <div class=\"employee\" k-template>\r\n                                                 <div class=\"employee-wrapper\">\r\n                                                     <img ng-src=\"./Content/Employees/{{dataItem.EmployeeID}}-t.png\" class=\"img-responsive employee-list-image\"/>\r\n                                                     <dl class=\"employee-list-details\">\r\n                                                         \r\n                                                         <dd class=\"title\">{{dataItem.Title}}</dd>\r\n                                                     </dl>\r\n                                                 </div>\r\n                                             </div>\r\n                                          </div>\r\n                                      </div>\r\n                                      <div id=\"employee-details-wrapper\" class=\"col col-xs-10\">\r\n                                          <div id=\"employee-details\" class=\"row\">\r\n                                              <div id=\"employee-about\" class=\"col-xs-12 placeholder\">\r\n                                                  <div class=\"row\">\r\n                                                      <div id=\"employeeBio\" class=\"col-xs-12 col-sm-4\">\r\n                                                          <div>\r\n                                                              <h3>ABOUT</h3>\r\n                                                              <img ng-src=\"./Content/Employees/{{productEfficiency.currentEmployee.EmployeeID}}.png\" class=\"img-responsive employee-details-image\" />\r\n                                                              <dl class=\"employee-bio-details\">\r\n                                                                  \r\n                                                                  <dd class=\"title\">{{productEfficiency.currentEmployee.Title}}</dd>\r\n                                                                  <dd class=\"phone\"><span class=\"icon icon-mobile\"></span>{{productEfficiency.currentEmployee.HomePhone}}</dd>\r\n                                                             </dl>\r\n                                                          </div>\r\n                                                      </div>\r\n                                                      <div class=\"col-xs-12 col-sm-4\">\r\n                                                          <h3>Quarter to date sales</h3>\r\n                                                          <span id=\"employee-quarter-sales-label\">{{productEfficiency.currentEmployeeQuarterSales | currency }}</span>\r\n                                                          <div class=\"sparkline-container\">\r\n                                                              <div id=\"employee-quarter-sales\" style=\"height:30px\"\r\n                                                                  kendo-chart\r\n                                                                  k-theme=\"\'metro\'\"\r\n                                                                  k-tooltip=\"true\"\r\n                                                                  k-data-source=\"productEfficiency.employeeQuarterSalesDataSource\"\r\n                                                                  k-series=\"[{type:\'bullet\',currentField:\'Current\',targetField:\'Target\'}]\"\r\n                                                                  k-legend=\"{visible:false}\"\r\n                                                                  k-category-axis=\"{labels:{visible:true},majorGridLines:{visible:false}}\"\r\n                                                                  k-value-axis=\"{type:\'numeric\',labels:{visible:false},majorTicks:{visible:false},majorGridLines:{visible:false}}\">\r\n                                                              </div>\r\n                                                          </div>\r\n                                                      </div>\r\n                                                      <div class=\"col-xs-12 col-sm-4\">\r\n                                                          <h3>Monthly Average Sales</h3>\r\n                                                          <span id=\"employee-average-sales-label\">{{productEfficiency.currentEmployeeAverageSalesNumber | currency }}</span>\r\n                                                          <div class=\"sparkline-container\">\r\n                                                              <div id=\"employee-average-sales\" style=\"height:30px\"\r\n                                                                  kendo-chart\r\n                                                                  k-theme=\"\'metro\'\"\r\n                                                                  k-series=\"[{type:\'line\',field:\'EmployeeSales\',width:1.5,markers:{visible:false}}]\"\r\n                                                                  k-category-axis=\"{type:\'date\',field:\'Date\',visible:false,majorGridLines:{visible:false},majorTicks:{visible:false}}\"\r\n                                                                  k-legend=\"{visible:false}\"\r\n                                                                  k-data-source=\"productEfficiency.employeeAverageSalesDataSource\"\r\n                                                                  k-value-axis=\"{type:\'numeric\',visible:false,labels:{visible:false},majorGridLines:{visible:false},majorTicks:{visible:false}}\">\r\n                                                              </div>\r\n                                                          </div>\r\n                                                      </div>\r\n                                                  </div>\r\n                                              </div>\r\n                                              <div id=\"employeeStats\" class=\"col-xs-12\">\r\n                                                  <div id=\"team-sales\" style=\"height:200px\"\r\n                                                      kendo-chart\r\n                                                      k-theme=\"\'metro\'\"\r\n                                                      k-title=\"{text:\'REPRESENTATIVE SALES VS. TOTAL SALES\',align:\'left\',font:\'11px\',color:\'#35373d\'}\"\r\n                                                      k-data-source=\"productEfficiency.employeeTeamSalesDataSource\"\r\n                                                      k-legend=\"{position:\'bottom\'}\"\r\n                                                      k-series=\"[{field:\'EmployeeSales\',categoryField:\'Date\',name:\'Product Sales\',aggregate:\'sum\'},{field:\'TotalSales\',categoryField:\'Date\',name:\'All Sales\',aggregate:\'sum\'}]\"\r\n                                                      k-category-axis=\"{type:\'date\',baseUnit:\'months\',majorGridLines:{visible:false}}\"\r\n                                                      k-value-axis=\"{labels:{format:\'{0:c2}\',visible:false},majorUnit:250,line:{visible:false},majorGridLines:{visible:false}}\"\r\n                                                      k-tooltip=\"{visible:true,format:\'{0:c2}\'}\">\r\n                                                  </div>\r\n                                              </div>\r\n                                           \r\n                                          </div>\r\n                                      </div>\r\n                                  </div>\r\n\r\n                              </md-content>\r\n                                \r\n                            </section>\r\n                            </p>\r\n                          </md-content>\r\n                          </md-tab>\r\n                         \r\n                        </md-tabs>\r\n                      </md-content>  \r\n               \r\n        </div>\r\n        \r\n    </section>\r\n</div>\r\n\r\n\r\n<footer></footer>\r\n<style type=\"text/css\" media=\"screen\">\r\n   li.active > a, .nav-pills > li.active > a:hover, .nav-pills > li.active > a:focus {\r\n    color: white;\r\n    background-color: ##d9534f;\r\n}\r\n</style>\r\n\r\n<script>\r\n        /*\r\n            This demo renders the grid in \"DejaVu Sans\" font family, which is\r\n            declared in kendo.common.css. It also declares the paths to the\r\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\r\n            stylesheet is hosted on a different domain.\r\n        */\r\n        kendo.pdf.defineFont({\r\n            \"DejaVu Sans\"             : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf\",\r\n            \"DejaVu Sans|Bold\"        : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf\",\r\n            \"DejaVu Sans|Bold|Italic\" : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\",\r\n            \"DejaVu Sans|Italic\"      : \"//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf\"\r\n        });\r\n    </script>\r\n    <script type=\"text/x-kendo-template\" id=\"template\">\r\n                <div class=\"toolbar\">\r\n                    <label class=\"category-label\" for=\"category\">Show products by category:</label>\r\n                    <input type=\"search\" id=\"category\" style=\"width: 150px\"/>\r\n                </div>\r\n            </script>\r\n\r\n    <script type=\"x/kendo-template\" id=\"page-template\">\r\n      <div class=\"page-template\">\r\n        <div class=\"header\">\r\n          <div style=\"float: right\">Page #: pageNum # of #: totalPages #</div>\r\n          A Taste for convinience\r\n        </div>\r\n        <div class=\"watermark\">MEDIABOX</div>\r\n        <div class=\"footer\">\r\n          Page #: pageNum # of #: totalPages #\r\n        </div>\r\n      </div>\r\n    </script>\r\n\r\n");
$templateCache.put("app/payment/cancel.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\r\n        <h2>Payment Process Cancelled</h2>\r\n      </section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/payment/error.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\r\n        <h2>Payment Error Occured</h2>\r\n          <label>Here is more details about the error</label>\r\n      </section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/payment/success.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex class=\"content md-padding\" layout=\"column\" layout-align=\"start center\">\r\n      <section class=\"header\" layout=\"column\" layout-align=\"center center\">\r\n        <h2>Payment Successful</h2>\r\n        <md-input-container flex>\r\n          <label>Search Payments</label>\r\n          <input name=\"search\" type=\"text\" ng-model=\"payment.search\" md-autofocus/>\r\n        </md-input-container>\r\n      </section>\r\n  <section layout=\"column\" class=\"orders\">\r\n  <md-card ng-repeat=\"o in payment.orders | orderBy : \'orderDate\' : \'reverse\' | filter:payment.search\">\r\n      <md-card-header>\r\n          <md-card-header-text>\r\n            <span class=\"\">ORDER PLACED</span>\r\n            <span class=\"md-subhead\">{{o.created_at | amCalendar}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">TOTAL</span>\r\n            <span class=\"md-subhead\">{{o.total | currency}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">SHIP TO</span>\r\n            <span class=\"md-subhead\">{{o.name}}</span>\r\n          </md-card-header-text>\r\n          <md-card-header-text>\r\n            <span class=\"\">Order # </span>\r\n            <span class=\"md-subhead\">{{o.orderNo}}</span>\r\n          </md-card-header-text>\r\n      </md-card-header>\r\n      <md-card-content layout=\"row\" layout-align=\"space-between\">\r\n          <div flex>\r\n            <div layout=\"row\" ng-repeat=\"i in o.items\">\r\n              <md-card-avatar>\r\n                  <img ng-src=\"{{i.image}}\" class=\"md-card-image\" alt=\"i.name\" width=\"100px\">\r\n              </md-card-avatar>\r\n              \r\n              <div class=\"content\">\r\n              <a ng-click=\"payment.navigate(i)\">{{i.name}}</a><br/>\r\n              Size: <b>{{i.size}}</b><br/>\r\n              Amount: <b>{{i.price}} * {{i.quantity}}&nbsp;=&nbsp;{{i.price * i.quantity | currency: payment.Settings.currency.symbol}}</b>\r\n              <del ng-if=\"i.price!=i.mrp\">{{i.mrp}}</del><br/>\r\n              <br/>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n          <md-card-actions layout=\"column\" class=\"content\">\r\n            <md-list flex>\r\n              <md-list-item class=\"md-2-line\">\r\n                <div class=\"md-list-item-text\">\r\n                  <h2 class=\"md-subhead\"><ng-md-icon icon=\"local_shipping\"></ng-md-icon>&nbsp;Address</h2>\r\n                  <hr>\r\n                  {{o.address}}<br/>\r\n                  {{o.city}}<br/>\r\n                  {{o.zip}}<br/>\r\n                  {{o.phone}}<br/>\r\n                </div>\r\n              </md-list-item>\r\n\r\n              <!--<md-list-item>\r\n                <div class=\"md-list-item-text\">\r\n                  <p class=\"md-subhead\">Payment Status: &nbsp;</p>\r\n                </div>\r\n                  <md-select ng-model=\"o.payment\" placeholder=\"Payment Status\" ng-change=\"payment.changeStatus(o)\">\r\n                    <md-option ng-value=\"o\" ng-repeat=\"o in payment.Settings.paymentStatus\">{{o}}</md-option>\r\n                  </md-select>\r\n              </md-list-item>-->\r\n\r\n              <md-list-item>\r\n                <div class=\"md-list-item-text\">\r\n                  <p  class=\"md-subhead\">Order Status: &nbsp;</p>\r\n                </div>\r\n                  <md-select ng-model=\"o.status\" placeholder=\"Order Status\" ng-change=\"payment.changeStatus(o)\" flex>\r\n                    <md-option ng-value=\"o\" ng-repeat=\"o in payment.Settings.orderStatus\">{{o}}</md-option>\r\n                  </md-select>\r\n              </md-list-item>\r\n           </md-list>\r\n          </md-card-actions>\r\n      </md-card-content>\r\n  </md-card>\r\n  </section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/payment-method/payment-method.html","<crud-table api=\'PaymentMethod\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/product/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\r\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\r\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\r\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n		</md-button>\r\n		<h3 style=\"margin-top: 15px\">Edit {{ detail.product.name | labelCase}}</h3>\r\n		<md-button aria-label=\"-\">\r\n		</md-button>\r\n	</span>\r\n</md-toolbar>\r\n<md-content class=\"md-padding\" flex layout-fill ng-cloak id=\"user-detail-content\">\r\n	<section class=\"section\" layout=\"row\">\r\n    \r\n<form name=\"form\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.save(detail.product);detail.goBack();\" novalidate autocomplete=\"off\">\r\n		<span layout=\"column\" layout-sm=\"column\">\r\n		  <!--<md-content>-->\r\n				<br/>\r\n			    <section layout=\"column\">\r\n							<span layout=\"row\">\r\n								<!--<md-input-container flex>\r\n									<label>SKU</label>\r\n									<input name=\"sku\" ng-model=\"detail.product.sku\" md-autofocus>\r\n								</md-input-container>-->\r\n\r\n								<md-input-container flex>\r\n									<label>Name</label>\r\n									<input name=\"name\" ng-model=\"detail.product.name\"/>\r\n								</md-input-container>\r\n							</span>\r\n								<md-input-container flex>\r\n									<label>Description</label>\r\n									<textarea name=\"description\" ng-model=\"detail.product.info\" rows=\"2\"></textarea>\r\n								</md-input-container>\r\n								<span layout=\"row\">\r\n									<md-input-container flex>\r\n										<label>Platform</label>\r\n										<md-select ng-model=\"detail.product.category\" ng-change=\"detail.changeCategory(o.name)\">\r\n											<md-option ng-repeat=\"o in detail.options.categories\" value=\"{{o._id}}\">\r\n												{{o.name}} - <b>{{o.parent.name}}</b>\r\n											</md-option>\r\n										</md-select>\r\n										<md-button ui-sref=\"category\"><ng-md-icon icon=\"subject\"></ng-md-icon>New Platform</md-button>\r\n									</md-input-container>\r\n									<md-input-container flex>\r\n										<label>Category</label>\r\n										<md-select ng-model=\"detail.product.brand\">\r\n											<md-option ng-repeat=\"o in detail.options.brands\" value=\"{{o._id}}\">\r\n												{{o.name}}\r\n											</md-option>\r\n										</md-select>\r\n										<md-button ui-sref=\"brand\"><ng-md-icon icon=\"verified_user\"></ng-md-icon>New Category</md-button>\r\n									</md-input-container>\r\n								</span>\r\n								\r\n\r\n							<span layout=\"row\">\r\n								<!-- <md-input-container flex>\r\n									<label>SKU</label>\r\n									<input name=\"sku\" ng-model=\"detail.product.sku\" md-autofocus>\r\n								</md-input-container> -->\r\n\r\n								<md-input-container flex>\r\n									<label>Website</label>\r\n									<input name=\"sku\" ng-model=\"detail.product.website\" md-autofocus>\r\n								\r\n								</md-input-container>\r\n\r\n								<md-input-container flex>\r\n									<label>Logo</label>\r\n									<input class=\"inputfile\" type=\"file\" ng-model=\"detail.product.logo\" name=\"inputFile\" base-sixty-four-input  maxsize=\"500\" accept=\"image/*\"/>\r\n											\r\n\r\n								</md-input-container>\r\n\r\n								<div class=\"product-thumbnail\">\r\n                                      \r\n	                           	   <a>\r\n	                                    <img data-ng-src=\"data:image/png;base64,{{detail.product.logo.base64}}\"  alt=\"{{item.publisher}}\" style=\"width: 50px;\">\r\n	                                </a>\r\n\r\n\r\n                                </div>\r\n								\r\n							</span>\r\n							<span layout=\"row\">\r\n								<md-input-container flex>\r\n									<label>Phone</label>\r\n									<input name=\"sku\" ng-model=\"detail.product.phone\" md-autofocus>\r\n								</md-input-container>\r\n\r\n								<md-input-container flex>\r\n									<label>Email</label>\r\n									<input name=\"sku\" ng-model=\"detail.product.email\" md-autofocus>\r\n								\r\n								</md-input-container>\r\n								\r\n							</span>\r\n\r\n							<md-input-container flex>\r\n									<label>Terms Of Use</label>\r\n									<textarea name=\"description\" ng-model=\"detail.product.terms\" rows=\"2\"></textarea>\r\n								</md-input-container>\r\n			    </section>\r\n			    <section>\r\n			      <md-subheader class=\"md-warn\">General Features</md-subheader> \r\n						<md-button ui-sref=\"feature\"><ng-md-icon icon=\"spellcheck\"></ng-md-icon>New Feature</md-button>\r\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n							<thead>\r\n								<tr class=\"md-table-headers-row\">\r\n									<th class=\"md-table-header\">#</th>\r\n									<th class=\"md-table-header\">Key</th>\r\n									<th class=\"md-table-header\">Value</th>\r\n									<th class=\"md-table-header\"></th>\r\n								</tr>\r\n							</thead>\r\n\r\n							<tbody>\r\n\r\n								<tr ng-repeat=\"feature in detail.product.features track by $index\" id=\"{{feature._id}}\"\r\n										class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>{{$index+1}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"feature.key\" aria-label=\"Features Key\">\r\n												<md-option ng-repeat=\"o in detail.options.features | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"feature.val\" aria-label=\"Features Value\">\r\n												<md-option ng-repeat=\"o in detail.options.features | filter: feature.key | unique: \'val\'\" value=\"{{o.val}}\">\r\n													{{o.val}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\" ng-click=\"detail.deleteFeature($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td></td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"detail.product.features[detail.product.features.length].key\" aria-label=\"Features Key\">\r\n												<md-option ng-repeat=\"o in detail.options.features | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"detail.product.features[detail.product.features.length].val\" aria-label=\"Features Value\">\r\n												<md-option ng-repeat=\"o in detail.options.features | filter: feature.key | unique: \'val\'\" value=\"{{o.val}}\">\r\n													{{o.val}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td></td>\r\n								</tr>\r\n							</tbody>\r\n			      </table>\r\n			    </section>\r\n			    <section>\r\n			      <md-subheader class=\"md-warn\">Key Features</md-subheader>\r\n						<a href=\"/keyfeature\" class=\"pull-right\">Create New</a>\r\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n							<thead>\r\n								<tr class=\"md-table-headers-row\">\r\n									<th class=\"md-table-header\">#</th>\r\n									<th class=\"md-table-header\">Key</th>\r\n									<th class=\"md-table-header\">Value</th>\r\n									<th class=\"md-table-header\"></th>\r\n								</tr>\r\n							</thead>\r\n\r\n							<tbody>\r\n\r\n								<tr ng-repeat=\"keyfeature in detail.product.keyFeatures track by $index\" id=\"{{keyfeature._id}}\"\r\n										class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>{{$index+1}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"keyfeature.key\" aria-label=\"KeyFeatures Key\">\r\n												<md-option ng-repeat=\"o in detail.options.keyfeatures | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"size\" ng-model=\"keyfeature.val\"  aria-label=\"Features Value\"/>\r\n\r\n											\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Key Feature\" ng-click=\"detail.deleteKeyFeature($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td></td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"detail.product.keyFeatures[detail.product.keyFeatures.length].key\" aria-label=\"KeyFeatures Key\">\r\n												<md-option ng-repeat=\"o in detail.options.keyfeatures | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n										<input name=\"size\" ng-model=\"detail.product.keyFeatures[detail.product.keyFeatures.length].val\"  aria-label=\"KeyFeatures Value\"/>\r\n											\r\n										</md-input-container>\r\n									</td>\r\n									<td></td>\r\n								</tr>\r\n							</tbody>\r\n			      </table>\r\n			    </section>\r\n\r\n			    <section>\r\n			      <md-subheader class=\"md-warn\">General Statistics</md-subheader> \r\n						<md-button ui-sref=\"stat\"><ng-md-icon icon=\"spellcheck\"></ng-md-icon>New entry</md-button>\r\n						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n							<thead>\r\n								<tr class=\"md-table-headers-row\">\r\n									<th class=\"md-table-header\">#</th>\r\n									<th class=\"md-table-header\">Key</th>\r\n									<th class=\"md-table-header\">Value</th>\r\n									<th class=\"md-table-header\"></th>\r\n								</tr>\r\n							</thead>\r\n\r\n							<tbody>\r\n\r\n								<tr ng-repeat=\"stat in detail.product.stats track by $index\" id=\"{{stat._id}}\"\r\n										class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>{{$index+1}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"stat.key\" aria-label=\"stats Key\">\r\n												<md-option ng-repeat=\"o in detail.options.statistics | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n										<input name=\"size\" ng-model=\"stat.val\" aria-label=\"Statistics\"/>\r\n											\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-button class=\"md-icon-button\" aria-label=\"Delete stat\" ng-click=\"detail.deleteStat($index,detail.product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td></td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<md-select ng-model=\"detail.product.stats[detail.product.stats.length].key\" aria-label=\"stats Key\">\r\n												<md-option ng-repeat=\"o in detail.options.statistics | unique: \'key\'\" value=\"{{o.key}}\">\r\n													{{o.key}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n\r\n											<input name=\"statistics\"  ng-model=\"detail.product.stats[detail.product.statistics.length].val\" aria-label=\"Statistics\"/>\r\n											\r\n										</md-input-container>\r\n									</td>\r\n									<td></td>\r\n								</tr>\r\n							</tbody>\r\n			      </table>\r\n			    </section>\r\n			    <section>\r\n			      <md-subheader class=\"md-accent\">Media Options</md-subheader>\r\n\r\n			   						<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n							<thead>\r\n								<tr class=\"md-table-headers-row\">\r\n									<th class=\"md-table-header\">#</th>\r\n									<th class=\"md-table-header\">Preview</th>\r\n									<th class=\"md-table-header\" width=\"400px\">Name</th>\r\n									<th class=\"md-table-header\" width=\"200px\">Dimensions</th>\r\n									<th class=\"md-table-header\" width=\"200px\">Fomart</th>\r\n									<th class=\"md-table-header\" width=\"100px\">Model</th>\r\n									<th class=\"md-table-header\" width=\"50px\">Price</th>\r\n									<th class=\"md-table-header\" width=\"20px\">Inventory</th>\r\n									<th class=\"md-table-header\" width=\"10px\">Image</th>\r\n									<th class=\"md-table-header\"></th>\r\n								</tr>\r\n							</thead>\r\n\r\n							<tbody>\r\n\r\n								<tr ng-repeat=\"v in detail.product.variants track by $index\" id=\"{{v._id}}\"\r\n										class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>{{$index+1}}</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<img ng-hide=\"v.image\" src=\"/assets/img/preview.png\" style=\"height:50px\" >\r\n											<img ng-if=\"v.image\" ng-src=\"{{v.image}}\" src=\"/assets/img/preview.png\" style=\"height:50px\">\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex style=\"width: 400px\">\r\n											<input name=\"size\" ng-model=\"v.name\" aria-label=\"Media Name\" width=\"400px\" />\r\n\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"size\" ng-model=\"v.size\" aria-label=\"Dimensions\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"weight\" ng-model=\"v.formart\" aria-label=\"Media Formart\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"mrp\" ng-model=\"v.model\" aria-label=\"Pricing Model\" />\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"price\" ng-model=\"v.price\" aria-label=\"Media Selling Price\" only-numbers/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"price\" ng-model=\"v.stockLevel\" aria-label=\"Media Selling Price\" only-numbers/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"image\" hidden ng-model=\"v.image\" aria-label=\"Media Preview\"/>\r\n											<ng-md-icon class=\"orange600\" ng-hide=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary($index)\"></ng-md-icon>\r\n											<ng-md-icon ng-show=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary($index)\"></ng-md-icon>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-button class=\"md-icon-button\" aria-label=\"Delete Feature\"   ng-click=\"detail.deleteVariants($index,product);\"><ng-md-icon icon=\"delete\"></ng-md-icon></md-button>\r\n									</td>\r\n								</tr>\r\n								<tr class=\"md-table-content-row\"\r\n										ng-class=\"{\'selected\': detail.isSelected(p)}\">\r\n									<td>&nbsp;</td>\r\n									<td>New</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"size\" ng-model=\"detail.product.newVariant.name\" aria-label=\"Media Name\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"size\" ng-model=\"detail.product.newVariant.size\" aria-label=\"Media Dimensions\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"weight\" ng-model=\"detail.product.newVariant.formart\" aria-label=\"Media Formart\"/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											\r\n											<md-select ng-model=\"detail.product.newVariant.model\" aria-label=\"Features Value\">\r\n												<md-option ng-repeat=\"o in detail.options.features | filter: \'Frequency\' | unique: \'val\'\" value=\"{{o.val}}\">\r\n													{{o.val}}\r\n												</md-option>\r\n											</md-select>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"price\" ng-model=\"detail.product.newVariant.price\" aria-label=\"Media Selling Price\" only-numbers/>\r\n										</md-input-container>\r\n									</td>\r\n\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"price\" ng-model=\"detail.product.newVariant.stockLevel\" aria-label=\"Media Selling Price\" only-numbers/>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n										<md-input-container flex>\r\n											<input name=\"image\" hidden ng-model=\"detail.product.newVariant.image\"  width=\"10px\" aria-label=\"Variant Image\"/>\r\n											<ng-md-icon class=\"orange600\" ng-hide=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary(1000000)\"></ng-md-icon>\r\n											<ng-md-icon ng-show=\"v.image\" icon=\"insert_photo\" ng-click=\"detail.mediaLibrary(1000000)\"></ng-md-icon>\r\n										</md-input-container>\r\n									</td>\r\n									<td>\r\n									</td>\r\n								</tr>\r\n							</tbody>\r\n			      </table>\r\n			    </section>\r\n\r\n			  </md-content>\r\n\r\n		<md-dialog-actions layout=\"row\">\r\n			<span flex></span>\r\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\r\n		</md-dialog-actions>\r\n		</form>\r\n\r\n	</section>\r\n\r\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\r\n\r\n		<span class=\"section-title\">Record Information</span>\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\r\n			<span flex>Modified\r\n				<span am-time-ago=\"detail.product.updated_at\"></span>\r\n				{{detail.product.updated_at && \'by \' + detail.product.uid}}\r\n				<md-tooltip>{{detail.product.updated_at | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\r\n			</span>\r\n		</span>\r\n\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\" ng-show=\"detail.product.created_at\">\r\n			<span flex=\"25\">Created</span>\r\n			<span flex>{{detail.product.created_at | date:\'dd. MMMM yyyy H:mm\'}}</span>\r\n		</span>\r\n\r\n	</section>\r\n\r\n<!--</md-content>-->\r\n\r\n<md-button class=\"md-fab md-accent md-fab-bottom-right fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Save Product\" ng-if=\"form.$dirty\" ng-click=\"detail.save(detail.product);\">\r\n	<ng-md-icon icon=\"save\"></ng-md-icon>\r\n</md-button>\r\n<script type=\"text/javascript\">\r\n	var inputs = document.querySelectorAll( \'.inputfile\' );\r\nArray.prototype.forEach.call( inputs, function( input )\r\n{\r\n	var label	 = input.nextElementSibling,\r\n		labelVal = label.innerHTML;\r\n\r\n	input.addEventListener( \'change\', function( e )\r\n	{\r\n		var fileName = \'\';\r\n		if( this.files && this.files.length > 1 )\r\n			fileName = ( this.getAttribute( \'data-multiple-caption\' ) || \'\' ).replace( \'{count}\', this.files.length );\r\n		else\r\n			fileName = e.target.value.split( \'\\\\\' ).pop();\r\n\r\n		if( fileName )\r\n			label.querySelector( \'span\' ).innerHTML = fileName;\r\n		else\r\n			label.innerHTML = labelVal;\r\n	});\r\n});\r\n</script>\r\n");
$templateCache.put("app/product/list.html","<a ng-click=\"main.create();\">\r\n	<md-button  show-gt-xs class=\"md-fab md-accent md-fab-top-left fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Create a new  {{list.header}}\" ng-if=\"!list.no.add\">\r\n		<ng-md-icon icon=\"add\"></ng-md-icon>\r\n	</md-button>\r\n</a>\r\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\r\n\r\n <!-- Add div For infinite scroll -->\r\n <md-content class=\"scroll products\">\r\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\' ng-if=\"list.data.length\">\r\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\r\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<h2 class=\"md-title\">List of {{list.header | labelCase}}s</h2>\r\n			  <div flex></div>\r\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\r\n				aria-label=\"Open filter box for {{list.header}}s table\">\r\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\r\n			  </md-button>\r\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\r\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\r\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\r\n	      </md-button>\r\n	      <md-menu-content width=\"4\">\r\n	        <md-menu-item>\r\n	          <md-button\r\n							ng-click=\"list.exportData(\'xls\');\"\r\n							aria-label=\"Export {{list.header}}s table as Excel\">\r\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\r\n	            Excel\r\n	          </md-button>\r\n	        </md-menu-item>\r\n					<md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header}}s table in JSON format\">\r\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\r\n	            JSON\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header}}s table in Text format\">\r\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\r\n	            Text\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n\r\n	      </md-menu-content>\r\n	    </md-menu>\r\n      </div>\r\n    </md-toolbar>\r\n\r\n		<md-toolbar class=\"md-table-toolbar md-default\"\r\n			ng-show=\"filter.show || list.data.search\"\r\n			aria-hidden=\"false\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<ng-md-icon icon=\"search\"></ng-md-icon>\r\n				<md-input-container flex class=\"mgt30\">\r\n		      <label>Filter {{list.header}}s</label>\r\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\">\r\n		    </md-input-container>\r\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\r\n			</div>\r\n		</md-toolbar>\r\n\r\n<div class=\"md-table-container\">\r\n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n		<thead>\r\n			<tr class=\"md-table-headers-row\">\r\n				<th class=\"md-table-header\"></th>\r\n				<th ng-repeat=\"h in list.cols track by $index\" class=\"md-table-header\">\r\n					<a href=\"#\" ng-click=\"reverse=!reverse;list.order(h.field)\" ng-if=\"!list.no.sort && !h.noSort\">\r\n						{{h.heading | labelCase}}\r\n<ng-md-icon 	icon=\"arrow_downward\"\r\n					options=\'{\"rotation\": \"counterclock\"}\'\r\n					ng-show=\"reverse && h.field === list.sort.predicate\"\r\n					class=\"s18\"></ng-md-icon>\r\n<ng-md-icon 	icon=\"arrow_upwards\"\r\n					ng-show=\"!reverse && h.field === list.sort.predicate\"\r\n					options=\'{\"rotation\": \"counterclock\"}\'></ng-md-icon>\r\n					</a>\r\n					<a href=\"#\" ng-if=\"list.no.sort || h.noSort\">\r\n						{{h.heading | labelCase}}\r\n					</a>\r\n				</th>\r\n				<th class=\"md-table-header\"></th>\r\n\r\n			</tr>\r\n\r\n		</thead>\r\n\r\n		<tbody>\r\n\r\n			<tr ng-repeat=\"p in filtered = ((list.data | orderBy:list.sort.predicate:list.sort.reverse) | filter:q | filter:list.data.search | limitTo: list.l) track by p._id\" id=\"{{p._id}}\"\r\n					class=\"md-table-content-row\"\r\n					ng-class=\"{\'selected\': list.isSelected(p)}\">\r\n				<td>\r\n					<md-button class=\"md-icon-button\" aria-label=\"More\" ng-click=\"list.showInDetails(p);\" ng-if=\"!list.no.edit\">\r\n	      	  <ng-md-icon icon=\"edit\"></ng-md-icon>\r\n	    	  </md-button>\r\n				</td>\r\n				<td>\r\n					<list-image ng-if=\"!p.logo.base64\" string=\"{{p.name}}\"></list-image>\r\n					<img ng-if=\"p.logo.base64\" data-ng-src=\"data:image/png;base64,{{p.logo.base64}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\" />\r\n				</td>\r\n				<td>\r\n					<a ng-click=\"list.gotoDetail(p)\">{{p.name}}</a>\r\n				</td>\r\n\r\n				<td>\r\n					<md-switch class=\"md-secondary\" ng-model=\"p.active\" ng-change=\"list.changeStatus(p)\" aria-label=\"p.active\"></md-switch>\r\n				</td>\r\n				<td>\r\n					<md-button class=\"md-icon-button\" aria-label=\"Delete\" ng-click=\"list.delete(p);\" ng-if=\"!list.no.delete\">\r\n	        	<ng-md-icon icon=\"delete\"></ng-md-icon>\r\n					</md-button>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n\r\n	</table>\r\n</div>\r\n <div class=\"md-table-pagination\">\r\n		<span>Filtered {{filtered.length}} of {{list.data.length}} {{list.header}}s</span>\r\n	</div>\r\n</md-card>\r\n </md-content>\r\n\r\n<a ng-click=\"main.create();\" ng-if=\"!list.no.add\"> \r\n	<md-button hide-gt-xs ui-sref=\"list.create\" class=\"md-fab md-accent md-fab-bottom-left\" aria-label=\"Create a new {{list.header}}\" ng-if=\"!list.no.add\">\r\n		<ng-md-icon icon=\"add\"></ng-md-icon>\r\n	</md-button>\r\n</a>\r\n	<md-card ng-if=\"list.data.length===0 && !list.loading\">\r\n	  <md-card-content>\r\n	    <h2>No {{list.header | labelCase}}s found</h2>\r\n	    <p class=\"mgl\" hide-xs>\r\n				There are no {{list.header | labelCase}}s!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	    <p hide-gt-xs>\r\n				There are no {{list.header | labelCase}}s!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	  </md-card-content>\r\n	</md-card>\r\n");
$templateCache.put("app/product/main.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex layout=\"column\" class=\"content\">\r\n<section layout=\"row\">\r\n\r\n		<div ui-view=\"content\" layout=\"column\" flex></div>\r\n\r\n		<md-content\r\n			ui-view=\"detail\"\r\n			id=\"detail-content\"\r\n			toggle-component\r\n			md-component-id=\"products.detailView\"\r\n			layout=\"column\"\r\n			flex-xs=\"100\"\r\n			flex-sm = \"90\"\r\n			flex-md=\"90\"\r\n			flex-lg=\"66\"\r\n			flex-gt-lg=\"66\"\r\n			class=\"md-whiteframe-z1\">\r\n		</md-content>\r\n</section>\r\n</md-content>\r\n<footer></footer>\r\n\r\n");
$templateCache.put("app/product/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\r\n  <md-toolbar class=\"md-warn\">\r\n    <div class=\"md-toolbar-tools\">\r\n      <h2>Media Library</h2>\r\n      <span flex></span>\r\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\r\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n      </md-button>\r\n    </div>\r\n  </md-toolbar>\r\n\r\n  <md-dialog-content>\r\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\r\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\r\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\r\n          		<div class=\"thumbnail\">\r\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\r\n          		</div>\r\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\r\n            </md-grid-tile>\r\n          </md-grid-list>\r\n    </div>\r\n  </md-dialog-content>\r\n  <md-dialog-actions layout=\"row\">\r\n    <span flex></span>\r\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\r\n     Add new Image\r\n    </md-button>\r\n  </md-dialog-actions>\r\n</md-dialog>\r\n");
$templateCache.put("app/product/product.html","<products api=\'product\' options=\'summary\' details=\'details\'></products>\r\n");
$templateCache.put("app/product-efficiency/product-efficiency.html","<div id=\"main-section-header\" class=\"row\">\r\n    <h2 id=\"team-efficiency\" class=\"col-xs-3\">Team efficiency</h2>\r\n    <div id=\"dateFilter\" class=\"col-xs-9\">\r\n        <div class=\"period-wrapper\">\r\n            <label for=\"StartDate\" class=\"select-period\">Stats from</label>\r\n            <input id=\"start-date\" kendo-date-picker k-ng-model=\"teamEfficiency.startDate\">\r\n        </div>\r\n        <div class=\"period-wrapper\">\r\n            <label for=\"EndDate\" class=\"select-period\">To</label>\r\n            <input id=\"end-date\" kendo-date-picker k-ng-model=\"teamEfficiency.endDate\">\r\n        </div>\r\n    </div>\r\n    <div style=\"clear:both;\"></div>\r\n</div>\r\n\r\n<div class=\"main-section-content row\" style=\"\">\r\n    <div id=\"employee-list\" class=\"col col-xs-2\">\r\n        <h3>TEAM MEMBERS</h3>\r\n        <div id=\"employees-list\"\r\n            kendo-list-view\r\n            k-selectable=\"\'single\'\"\r\n            k-data-source=\"teamEfficiency.employeeListDataSource\"\r\n            k-on-change=\"teamEfficiency.changeCurrentEmployee(dataItem)\"\r\n        >\r\n           <div class=\"employee\" k-template>\r\n               <div class=\"employee-wrapper\">\r\n                   <img ng-src=\"./Content/Employees/{{dataItem.EmployeeID}}-t.png\" class=\"img-responsive employee-list-image\"/>\r\n                   <dl class=\"employee-list-details\">\r\n                       <dt class=\"name\">{{dataItem.FirstName}} {{dataItem.LastName}}</dt>\r\n                       <dd class=\"title\">{{dataItem.Title}}</dd>\r\n                   </dl>\r\n               </div>\r\n           </div>\r\n        </div>\r\n    </div>\r\n    <div id=\"employee-details-wrapper\" class=\"col col-xs-10\">\r\n        <div id=\"employee-details\" class=\"row\">\r\n            <div id=\"employee-about\" class=\"col-xs-12 placeholder\">\r\n                <div class=\"row\">\r\n                    <div id=\"employeeBio\" class=\"col-xs-12 col-sm-4\">\r\n                        <div>\r\n                            <h3>ABOUT</h3>\r\n                            <img ng-src=\"./Content/Employees/{{teamEfficiency.currentEmployee.EmployeeID}}.png\" class=\"img-responsive employee-details-image\" />\r\n                            <dl class=\"employee-bio-details\">\r\n                                <dt class=\"name\">{{teamEfficiency.currentEmployee.FirstName}} {{teamEfficiency.currentEmployee.LastName}}</dt>\r\n                                <dd class=\"title\">{{teamEfficiency.currentEmployee.Title}}</dd>\r\n                                <dd class=\"phone\"><span class=\"icon icon-mobile\"></span>{{teamEfficiency.currentEmployee.HomePhone}}</dd>\r\n                           </dl>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-xs-12 col-sm-4\">\r\n                        <h3>Quarter to date sales</h3>\r\n                        <span id=\"employee-quarter-sales-label\">{{teamEfficiency.currentEmployeeQuarterSales | currency }}</span>\r\n                        <div class=\"sparkline-container\">\r\n                            <div id=\"employee-quarter-sales\" style=\"height:30px\"\r\n                                kendo-chart\r\n                                k-theme=\"\'metro\'\"\r\n                                k-tooltip=\"false\"\r\n                                k-data-source=\"teamEfficiency.employeeQuarterSalesDataSource\"\r\n                                k-series=\"[{type:\'bullet\',currentField:\'Current\',targetField:\'Target\'}]\"\r\n                                k-legend=\"{visible:false}\"\r\n                                k-category-axis=\"{labels:{visible:false},majorGridLines:{visible:false}}\"\r\n                                k-value-axis=\"{type:\'numeric\',labels:{visible:false},majorTicks:{visible:false},majorGridLines:{visible:false}}\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-xs-12 col-sm-4\">\r\n                        <h3>Monthly Average Sales</h3>\r\n                        <span id=\"employee-average-sales-label\">{{teamEfficiency.currentEmployeeAverageSalesNumber | currency }}</span>\r\n                        <div class=\"sparkline-container\">\r\n                            <div id=\"employee-average-sales\" style=\"height:30px\"\r\n                                kendo-chart\r\n                                k-theme=\"\'metro\'\"\r\n                                k-series=\"[{type:\'line\',field:\'EmployeeSales\',width:1.5,markers:{visible:false}}]\"\r\n                                k-category-axis=\"{type:\'date\',field:\'Date\',visible:false,majorGridLines:{visible:false},majorTicks:{visible:false}}\"\r\n                                k-legend=\"{visible:false}\"\r\n                                k-data-source=\"teamEfficiency.employeeAverageSalesDataSource\"\r\n                                k-value-axis=\"{type:\'numeric\',visible:false,labels:{visible:false},majorGridLines:{visible:false},majorTicks:{visible:false}}\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"employeeStats\" class=\"col-xs-12\">\r\n                <div id=\"team-sales\" style=\"height:200px\"\r\n                    kendo-chart\r\n                    k-theme=\"\'metro\'\"\r\n                    k-title=\"{text:\'REPRESENTATIVE SALES VS. TOTAL SALES\',align:\'left\',font:\'11px\',color:\'#35373d\'}\"\r\n                    k-data-source=\"teamEfficiency.employeeTeamSalesDataSource\"\r\n                    k-legend=\"{position:\'bottom\'}\"\r\n                    k-series=\"[{field:\'EmployeeSales\',categoryField:\'Date\',name:\'Employee Sales\',aggregate:\'sum\'},{field:\'TotalSales\',categoryField:\'Date\',name:\'Team Sales\',aggregate:\'sum\'}]\"\r\n                    k-category-axis=\"{type:\'date\',baseUnit:\'months\',majorGridLines:{visible:false}}\"\r\n                    k-value-axis=\"{labels:{format:\'{0:c2}\',visible:false},majorUnit:25000,line:{visible:false},majorGridLines:{visible:false}}\"\r\n                    k-tooltip=\"{visible:true,format:\'{0:c2}\'}\">\r\n                </div>\r\n            </div>\r\n            <div id=\"employeeSchedule\" class=\"col-xs-12\">\r\n                <h3>Representative orders - schedule</h3>\r\n                <div id=\"employee-sales\"\r\n                    kendo-scheduler\r\n                    k-date=\"teamEfficiency.currentDate\"\r\n                    k-views=\"[\'month\']\"\r\n                    k-editable=\"false\"\r\n                    k-timezone=\"Etc/UTC\"\r\n                    k-data-source=\"teamEfficiency.employeeSalesDataSource\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
$templateCache.put("app/products-orders/products-orders.html","<!--open main column-->\r\n<div id=\"main-section-header\" class=\"row\">\r\n    <h2 id=\"team-efficiency\" class=\"col-xs-3\">PRODUCTS & ORDERS</h2>\r\n    <div style=\"clear:both;\"></div>\r\n</div>\r\n<div id=\"orders\"\r\n    kendo-grid\r\n    k-data-source=\"productsOrders.ordersDataSource\"\r\n    k-columns=\"productsOrders.ordersColumns\"\r\n    k-sortable=\"true\"\r\n    k-pageable=\"true\"\r\n    k-navigatable=\"true\"\r\n    k-filterable=\"true\"\r\n    k-selectable=\"\'column\'\"\r\n>\r\n<div k-detail-template>\r\n    <h4>Details for order {{ dataItem.OrderID }} </h4>\r\n    <div class=\"tabstrip\" kendo-tab-strip>\r\n        <ul>\r\n            <li class=\"k-state-active\">\r\n                PRODUCTS\r\n            </li>\r\n            <li>\r\n                SHIPPING DETAILS\r\n            </li>\r\n        </ul>\r\n        <div class=\"details-grid\"\r\n            style=\"height: 200px\"\r\n            kendo-grid\r\n            k-columns=\"productsOrders.productsColumns\"\r\n            k-data-source=\"productsOrders.productDataSource(dataItem.OrderID)\">\r\n            <div k-detail-template>\r\n                <div class=\"product-details-wrapper row\">\r\n                    <div class=\"product-details col-xs-3\">\r\n                        <img src=\"./Content/Products/{{dataItem.ProductID}}.jpg\" class=\"product-details-image\">\r\n                        <div class=\"product-name-cat\">\r\n                            <div class=\"product-name\">{{productsOrders.product(dataItem.ProductID).ProductName}}</div>\r\n                            <div class=\"product-category\">{{productsOrders.product(dataItem.ProductID).Category}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"product-details col-xs-3\">\r\n                        <h5>Orders QTY.</h5>\r\n                        <div class=\"sparkline-container\">\r\n                            <!-- escape template to prevent the grid from executing it -->\r\n                            <div class=\"details-sparkline\"\r\n                                kendo-sparkline\r\n                                k-theme=\"\'metro\'\"\r\n                                k-type=\"\'column\'\"\r\n                                k-data-source=\"productsOrders.productSalesDataSource(dataItem.ProductID)\"\r\n                                k-series=\"[{categoryField:\'Date\',aggregate:\'count\',gap:0.2,field:\'Quantity\',tooltip:{template:\'QUANTITY: \\\\\\\\#= value \\\\\\\\#\'}}]\"\r\n                                k-category-axis=\"{type:\'date\',visible:true,labels:{visible:false},majorTicks:{visible:false},baseUnit:\'months\',line:{visible:true,color:\'black\'}}\"\r\n                                k-value-axis=\"{line:{visible:true}}\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"product-details col-xs-1\">\r\n                        <h5>In stock</h5>\r\n                        <span class=\"details-stock\">{{productsOrders.product(dataItem.ProductID).UnitsInStock}}</span>\r\n                    </div>\r\n                    <div class=\"product-details col-xs-1\">\r\n                        <h5>In order</h5>\r\n                        <span class=\"details-orders\">{{productsOrders.product(dataItem.ProductID).UnitsOnOrder}}</span>\r\n                    </div>\r\n                    <div class=\"product-details col-xs-1\">\r\n                        <h5>Reorder</h5>\r\n                        <span class=\"details-re-order\">{{productsOrders.product(dataItem.ProductID).ReorderLevel}}</span>\r\n                    </div>\r\n                    <div class=\"product-details col-xs-3\">\r\n                        <h5>Qty. per unit</h5>\r\n                        <span class=\"details-re-order\">{{productsOrders.product(dataItem.ProductID).ReorderLevel}}</span><span class=\"product-metric\">kg pkg.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n             <div class=\'shipping-details\'>\r\n                 <ul>\r\n                     <li><label>Name:</label>{{dataItem.ShipName}}</li>\r\n                     <li><label>Country:</label>{{dataItem.ShipCountry}}</li>\r\n                     <li><label>City:</label>{{dataItem.ShipCity}}</li>\r\n                     <li><label>Address:</label>{{dataItem.ShipAddress}}</li>\r\n                     <li><label>Postal Code:</label>{{dataItem.ShipPostalCode}}</li>\r\n                 </ul>\r\n             </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n");
$templateCache.put("app/regional-sales/regional-sales.html","<!--open main column-->\r\n<div id=\"main-section-header\" class=\"row\">\r\n    <h2 id=\"team-efficiency\" class=\"col-xs-3\">Regional sales status</h2>\r\n    <div id=\"dateFilter\" class=\"col-xs-9\">\r\n        <div class=\"period-wrapper\">\r\n            <label for=\"start-date\" class=\"select-period\">Stats from</label>\r\n            <input id=\"start-date\" kendo-date-picker k-ng-model=\"regionalSales.startDate\">\r\n            <span class=\"k-invalid-msg\" data-for=\"start-date\"></span>\r\n        </div>\r\n        <div class=\"period-wrapper\">\r\n            <label for=\"end-date\" class=\"select-period\">To</label>\r\n            <input id=\"end-date\" kendo-date-picker k-ng-model=\"regionalSales.endDate\">\r\n            <span class=\"k-invalid-msg\" data-for=\"end-date\" ></span>\r\n        </div>\r\n    </div>\r\n    <div style=\"clear:both;\"></div>\r\n</div>\r\n\r\n<div id=\"regional-sales\" class=\"main-section-content row\">\r\n    <div id=\"map-wrapper\" class=\"row\">\r\n        <div id=\"map-details\" class=\"col-xs-2\">\r\n            <h3 class=\"section-header\">Pick a Country to view stats</h3>\r\n            <h3 class=\"section-header\">COUNTRY</h3>\r\n            <h2 id=\"countryName\">{{regionalSales.selectedCountry}}</h2>\r\n            <h3 class=\"section-header\">CUSTOMERS</h3>\r\n            <div id=\"countryCustomers\">\r\n                <span>{{regionalSales.currentCustomers.join(\", \")}}</span>\r\n            </div>\r\n        </div>\r\n        <div id=\"map-container\" class=\"col-xs-10\">\r\n            <div id=\"map\" kendo-map\r\n                k-layers=\"regionalSales.mapLayers\"\r\n                k-center=\"[50.00, 0]\"\r\n                k-zoom=\"2\"\r\n                k-zoomable=\"false\"\r\n                k-on-shape-created=\"regionalSales.shapeCreated(kendoEvent)\"\r\n                k-on-shape-mouse-enter=\"regionalSales.shapeMouseEnter(kendoEvent)\"\r\n                k-on-shape-mouse-leave=\"regionalSales.shapeMouseLeave(kendoEvent)\"\r\n                k-on-shape-click=\"regionalSales.shapeClick(kendoEvent)\"\r\n                ></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"statsContainer\" class=\"row\">\r\n        <div id=\"marketShareContainer\" class=\"col-xs-3 stats-graph\">\r\n            <h3 class=\"section-header\">Market share</h3>\r\n            <span id=\"market-share-label\">{{ regionalSales.percentage }}</span>\r\n            <div class=\"sparkline-container\">\r\n                <div id=\"market-share\"\r\n                    style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                    kendo-chart\r\n                    k-theme=\"\'metro\'\"\r\n                    k-legend=\"{visible:false}\"\r\n                    k-data-source=\"regionalSales.marketDataSource\"\r\n                    k-series-defaults=\"{type:\'donut\'}\"\r\n                    k-series=\"[{field:\'sales\', categoryField:\'country\'}]\"\r\n                    k-tooltip=\"{visible:true, template:\'#= dataItem.country #: #= kendo.toString(dataItem.sales, \\\'c2\\\') #\'}\"\r\n                ></div>\r\n                <div id=\"market-share-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                    <div>No data available</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"revenueContainer\" class=\"col-xs-3 stats-graph\">\r\n            <h3 class=\"section-header\">Revenue</h3>\r\n            <span id=\"revenue-label\">{{ regionalSales.revenue }}</span>\r\n            <div class=\"sparkline-container\">\r\n                <div id=\"revenue\"\r\n                    style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                    kendo-sparkline\r\n                    k-theme=\"\'metro\'\"\r\n                    k-data-source=\"regionalSales.revenueDataSource\"\r\n                    k-type=\"\'column\'\"\r\n                    k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                    k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                    k-tooltip=\"{template: \'#=kendo.toString(value, \\\'c2\\\')#\'}\"\r\n                ></div>\r\n                <div id=\"revenue-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                    <div>No data available</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"ordersContainer\" class=\"col-xs-3 stats-graph\">\r\n            <h3 class=\"section-header\">Orders</h3>\r\n            <span id=\"orders-label\">{{regionalSales.currentOrders.length}}</span>\r\n            <div class=\"sparkline-container\">\r\n                <div id=\"orders\" style=\"height:100px\"\r\n                    style=\"height: 100px; visibility:{{ regionalSales.currentOrders.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                    kendo-sparkline\r\n                    k-theme=\"\'metro\'\"\r\n                    k-data-source=\"regionalSales.ordersDataSource\"\r\n                    k-type=\"\'column\'\"\r\n                    k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                    k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                ></div>\r\n                <div id=\"orders-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentOrders.length > 0\">\r\n                    <div>No data available</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"customersContainer\" class=\"col-xs-3 stats-graph\">\r\n            <h3 class=\"section-header\">Customers</h3>\r\n            <span id=\"customers-label\">{{regionalSales.currentCustomers.length}}</span>\r\n            <div class=\"sparkline-container\">\r\n                <div id=\"customers\"\r\n                    style=\"height: 100px; visibility:{{ regionalSales.currentCustomers.length > 0 ? \'visible\': \'hidden\' }}\"\r\n                    kendo-sparkline\r\n                    k-theme=\"\'metro\'\"\r\n                    k-data-source=\"regionalSales.customersDataSource\"\r\n                    k-type=\"\'column\'\"\r\n                    k-series=\"[{categoryField:\'date\',aggregate:\'sum\',color:\'#1996e4\',gap:0.2,field:\'value\'}]\"\r\n                    k-category-axis=\"{type: \'date\', baseUnit: \'months\'}\"\r\n                ></div>\r\n                <div id=\"customers-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentCustomers.length > 0\">\r\n                    <div>No data available</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"topProductsContainer\">\r\n        <h3 class=\"section-header\">Top selling products</h3>\r\n        <div id=\"top-selling-products\"\r\n             style=\"height: 260px; visibility:{{ regionalSales.currentTopSellingProducts.length > 0 ? \'visible\': \'hidden\' }}\"\r\n             kendo-chart\r\n             k-theme=\"\'metro\'\"\r\n             k-data-source=\"regionalSales.topSellingProductsDataSource\"\r\n             k-legend=\"{visible:true, position:\'top\'}\"\r\n             k-chart-area=\"{background:\'#eeeeee\'}\"\r\n             k-series-defaults=\"{type: \'line\',style: \'smooth\'}\"\r\n             k-series=\"[{field:\'quantity\',markers:{visible:false}}]\"\r\n             k-category-axis=\"[{majorGridLines:{visible:false},line:{width:0},labels:{visible:false}}]\"\r\n             k-value-axis=\"{majorUnit:50,majorTicks:{visible:false},majorGridLines:{visible:false},line:{visible:false},labels:{visible:false}}\"\r\n             k-tooltip=\"{visible:true,template:\'#=data.series.name.replace(data.series.field, data.value)#\'}\"\r\n        ></div>\r\n        <div id=\"products-no-data\" class=\"overlay\" ng-hide=\"regionalSales.currentTopSellingProducts.length > 0\">\r\n            <div>No data available</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n");
$templateCache.put("app/review/review.html","<crud-table api=\'review\' options=\'review.options\' sort=\"created\" noAdd noEdit noCopy></crud-table>\r\n\r\n");
$templateCache.put("app/reviews/reviews.html","<crud-table api=\'review\' options=\'reviews.options\' sort=\"created\"></crud-table>\r\n\r\n");
$templateCache.put("app/shipping/shipping.html","<crud-table api=\'shipping\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/statistic/statistic.html","<crud-table api=\'statistic\' options=\'options\'></crud-table>\r\n");
$templateCache.put("app/wish/wish.html","<navbar></navbar>\r\n<div layout=\"column\" layout-align=\"center center\">\r\n<div layout=\"column\" layout-align=\"center stretch\" flex-xs=\"100\" flex-gt-xs=\"75\" flex-gt-md=\"50\">\r\n<md-card ng-repeat=\"w in wish.wishes\" class=\"wishlist\" layout=\"row\" layout-align=\"space-between top\">\r\n    \r\n    <md-card-title>\r\n        <md-card-title-media>\r\n            <div class=\"md-media-lg card-media\">\r\n                <img src=\"{{w.variant.image}}\" alt=\"{{w.product.name}}\">\r\n            </div>\r\n        </md-card-title-media>\r\n        <md-card-title-text>\r\n            <div class=\"product-description\">\r\n                <h2 class=\"name\" ng-click=\"wish.gotoDetail(w)\">{{w.product.name}}</a></h2>\r\n                <md-divider></md-divider><br/>\r\n            </div>\r\n            <div layout=\"row\" class=\"wish-content\">\r\n                <div class=\"price\" flex=50>\r\n                    <div class=\"price\">Price: <span class=\"text-muted\">{{w.variant.price | currency : vm.Settings.currency.symbol}}</span></div>\r\n                    <del ng-if=\"w.variant.price!=w.variant.mrp\">\r\n                        MRP: {{w.variant.mrp | currency : vm.Settings.currency.symbol}}\r\n                    </del>   (Size: {{w.variant.size}})\r\n                    <br/>\r\n                    <div layout=\"row\" layout-align=\"start center\">    \r\n                        <cart-buttons pid= \"w.product._id\" variant=\"w.variant\" product=\"w.product\"></cart-buttons>\r\n                    </div>\r\n                </div>\r\n                <div flex>\r\n                    <div ng-if=\"w.product.keyFeatures.length>0\">\r\n                        <b>Key Features:</b>\r\n                        <ul>\r\n                            <li ng-repeat=\"k in w.product.keyFeatures\"><b>{{k.key}}</b> : {{k.val}}</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </md-card-title-text>\r\n    </md-card-title>\r\n    <a aria-label=\"Remove {{w.product.name}} from wishlist\" ng-click=\"wish.remove(w)\">\r\n        <ng-md-icon icon=\"close\"></ng-md-icon>\r\n    </a>\r\n</md-card>\r\n</div>\r\n</div>\r\n<footer></footer>");
$templateCache.put("components/calendar/calendar.html","<script type=\"text/ng-template\" id=\"/modal.datepicker.html\">\r\n\r\n<md-dialog aria-label=\"\" class=\"md-datepicker\" ng-class=\"{ \'portrait\': !$mdMedia(\'gt-md\') }\">\r\n  <md-dialog-content layout=\"row\" layout-wrap>\r\n\r\n    <div layout=\"column\" layout-align=\"start center\">\r\n      <md-toolbar layout-align=\"center center\" class=\"md-datepicker-dow md-primary\"><span>{{ datepicker.currentMoment.format(\"dddd\") }}</span></md-toolbar>\r\n      <md-toolbar layout-align=\"center center\" class=\"md-datepicker-date md-hue-1 md-primary\" layout=\"column\">\r\n        <div class=\"md-datepicker-month\">{{ datepicker.currentMoment.format(\"MMM\") }}</div>\r\n        <div class=\"md-datepicker-day\">{{ datepicker.currentMoment.format(\"DD\") }}</div>\r\n        <md-select class=\"md-datepicker-year\" placeholder=\"{{ datepicker.currentMoment.format(\'YYYY\') }}\" ng-model=\"year\" ng-change=\"datepicker.setYear()\">\r\n          <md-option ng-value=\"year\" ng-repeat=\"year in yearsOptions\">{{ year }}</md-option>\r\n        </md-select>\r\n      </md-toolbar>\r\n    </div>\r\n\r\n    <div layout=\"column\" layout-align=\"start center\" class=\"md-datepicker-calendar\">\r\n      <div layout=\"row\" layout-align=\"space-between center\" class=\"md-datepicker-monthyear\">\r\n        <md-button aria-label=\"mese precedente\" class=\"md-icon-button\" ng-click=\"datepicker.prevMonth()\">\r\n          <ng-md-icon icon=\"chevron_left\"></ng-md-icon>\r\n        </md-button>\r\n        {{ datepicker.currentMoment.format(\"MMMM YYYY\") }}\r\n        <md-button aria-label=\"mese successivo\" class=\"md-icon-button\" ng-click=\"datepicker.nextMonth()\">\r\n          <ng-md-icon icon=\"chevron_right\"></ng-md-icon>\r\n        </md-button>\r\n      </div>\r\n      <div layout=\"row\" layout-align=\"space-around center\" class=\"md-datepicker-week-days\">\r\n        <div layout layout-align=\"center center\" ng-repeat=\"d in datepicker.weekDays track by $index\">{{ d }}</div>\r\n      </div>\r\n\r\n      <div layout=\"row\" layout-wrap class=\"md-datepicker-days\">\r\n        <div layout layout-align=\"center center\" ng-repeat-start=\"n in datepicker.getDaysInMonth() track by $index\">\r\n          <md-button aria-label=\"seleziona giorno\" ng-if=\"n !== false\" ng-class=\"{\'md-accent\': datepicker.currentMoment.date() == n}\" ng-click=\"datepicker.selectDate(n)\">{{ n }}</md-button>\r\n        </div>\r\n        <div flex ng-if=\"($index + 1) % 7 == 0\" ng-repeat-end></div>\r\n      </div>\r\n    </div>\r\n  </md-dialog-content>\r\n  <div class=\"md-actions\" layout=\"row\">\r\n    <md-button ng-click=\"datepicker.cancel()\" aria-label=\"cancel\">Cancel</md-button>\r\n    <md-button ng-click=\"datepicker.confirm()\" aria-label=\"ok\">Select</md-button>\r\n  </div>\r\n</md-dialog>\r\n</script>\r\n");
$templateCache.put("components/crud-table/detail.html","<md-toolbar class=\"md-hue-1\" id=\"user-detail-toolbar\">\r\n	<span layout=\"row\" layout-align=\"space-between\" class=\"md-toolbar-tools md-toolbar-tools-top\">\r\n		<md-button ng-click=\"detail.goBack();\" aria-label=\"Close detail view\">\r\n			<ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n		</md-button>\r\n		<h3>Edit {{detail.header | labelCase}} - {{detail.item._id}}</h3>\r\n		<md-button aria-label=\"-\">\r\n		</md-button>\r\n	</span>\r\n</md-toolbar>\r\n<md-content class=\"md-padding\" flex id=\"user-detail-content\">\r\n	<section class=\"section\" layout=\"column\">\r\n\r\n		<span class=\"section-title\">Edit</span>\r\n\r\n<form name=\"detailForm\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"detail.edit(detail.item);detail.goBack();\" novalidate autocomplete=\"off\">\r\n		<span layout=\"row\" layout-sm=\"column\" ng-repeat=\"i in detail.columns\" ng-if=\"detail.columns\" ng-switch=\"i.dataType\">\r\n\r\n			<md-input-container flex ng-switch-when=\"parseFloat\">\r\n				<label>{{i.heading | labelCase}}</label>\r\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.noEdit\" only-numbers md-autofocus=\"$index === 0\">\r\n			</md-input-container>\r\n\r\n			<md-input-container md-no-float class=\"md-block\" flex ng-switch-when=\"image\">\r\n				<label>{{i.heading | labelCase}} URL</label>\r\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.noEdit\" md-autofocus=\"$index === 0\">\r\n				<ng-md-icon icon=\"insert_photo\" ng-click=\"detail.mediaLibrary()\"></ng-md-icon>\r\n			</md-input-container>\r\n\r\n			<md-input-container flex ng-switch-when=\"boolean\">\r\n				<section class=\"section slim\" layout=\"column\">\r\n					<span layout=\"row\" layout-align=\"start center\">\r\n						<span flex=\"33\"><label>{{i.heading | labelCase}}</label></span>\r\n						<md-switch name=\"{{i.field}}\" aria-label=\"active\" ng-model=\"detail.item[i.field]\"\r\n						ng-disabled=\"i.noEdit\"></md-switch>\r\n					</span>\r\n				</section>\r\n				<span flex=\"33\"></span>\r\n			</md-input-container>\r\n			<md-input-container flex ng-switch-when=\"date\">\r\n				<label>{{i.heading | labelCase}}</label>\r\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" type=\'calendar\' ng-disabled=\"i.noEdit\"/>\r\n\r\n			</md-input-container>\r\n\r\n			<md-input-container flex ng-switch-when=\"dropdown\" class=\"dropdown\">\r\n        <label>{{i.heading | labelCase}}</label>\r\n        <md-select ng-model=\"detail.item[i.field]\">\r\n          <md-option ng-repeat=\"o in i.options\" value=\"{{o}}\">\r\n            {{o}}\r\n          </md-option>\r\n        </md-select>\r\n      </md-input-container>\r\n\r\n			<md-input-container flex ng-switch-when=\"textarea\">\r\n        <label>{{i.heading | labelCase}}</label>\r\n        <textarea name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noEdit\" md-autofocus=\"$index === 0\"></textarea>\r\n      </md-input-container>\r\n\r\n			<md-input-container flex ng-switch-default>\r\n				<label>{{i.heading | labelCase}}</label>\r\n				<input name=\"{{i.field}}\" ng-model=\"detail.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noEdit\" md-autofocus=\"$index === 0\">\r\n			</md-input-container>\r\n\r\n		</span>\r\n\r\n		<md-dialog-actions layout=\"row\">\r\n			<span flex></span>\r\n			<md-button ng-disabled=\"detailForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Save changes\">Save</md-button>\r\n		</md-dialog-actions>\r\n		</form>\r\n\r\n	</section>\r\n\r\n	<section class=\"section\" layout=\"column\" ng-hide=\"detail.isRoot\">\r\n\r\n		<span class=\"section-title\">Record Information</span>\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\r\n			<span flex=\"45\">Modified</span>\r\n			<span flex ng-show=\"detail.item.updatedAt\" class=\"subtitle\">\r\n				<span am-time-ago=\"detail.item.updatedAt\"></span>\r\n				<md-tooltip>{{detail.item.updatedAt | date:\'dd. MMMM yyyy H:mm\'}}</md-tooltip>\r\n				{{detail.item.modifiedBy && \'by \' + detail.item.modifiedBy}}\r\n			</span>\r\n		</span>\r\n\r\n		<span layout=\"row\" layout-sm=\"column\" class=\"detail-info\">\r\n			<span flex=\"45\">Created</span>\r\n			<span flex ng-show=\"detail.item.createdAt\" class=\"subtitle\">{{detail.item.createdAt | date:\'dd. MMMM yyyy H:mm\'}}</span>\r\n		</span>\r\n\r\n	</section>\r\n\r\n</md-content>\r\n");
$templateCache.put("components/crud-table/list.html","<a ng-click=\"main.create();\">\r\n	<md-button  show-gt-xs class=\"md-fab md-accent md-fab-top-left fab-overlap md-button ng-scope md-blue-theme\" aria-label=\"Create a new  {{list.header}}\" ng-if=\"!list.no.add\">\r\n		<md-tooltip>Add new {{list.header | labelCase}}</md-tooltip>\r\n        <ng-md-icon icon=\"add\"></ng-md-icon>\r\n	</md-button>\r\n</a>\r\n<md-progress-linear md-mode=\"indeterminate\" ng-show=\"list.loading\"></md-progress-linear>\r\n\r\n <!-- Add div For infinite scroll -->\r\n	<md-card infinite-scroll=\'list.loadMore()\' infinite-scroll-disabled=\'list.busy\' infinite-scroll-distance=\'1\' ng-if=\"list.data.length\">\r\n		<md-toolbar class=\"md-table-toolbar md-default\" aria-hidden=\"false\"\r\n		ng-hide=\"list.selected.length || filter.show || list.data.search\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<h2 class=\"md-title\">List of {{list.header | labelCase | pluralize}}</h2>\r\n			  <div flex></div>\r\n			  <md-button tabindex=\"0\" ng-click=\"filter.show = true;\" class=\"md-icon-button md-button md-default-theme\" ng-show=\"!list.no.filter\"\r\n				aria-label=\"Open filter box for {{list.header | labelCase  | pluralize}} table\">\r\n		        <md-tooltip md-direction=\"left\">Filter {{list.header | labelCase | pluralize}}</md-tooltip>\r\n			    <ng-md-icon icon=\"filter_list\"></ng-md-icon>\r\n			  </md-button>\r\n				<md-menu md-position-mode=\"target-right target\" ng-if=\"!list.no.export\">\r\n	      <md-button aria-label=\"Open options menu\" class=\"md-icon-button\" ng-click=\"list.openMenu($mdOpenMenu, $event)\">\r\n		    <md-tooltip md-direction=\"left\">Export all {{list.header | labelCase | pluralize}}</md-tooltip>\r\n	        <ng-md-icon icon=\"inbox\"></ng-md-icon>\r\n	      </md-button>\r\n	      <md-menu-content width=\"4\">\r\n	        <md-menu-item>\r\n	          <md-button\r\n							ng-click=\"list.exportData(\'xls\');\"\r\n							aria-label=\"Export {{list.header | labelCase  | pluralize}} table as Excel\">\r\n	            <ng-md-icon icon=\"receipt\"></ng-md-icon>\r\n	            Excel\r\n	          </md-button>\r\n	        </md-menu-item>\r\n					<md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'json\');\" aria-label=\"Export {{list.header | labelCase  | pluralize}} table in JSON format\">\r\n	            <ng-md-icon icon=\"account_balance_wallet\"></ng-md-icon>\r\n	            JSON\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n	        <md-menu-item>\r\n	          <md-button ng-click=\"list.exportData(\'txt\');\" aria-label=\"Export {{list.header | labelCase  | pluralize}} table in Text format\">\r\n	            <ng-md-icon icon=\"text_format\"></ng-md-icon>\r\n	            Text\r\n	          </md-button>\r\n	        </md-menu-item>\r\n	        <md-menu-divider></md-menu-divider>\r\n\r\n	      </md-menu-content>\r\n	    </md-menu>\r\n      </div>\r\n    </md-toolbar>\r\n\r\n		<md-toolbar class=\"md-table-toolbar md-default\"\r\n			ng-show=\"filter.show || list.data.search\"\r\n			aria-hidden=\"false\">\r\n      <div class=\"md-toolbar-tools\">\r\n				<ng-md-icon icon=\"search\"></ng-md-icon>\r\n				<md-input-container flex class=\"mgt30\">\r\n		      <label>Filter {{list.header | labelCase  | pluralize}}</label>\r\n		      <input ng-model=\"list.data.search\" focus-me=\"filter.show\">\r\n		    </md-input-container>\r\n				<ng-md-icon icon=\"close\" ng-click=\"filter.show = false; list.data.search = \'\';\" class=\"link\"></ng-md-icon>\r\n			</div>\r\n		</md-toolbar>\r\n\r\n<div class=\"md-table-container\">\r\n	<table md-colresize=\"md-colresize\" class=\"md-table\" id=\"exportable\">\r\n		<thead>\r\n			<tr class=\"md-table-headers-row\">\r\n				<th class=\"md-table-header\"></th>\r\n				<th ng-repeat=\"h in list.cols track by $index\" class=\"md-table-header\">\r\n					<a href=\"#\" ng-click=\"reverse=!reverse;list.order(h.field)\" ng-if=\"!list.no.sort && !h.noSort\">\r\n						{{h.heading | labelCase}}\r\n		    <md-tooltip md-direction=\"top\">Sort by {{h.field | labelCase | pluralize}}</md-tooltip>\r\n<ng-md-icon 	icon=\"arrow_downward\"\r\n					options=\'{\"rotation\": \"counterclock\"}\'\r\n					ng-show=\"reverse && h.field === list.sort.predicate\"\r\n					class=\"s18\"></ng-md-icon>\r\n<ng-md-icon 	icon=\"arrow_upwards\"\r\n					ng-show=\"!reverse && h.field === list.sort.predicate\"\r\n					options=\'{\"rotation\": \"counterclock\"}\'></ng-md-icon>\r\n					</a>\r\n					<a href=\"#\" ng-if=\"list.no.sort || h.noSort\">\r\n						{{h.heading | labelCase}}\r\n					</a>\r\n				</th>\r\n				<th class=\"md-table-header\"></th>\r\n				<th class=\"md-table-header\"></th>\r\n\r\n			</tr>\r\n\r\n		</thead>\r\n\r\n		<tbody>\r\n\r\n			<tr ng-repeat=\"p in filtered = ((list.data | orderBy:list.sort.predicate:list.sort.reverse) | filter:q | filter:list.data.search | limitTo: list.l) track by p._id\" id=\"{{p._id}}\"\r\n					class=\"md-table-content-row\"\r\n					ng-class=\"{\'selected\': list.isSelected(p)}\">\r\n				<td>\r\n                    <md-button class=\"md-icon-button\" aria-label=\"More\" ng-click=\"list.showInDetails(p);\" ng-if=\"!list.no.edit\">\r\n                            <md-tooltip>Edit {{list.header | labelCase}} info</md-tooltip>\r\n                            <ng-md-icon icon=\"edit\"></ng-md-icon>\r\n                    </md-button>\r\n				</td>\r\n				<td ng-repeat=\"c in list.cols track by $index\" ng-switch=\"c.dataType\">\r\n					{{c.sort}}\r\n				<span ng-switch-when=\"boolean\">\r\n					<md-switch class=\"md-secondary\" ng-model=\"p[c.field]\" ng-change=\"list.changeStatus(p)\" aria-label=\"p[c.field]\"></md-switch>\r\n				</span>\r\n				<span ng-switch-when=\"date\">\r\n					{{p[c.field] | date:\'mediumDate\'}}\r\n				</span>\r\n				<span ng-switch-when=\"currency\">\r\n					{{p[c.field] | currency}}\r\n				</span>\r\n				<span ng-switch-when=\"image\">\r\n					<span ng-if=\"!p[c.field]\"><list-image string=\"{{p.name}}\"></list-image></span>\r\n					<img ng-if=\"p[c.field]\" ng-src=\"{{p[c.field]}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\" />\r\n				</span>\r\n				<span ng-switch-default>\r\n					{{p[c.field]}}\r\n				</span>\r\n			</td>\r\n\r\n				<td></td>\r\n				<td>\r\n          <md-button class=\"md-icon-button\" aria-label=\"Copy Record\" ng-click=\"list.copy(p);\" ng-if=\"!list.no.copy\">\r\n          <md-tooltip>Duplicate this {{list.header | labelCase}}</md-tooltip>\r\n              <ng-md-icon icon=\"content_copy\"></ng-md-icon>\r\n					</md-button>\r\n					<md-button class=\"md-icon-button\" aria-label=\"Delete\" ng-click=\"list.delete(p);\" ng-if=\"!list.no.delete\">\r\n	        	      <md-tooltip>Delete this {{list.header | labelCase}}</md-tooltip>\r\n                      <ng-md-icon icon=\"delete\"></ng-md-icon>\r\n					</md-button>\r\n			</td>\r\n			</tr>\r\n		</tbody>\r\n\r\n	</table>\r\n</div>\r\n <div class=\"md-table-pagination\">\r\n		<span>Found {{filtered.length}} of {{list.data.length}} {{list.header | labelCase  | pluralize}}</span>\r\n	</div>\r\n</md-card>\r\n<a ng-click=\"main.create();\" ng-if=\"!list.no.add\">\r\n	<md-button hide-gt-xs ui-sref=\"list.create\" class=\"md-fab md-accent md-fab-bottom-right\" aria-label=\"Create a new {{list.header}}\" ng-if=\"!list.no.add\">\r\n		<md-tooltip md-direction=\"left\">Add new {{list.header | labelCase}}</md-tooltip>\r\n		<ng-md-icon icon=\"add\"></ng-md-icon>\r\n	</md-button>\r\n</a>\r\n	<md-card ng-if=\"list.data.length===0 && !list.loading\">\r\n	  <md-card-content>\r\n	    <h2>No {{list.header | labelCase}} found</h2>\r\n	    <p class=\"mgl\" hide-xs ng-if=\"!list.no.add\">\r\n				There is no {{list.header | labelCase}}!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	    <p hide-gt-xs ng-if=\"!list.no.add\">\r\n				There is no {{list.header | labelCase}}!\r\n	      <a ng-click=\"main.create();\" href=\"\">Create one!</a>\r\n	    </p>\r\n	  </md-card-content>\r\n	</md-card>\r\n");
$templateCache.put("components/crud-table/main.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex layout=\"column\">\r\n<section layout=\"row\" layout-fill flex>\r\n\r\n		<div ui-view=\"content\" layout=\"column\" flex></div>\r\n\r\n		<md-content\r\n			ui-view=\"detail\"\r\n			id=\"detail-content\"\r\n			toggle-component\r\n			md-component-id=\"crud-table.detailView\"\r\n			layout=\"column\"\r\n			flex-xs=\"100\"\r\n			flex-sm = \"50\"\r\n			flex-md=\"50\"\r\n			flex-lg=\"33\"\r\n			flex-gt-lg=\"33\"\r\n			class=\"md-whiteframe-z1\">\r\n		</md-content>\r\n</section>\r\n\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("components/crud-table/media-library.html","<md-dialog aria-label=\"Media Library\" ng-cloak flex=\"95\">\r\n  <md-toolbar class=\"md-warn\">\r\n    <div class=\"md-toolbar-tools\">\r\n      <h2>Media Library</h2>\r\n      <span flex></span>\r\n      <md-button class=\"md-icon-button\" ng-click=\"cancel()\">\r\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n      </md-button>\r\n    </div>\r\n  </md-toolbar>\r\n\r\n  <md-dialog-content>\r\n      <div class=\"md-dialog-content\"  class=\"md-whiteframe-z2\">\r\n          <md-grid-list class=\"media-list\" md-cols-xs =\"3\" md-cols-sm=\"4\" md-cols-md=\"5\" md-cols-lg=\"7\" md-cols-gt-lg=\"10\" md-row-height-gt-md=\"1:1\" md-row-height=\"4:3\" md-gutter=\"12px\" md-gutter-gt-sm=\"8px\" layout=\"row\" layout-align=\"center center\">\r\n            <md-grid-tile ng-repeat=\"i in media\" class=\"md-whiteframe-z2\" ng-click=\"ok(i.path)\">\r\n          		<div class=\"thumbnail\">\r\n          				<img ng-src=\"{{i.path}}\" draggable=\"false\" alt=\"{{i.name}}\">\r\n          		</div>\r\n              <md-grid-tile-footer><h3>{{i.name}}</h3></md-grid-tile-footer>\r\n            </md-grid-tile>\r\n          </md-grid-list>\r\n    </div>\r\n  </md-dialog-content>\r\n  <md-dialog-actions layout=\"row\">\r\n    <span flex></span>\r\n    <md-button ng-click=\"addNewImage()\" class=\"md-warn md-raised\">\r\n     Add new Image\r\n    </md-button>\r\n  </md-dialog-actions>\r\n</md-dialog>\r\n");
$templateCache.put("components/footer/contact-form.html","<div layout=\"row\">\r\n<md-content flex layout=\"column\">\r\n<section layout=\"column\" flex layout-align=\"center center\">\r\n  <h1>Write to us</h1>\r\n  <form name=\"form\" ng-submit=\"send(contact)\" novalidate>\r\n  <section class=\"section\" layout=\"column\">\r\n    <md-input-container md-is-error=\"(form.message.$error.required || form.message.$error.message) && form.message.$dirty\">\r\n      <label>Message</label>\r\n      <textarea name=\"contact\" ng-model=\"contact.message\" required md-autofocus></textarea>\r\n      <div ng-messages=\"form.message.$error\" ng-if=\"form.message.$dirty\">\r\n        <div ng-message=\"required\">Message required</div>\r\n      </div>\r\n    </md-input-container>\r\n  </section>\r\n  <div class=\"md-dialog-actions\" layout=\"row\">\r\n    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || vm.loading\" aria-label=\"Send Message\">\r\n      <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"send\"></ng-md-icon>Send</span>\r\n      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\r\n    </md-button>\r\n    <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"cancel()\" aria-label=\"Cancel Send\"> Cancel </md-button>\r\n  </div>\r\n  </form>\r\n</section>\r\n</md-content>\r\n</div>\r\n");
$templateCache.put("components/footer/footer.html","<div  id=\"top\">\r\n<div class=\"footer site-footer\" >\r\n\r\n	<div  class=\"row\" style=\"padding-left:50px;padding-right: 50px\">\r\n		\r\n        	<div  class=\"col-xs-3 stats-graph\">\r\n        \r\n               <ul class=\"gd_col fw-1-5 md-1-1\">\r\n                <li>\r\n               &nbsp;\r\n              </li>\r\n              <li>\r\n                <a class=\"no-ajax ssl-radio-keepalive\" ng-click=\"topmenu.showLogin()\" ng-if=\"!topmenu.isLoggedIn()\" style=\"color:#fff\">Sign in</a>\r\n              </li>\r\n              <li>\r\n                <a class=\"no-ajax ssl-radio-keepalive\" href=\"/subscribe/\">Subscribe to our newsletter</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/about/jobs/\">Jobs</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/index\">About Us</a>\r\n              </li>\r\n                   \r\n                                  \r\n                                 \r\n                                \r\n    	</div>\r\n    	<div  class=\"col-xs-3 stats-graph\">\r\n        \r\n                \r\n               <ul class=\"gd_col fw-1-5 md-1-1\">\r\n          		 <li>\r\n               &nbsp;\r\n              </li>\r\n              <li>\r\n                <a href=\"/index/faq\">FAQs</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/contributors\">Verified Publishers</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/about/cookie-policy\">Cookie Policy</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/index/terms\">Terms &amp; Conditions</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"/site-map/\">Site Map</a>\r\n              </li>\r\n            </ul>                          \r\n                                  \r\n                                 \r\n                                \r\n    	</div>\r\n\r\n    	<div  class=\"col-xs-3 stats-graph\">\r\n    	<h4>Find Us</h4>\r\n        	<address>8 Impala Road <br>Borrowdale West <br>Harare<br>Zimbabwe</address>    \r\n                                  \r\n                                 \r\n                                \r\n    	</div>\r\n\r\n\r\n    	<div  class=\"col-xs-3 stats-graph\">\r\n    	<h4>Contact Us</h4>\r\n        	<i>Phone:+263773 4392 46</i>   <br> \r\n        	<i>Email: info@mediabox.co.zw</i>  <br> \r\n        	<i> <a ng-click=\"addDialog()\" href=\"#\">Quick Contact</a></div></i>\r\n                                  \r\n                                 \r\n                                \r\n    	</div>\r\n\r\n		\r\n	</div>\r\n\r\n\r\n  <div class=\"footer-content\" layout=\"row\" layout-align=\"center center\">\r\n    <div layout-align=\"start center\"> 2016 <strong>MediaBox </strong>  <a href=\"\" target=\"_blank\"></a> \r\n    |\r\n  </div>\r\n</div>\r\n<!--Container for md-toast-->\r\n<div class=\"fixed-bottom\"> <div class=\"toast-container\" ng-if=\"screenIsBig\">&nbsp;</div> </div>\r\n</div>");
$templateCache.put("components/left-menu/left-menu.html","<md-sidenav layout=\"column\" class=\"md-sidenav-left md-whiteframe-z2\" md-component-id=\"left\" ng-cloak ng-if=\"nav.isLoggedIn()\">\r\n  <!-- md-is-locked-open=\"$mdMedia(\'gt-md\')\" -->\r\n      <md-toolbar class=\"md-tall md-hue-2 md-whiteframe-z2\">\r\n        <span flex></span>\r\n        <md-list>\r\n          <md-list-item class=\"md-2-line md-toolbar-tools-bottom\">\r\n            <user-avatar></user-avatar>\r\n            <div class=\"md-list-item-text\" layout=\"column\">\r\n              <span></span>\r\n              <div>{{left.currentUser.name}}</div>\r\n              <div>{{left.currentUser.email}}</div>\r\n            </div>\r\n          </md-list-item>\r\n        </md-list>\r\n      </md-toolbar>\r\n      <md-list>\r\n      </md-toolbar>\r\n      <md-list ng-if=\"left.menu\">\r\n      <md-item ng-repeat=\"item in left.menu.auth\" ui-sref-active=\"active\" ng-if=\"!left.isLoggedIn()\" ui-sref=\"{{item.url}}\" ng-click=\"left.toggleLeft();\" class=\" md-whiteframe-z2\">\r\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\r\n            <div class=\"inset\">\r\n              <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\r\n            </div>\r\n            <div class=\"inset\">{{item.text}}</div>\r\n          </md-item-content>\r\n        <md-divider ng-if=\"!$last\"></md-divider>\r\n      </md-item>\r\n\r\n<!-- User Pages -->\r\n      <md-subheader ng-if=\"left.isLoggedIn()\">Pages</md-subheader>\r\n      <md-item ng-repeat=\"item in left.menu.pages\" ui-sref-active=\"active\" ng-if=\"left.isLoggedIn() && item.authenticate && left.hasRole(item.role)\" ui-sref=\"{{item.url}}\" class=\" md-whiteframe-z2\">\r\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\r\n            <md-button>\r\n                <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\r\n                {{item.text}}\r\n            </md-button>\r\n          </md-item-content>\r\n        <md-divider ng-if=\"!$last || !$first\"></md-divider>\r\n      </md-item>\r\n\r\n<!-- Public Pages -->\r\n      <md-item ng-repeat=\"item in left.menu.pages\" ui-sref-active=\"active\" ng-if=\"!item.authenticate\" ui-sref=\"{{item.url}}\" class=\" md-whiteframe-z2\">\r\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\r\n            <md-button>\r\n                <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\r\n                {{item.text}}\r\n            </md-button>\r\n          </md-item-content>\r\n        <md-divider ng-if=\"!$last || !$first\"></md-divider>\r\n      </md-item>\r\n\r\n      <md-subheader ng-if=\"left.isLoggedIn()\">Settings</md-subheader>\r\n      <md-item ng-repeat=\"item in left.menu.admin\" ui-sref-active=\"active\" ng-if=\"left.isLoggedIn()\" ui-sref=\"{{item.url}}\">\r\n          <md-item-content md-ink-ripple layout=\"row\" layout-align=\"start center\" >\r\n            <div class=\"inset\">\r\n              <ng-md-icon icon=\"{{item.icon}}\"></ng-md-icon>\r\n            </div>\r\n            <div class=\"inset\">{{item.text}}</div>\r\n          </md-item-content>\r\n        <md-divider ng-if=\"!$last\"></md-divider>\r\n      </md-item>\r\n    </md-list>\r\n    </md-sidenav>\r\n");
$templateCache.put("components/login-modal/cp.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \r\nflex-xs=\"100\" \r\nflex-sm = \"75\" \r\nflex-md=\"50\" \r\nflex-lg=\"33\" \r\nflex-gt-lg=\"25\" \r\nmd-whiteframe=\"24\">\r\n    <md-toolbar class=\"md-accent\" layout=\"row\" layout-align=\"space-between center\">\r\n      <h3 class=\"md-toolbar-tools\">Change Password</h3>\r\n        <md-button class=\"md-icon-button\" ng-click=\"cp.close()\" aria-label=\"Close Change Password\"><ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon></md-button>\r\n    </md-toolbar>\r\n<md-content flex layout=\"row\" class=\"content\" layout-align=\"start center\">\r\n<section layout=\"column\" layout-align=\"start center\" flex>\r\n	<form name=\"form\" ng-submit=\"cp.changePassword(form)\" novalidate autocomplete=\"off\">\r\n		<section class=\"section\" layout=\"column\">\r\n			<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\r\n				<label>Current Password</label>\r\n				<input name=\"password\" type=\"password\" ng-model=\"cp.user.oldPassword\" required md-autofocus mongoose-error ng-minlength=\"3\"/>\r\n				<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\r\n					<div ng-message=\"required\">Password is required</div>\r\n					<div ng-message=\"mongoose\">Password is incorrect</div>\r\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n				</div>\r\n			</md-input-container>\r\n\r\n			<md-input-container flex class=\"last\">\r\n				<label>New Password</label>\r\n				<input name=\"newPassword\" type=\"password\"  ng-model=\"cp.user.newPassword\" required ng-minlength=\"3\">\r\n				<div ng-messages=\"form.newPassword.$error\" ng-if=\"form.newPassword.$dirty\">\r\n					<div ng-message=\"required\">Please repeat the new password</div>\r\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n				</div>\r\n			</md-input-container>\r\n\r\n			<p class=\"help-block\" ng-if=\"cp.submitted\"> {{cp.message}} </p>\r\n		</section>\r\n		<md-dialog-actions>\r\n			<submit-button loading=\"vm.loading\" form=\"form\" text=\"Change Password\"></submit-button>\r\n		</md-dialog-actions>\r\n\r\n	</form>\r\n  </section>\r\n </md-content>\r\n</md-dialog>");
$templateCache.put("components/login-modal/index.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \r\nflex-xs=\"100\" \r\nflex-sm = \"75\" \r\nflex-md=\"75\" \r\nflex-lg=\"66\" \r\nflex-gt-lg=\"50\" \r\nmd-whiteframe=\"24\">\r\n<div ng-cloak ng-controller=\"tabsCtrl as tabs\">\r\n  <md-content layout=\"row\" layout-align=\"end start\">\r\n    <md-tabs md-dynamic-height md-border-bottom flex md-selected=\"selectedIndex\">\r\n      <md-tab label=\"Login\" ng-click=\"tabs.onTabSelected(\'login\')\">\r\n        <md-content ng-controller=\"LoginModalController as vm\" ng-include=\"\'components/login-modal/login.html\'\" class=\"md-padding\" flex></md-content>\r\n      </md-tab>\r\n      <md-tab label=\"Signup\" ng-click=\"tabs.onTabSelected(\'signup\')\">\r\n        <md-content ng-controller=\"SignUpModalController as signup\" class=\"md-padding\" flex> \r\n          <div ng-if=\"tabs.tab==\'signup\'\" ng-include=\"\'components/login-modal/signup.html\'\"></div>\r\n        </md-content>\r\n      </md-tab>\r\n      <md-tab></md-tab> <!--This is necessary to maintain the Login and Signup alignment-->\r\n    </md-tabs>\r\n    <a aria-label=\"Cancel Login\" ng-click=\"vm.close()\" ng-controller=\"LoginModalController as vm\">\r\n        <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n    </a>\r\n  </md-content>\r\n</div>\r\n<oauth-buttons></oauth-buttons>\r\n</md-dialog>");
$templateCache.put("components/login-modal/login.html","<section layout=\"column\" layout-align=\"start center\">\r\n	\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"box\">\r\n       <p class=\"lead\">Already our customer?</p>\r\n            <p class=\"text-muted\" translate>\r\n              Be a master of effiency with the all in one platform for all your advertising content.\r\n              </p>\r\n            </p>\r\n      </div>\r\n    </div>\r\n\r\n    \r\n    <div class=\"col-md-6\">\r\n        <div style=\"width: 80%\">\r\n\r\n           <p ng-show=\"vm.error\" class=\"md-warn\">{{vm.error.message}}</p>\r\n\r\n				<form name=\"form\" ng-submit=\"vm.login(form)\" autocomplete=\"off\" novalidate flex>\r\n				<section class=\"section\" layout=\"column\">\r\n					<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email) && form.email.$dirty\">\r\n						<label>Email</label>\r\n						<input name=\"email\" type=\"email\" ng-model=\"vm.user.email\" required md-autofocus/>\r\n						<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\r\n							<div ng-message=\"required\">Email ID is required</div>\r\n							<div ng-message=\"email\">Please enter valid email address.</div>\r\n						</div>\r\n					</md-input-container>\r\n\r\n					<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\r\n						<label>Password</label>\r\n						<input name=\"password\" type=\"password\" ng-model=\"vm.user.password\" required/>\r\n						<div ng-messages=\"form.password.$error\">\r\n							<div ng-message=\"required\">Password is required</div>\r\n							\r\n						</div>\r\n					</md-input-container>\r\n\r\n			    <div class=\"form-group has-error\">\r\n			    <p class=\"help-block\" ng-show=\"form.email.$error.required && form.password.$error.required && vm.submitted\">\r\n			       Please enter your email and password.\r\n			    </p>\r\n\r\n			    </div>\r\n			</section>\r\n\r\n			<submit-button loading=\"vm.loading\" form=\"form\" text=\"Secure Login\"></submit-button>\r\n			<div class=\"err\">{{ vm.errors.other }}<br/>\r\n			+<a ng-click=\"vm.goForgot({ email: vm.user.email})\" href=\"#\">Forgot Password</a></div>\r\n				\r\n	</form>\r\n        </div>\r\n    </div>\r\n    \r\n  </div>\r\n\r\n</section>\r\n");
$templateCache.put("components/login-modal/signup.html","<section layout=\"column\" layout-align=\"start center\">\r\n	\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"box\">\r\n       <p class=\"lead\">Already our customer?</p>\r\n            <p class=\"text-muted\" translate>\r\n              Be a master of effiency with the all in one platform for all your advertising content.\r\n              </p>\r\n            </p>\r\n      </div>\r\n    </div>\r\n\r\n    \r\n    <div class=\"col-md-6\">\r\n        <div style=\"width: 80%\">\r\n<form name=\"form\" ng-submit=\"signup.register(form)\" autocomplete=\"off\" novalidate flex>\r\n\r\n			<section class=\"section\" layout=\"column\">\r\n				<md-input-container md-is-error=\"form.name.$error.required && form.name.$dirty\">\r\n					<label>Full Name</label>\r\n					<input name=\"name\" ng-model=\"signup.user.name\" required md-autofocus/>\r\n					<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\r\n						<div ng-message=\"required\">Full Name is required</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container flex md-is-error=\"(form.email.$error.email || form.email.$error.required || form.email.$error.mongoose || form.email.$error.remote-unique) && form.email.$dirty\">\r\n					<label>Email ID</label>\r\n					<input type=\"email\" name=\"email\" ng-model=\"signup.user.email\"\r\n								 ng-model-options=\"{updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0}}\"\r\n								 required mongoose-error>\r\n					<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\r\n						<div ng-message=\"email\">Please enter a valid email address.</div>\r\n						<div ng-message=\"required\">Email is required</div>\r\n						<div ng-message=\"mongoose\">Email already in use</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container md-is-error=\"form.phone.$error.required && form.phone.$dirty\">\r\n					<label>Phone</label>\r\n					<input name=\"phone\" ng-model=\"signup.user.phone\" required md-autofocus/>\r\n					<div ng-messages=\"form.phone.$error\" ng-if=\"form.phone.$dirty\">\r\n						<div ng-message=\"required\">Phone is required</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container md-is-error=\"form.company.$error.required && form.company.$dirty\">\r\n					<label>Company</label>\r\n					<input name=\"company\" ng-model=\"signup.user.company\" required md-autofocus/>\r\n					<div ng-messages=\"form.company.$error\" ng-if=\"form.company.$dirty\">\r\n						<div ng-message=\"required\">Company is required</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container md-is-error=\"form.website.$error.required && form.website.$dirty\">\r\n					<label>Website</label>\r\n					<input name=\"website\" ng-model=\"signup.user.website\" required md-autofocus/>\r\n					<div ng-messages=\"form.website.$error\" ng-if=\"form.website.$dirty\">\r\n						<div ng-message=\"required\">Website is required</div>\r\n					</div>\r\n				</md-input-container>\r\n				<md-input-container md-is-error=\"form.website.$error.required && form.website.$dirty\">\r\n				<md-checkbox value=\"user\">\r\n                    Advertiser\r\n                </md-checkbox>\r\n                <md-checkbox  value=\"admin\" ng-model=\"signup.user.role\">\r\n                    Publisher\r\n                </md-checkbox>\r\n				</md-input-container>\r\n \r\n\r\n				<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\r\n					<label>Password</label>\r\n					<input name=\"password\" type=\"password\" ng-model=\"signup.user.password\" required mongoose-error ng-minlength=\"3\"/>\r\n					<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\r\n						<div ng-message=\"required\">Password is required</div>\r\n						<div ng-message=\"mongoose\">{{ errors.password }}</div>\r\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\r\n					<label>Repeat Password</label>\r\n					<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"signup.user.passwordRepeat\" required repeat-input=\"signup.user.password\" ng-minlength=\"3\">\r\n					<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\r\n						<div ng-message=\"required\">Please repeat the new password</div>\r\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n						<div ng-message=\"repeat-input\">The passwords do not match</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n			</section>\r\n		<submit-button loading=\"signup.loading\" form=\"form\" text=\"Create your account\"></submit-button>\r\n	</form>\r\n        </div>\r\n    </div>\r\n    \r\n  </div>\r\n\r\n</section>\r\n");
$templateCache.put("components/messages/airline.html","Airline Advertising\r\nTravelling inspires people and removes them from the distractions of their everyday routine. This is the perfect moment for brands to reach and engage with a real audience when they have the time, focus and mind-set to respond. Airline passengers tend to spend money and make decisions in their local community.  A high level of this highly desirable captive audience are the business decision makers because corporate executives often fly out regardless of the ticket cost  it is a matter of convenience because time is money!\r\nAirport Advertising\r\nAirport is positioned as a unique and unrivalled platform for advertisers to reach out to a premium audience. The MediaBox offers exciting advertising opportunities at prime locations across all terminals, including award-winning landmarks, digital networks, and dynamic static sites.\r\nAirport advertising delivers your message to business and leisure travelers. Whether youre trying to raise awareness about your brand, product or service, or encourage point-of-sale, Airport ads are the way to go. Choose from a variety of traditional and experiential displays and locations that are best suited for your campaign.\r\nPlace your ad throughout terminals in arrival and departure areas, ticketing areas, baggage claim, gates, concourses and VIP lounges.\r\n\r\n");
$templateCache.put("components/messages/cinema.html","Cinema advertising is an excellent medium for premium audience targeting. Today, people are in full control of what they watch. As advertisers, you are constantly battling fragmented audience, declining reach, and ad-skipping technology. Who\'s even watching your ads anymore? That\'s where cinema comes in. Its audience is in full show me what you got mode - staring up at a giant screen in a dark, comfortable movie theater.\r\nRestaurants, bars and retail outlets surrounding cinema can appeal to consumers with special offers valid directly after the movie, and nearby service providers can connect with people who they know are active participants in the economy.\r\n\r\n");
$templateCache.put("components/messages/email.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics.\r\nThe goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers.\r\nNon traditional advertising can encompass a variety of efforts and methods of getting your message seen.  Non-traditional advertising works well for people with a limited budget and an audience that could be easily. Its an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience\r\n");
$templateCache.put("components/messages/magazines.html","Magazine advertising has a wide range of pricing. Smaller regional and local magazines charge less than national magazines with millions of subscribers and may be a better bet for your small business, depending on your industry\r\nMagazine advertising doesn\'t just vary in size, but also in type. It includes display ads, advertorials, classified and special promotions.\r\nWhy You Should Advertise In Magazines\r\n<ul>\r\n<li>Magazines and magazine ads capture focused attention: the focused process of magazine reading leads to less media multi-tasking, ensuring single minded attention to advertising.</li>\r\n<li>Magazine status: some magazine titles are well respected in their field, so an advertisement in these will increase your product/services prestige by association.</li>\r\n<li>Magazine advertising is targeted: magazines engage readers in very personal ways. Theres a magazine for every passion and a passion for every magazine. Use magazines to reach your target audience in a meaningful way.</li>\r\n<li>Magazine advertising is relevant and welcomed: consumers value magazine advertising, reading it almost as much as the editorial itself. The ads are accepted as an essential part of the magazine mix.</li>\r\n<li>Magazines are credible: consumers trust magazines so much that they are the leading sources of information that readers recommend by word-of-mouth to others.</li>\r\n<li>Magazines offer a lasting message: ads keep working 24/7. They provide a lasting, durable message with time to study a brands benefits. Consumers clip and save magazine ads for future reference.</li>\r\n<li>Tell The Entire Brand Story - Magazines allow in-depth, detailed communication of the entire brand story.</li>\r\n<li>Flexibility - Magazines provide opportunities for inserts, supplements, advertorials and a variety of size and positioning options to meet any advertisers specific creative needs.\r\nWays In Which Magazines Deliver Engagement</li>\r\n<li>The intimacy between reader and Magazines benefits advertisers. Also the strong positive brand values of the Magazines can transfer onto the advertisements.</li>\r\n<li>Because advertisements are relevant and valued, ad clutter is not a problem in Magazines.</li>\r\n<li>Readers take action as a result of seeing advertising in Magazines.</li>\r\n<li>Targeting with precision and without wastage is a key strength of Magazines.</li>\r\n<li>Creative formats such as gatefolds, textures, special papers, samples, sponsorship, advertisement features (advertorials), and so on can create additional impact and interaction.</li>\r\n<li>Advertising in Magazines is a great, cost-effective way to reach an exclusive group of affluent and highly educated managers, owners, professionals and executives.</li>\r\nEffectiveness Of Magazine Advertising<br>\r\nThe effectiveness of magazine advertising depends on your advertising and promotion objectives, as well as the budget you have for advertising. Magazine advertising has strengths and weaknesses relative to other ad media. In general, you want to use media that reach your target audience and allow you to present effective messages affordably.\r\n\r\n");
$templateCache.put("components/messages/newspapers.html","<p>Advertising in Newspapers gives you an opportunity to reach out to your target audience. In order to get your brands advertising message out, you need to reach your consumers a number of times (i.e. frequency). Too little exposure and audiences will fail to notice the advertising. Too much, and recipients will be saturated. The Media Box is uniquely positioned to help you grow your business with highly effective, targeted print media buying.\r\nNewspapers are the top traditional media source to influence purchase decisions. Newspapers advertising can span across multiple columns - and can even cover full page, half page, quarter page or other custom sizes. They are designed in high resolution colored and black/white formats providing higher visibility for the mass audiences of Newspapers.</p>\r\n<p>The Journal of Advertising Research found sound experimental evidence that newspaper advertising can stimulate an immediate response observable in purchasing terms. In a study of 1200, one and a half days after ads for various brands ran in the newspaper:\r\n<ul>\r\n<li>14% more purchases of the brands advertised in the newspaper<li>\r\n<li>10% greater brand share for the brands advertised in the newspaper</li>\r\n</ul>\r\n	\r\n	\r\n");
$templateCache.put("components/messages/nontraditional.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics.\r\nThe goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers.\r\nNon traditional advertising can encompass a variety of efforts and methods of getting your message seen.  Non-traditional advertising works well for people with a limited budget and an audience that could be easily. Its an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience\r\n");
$templateCache.put("components/messages/outdoor.html","If you need to make a big impact in your local area, outdoor advertising can raise your company\'s profile and deliver results. Outdoor ads put your message right in front of your potential customers.<nr>\r\nWhy Outdoor Advertising Works<br>\r\nOutdoor advertising is highly prominent and does not require the consumer to do anything to access it. You don\'t have to tune in or click onto it or turn a page. At the same time, most people regard it as less intrusive than other methods of advertising. Indeed, a lot of outdoor advertising engages the consumer, providing colour, humour and insight. In locations where it sits in front of a captive audience  on public transport or at waiting places, for instance  it can even be seen as a welcome distraction.<br>\r\nWhere To Advertise Outdoors<br>\r\nOutdoor promotion is not just about massive hoardings, pole kiosks, bus shelters etc on the side of the road. There are poster sites and sizes to suit all budgets. Your choice will be driven by how well you understand your target market. If your target market is largely defined by geographical location, a few well-chosen spots and advertising signs in your area could raise your company\'s profile and drive sales.\r\nOutdoor advertising on the high street catches your potential customers while they are in shopping mode. A good poster campaign can prompt shoppers to buy your products there and then, especially if you are running a promotion as an incentive.\r\n");
$templateCache.put("components/messages/radio.html","Busy, people are particularly strong radio listeners because of its accessibility while they are on the go  at work, driving, relaxing at home or using the internet.\r\nAdvantages Of Using Radio Advertising \r\n<ul><li>Radios cost-efficiency allows advertisers to be heard every day and multiple times throughout the day.</li>\r\n<li>	This average frequency is critically important for delivering rapid advertising response, such as  web visits, store traffic, sales, brand recall and intent-to-purchase.</li>\r\n<li>	Radio has strong reach across reions and each week attracts a large number of engaged listeners.</li>\r\n<li>	Busy, mobile people are particularly strong radio listeners because of its accessibility while they are on the go  at work, driving, walking, relaxing at home or using the internet.</li>\r\n<li>	Radios reach provides advertisers with cut through, campaign extension, frequency and message reinforcement.</li>\r\n\r\n\r\n");
$templateCache.put("components/messages/tv.html","When Should You Use TV Advertising\r\n<ul>\r\n<li>	Repositioning Your Brand: changing perceptions about a brand is a difficult task.  A strong branding effort is required to change the current association, beliefs and feelings about a brand </li>\r\n<li>	Changing Behavior: not all advertising is about consumption.  Sometimes its about trying to persuade people to change what they do. </li>\r\n<li>	Generate Response: your Brands can use TV\'s ability to drive people to buy directly online or offline.</li>\r\n<li>	Demonstration: one of TVs greatest strength is its ability to demonstrate. Sometimes a viewer needs to see a product in action in order to understand fully its benefits.  It is the power of the moving image accompanied by sound that makes TV advertising so powerful.  Demonstration shows viewers how to consume a new product.</li>\r\n<li>	Customer Retention: it is much easier to retain existing customers than to find new customers. Therefore, it is really important to remind your existing customers why they love your brand. A television campaign is capable of making a customer feel proud of their brand, remind them why they bought into the brand in the first place and of all the positive elements of the brand and keep them feeling positive and warm about their choice of brand.  Most of all it protects them against the advances of all those other brands who want to get their hands on your customers.<li>\r\n<li>	Launching Brands: TV is without doubt the most effective medium for launching brands.  It combines the scale and reach that a new brand needs with impact and persuasiveness.  No other medium can offer both these qualities.</li>\r\nWhat Environment Should Your TV Ad Be In?<br>\r\nPart of the planning process is determining which channels give you access to the right programmes and, ultimately, are most effective at reaching your audience.\r\nIn order to meet your communication objectives efficiently, it is essential that the right mix of channels is bought.\r\nThere are three measures that are used to describe a channels profile:\r\n<ul><li>	Age</li>\r\n<li>	Gender</li>\r\n<li>	Class</li>\r\nThese can be compared to either the population as a whole, or the overall profile of commercial TV\r\n\r\n");
$templateCache.put("components/modal/create.html","<md-dialog aria-label=\"Create a new user\" id=\"admin-user-create\" layout=\"column\" \r\nflex-xs=\"100\" \r\nflex-sm = \"50\" \r\nflex-md=\"50\" \r\nflex-lg=\"33\" \r\nflex-gt-lg=\"33\" \r\nclass=\"md-whiteframe-z1\">\r\n\r\n	<md-toolbar class=\"md-accent\">\r\n		<h3 class=\"md-toolbar-tools\">\r\n			Create a new {{create.title}}\r\n		</h3>\r\n	</md-toolbar>\r\n		<form name=\"createForm\" layout=\"column\" layout-fill layout-align=\"space-between\" ng-submit=\"create.create(createForm)\" novalidate  autocomplete=\"off\">\r\n\r\n	<md-content layout-padding class=\"md-blue-theme\">\r\n			<section class=\"section\" layout=\"column\">\r\n				<span layout=\"row\" layout-sm=\"column\" ng-repeat=\"i in create.options.columns\" ng-if=\"create.options.columns\" ng-switch=\"i.dataType\" >\r\n					<!-- When the field is Integer type restrict it only to float values -->\r\n					<md-input-container ng-cloak flex ng-switch-when=\"parseFloat\" >\r\n						<label>{{i.heading | labelCase}}</label>\r\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.noAdd\" only-numbers md-autofocus=\"$index===0\">\r\n					</md-input-container>\r\n\r\n					<!-- When the field is Image type add URL postfix to labels -->\r\n					<md-input-container ng-cloak flex ng-switch-when=\"image\" >\r\n						<label>{{i.heading | labelCase}} URL</label>\r\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.noAdd\" md-autofocus=\"$index===0\">\r\n					</md-input-container>\r\n\r\n					<!-- When boolean type add an switch -->\r\n					<md-input-container ng-cloak flex ng-switch-when=\"boolean\">\r\n							<section class=\"section slim\" layout=\"column\">\r\n								<span layout=\"row\" layout-align=\"start center\">\r\n									<span flex=\"33\"><label>{{i.heading | labelCase}}</label></span>\r\n									<md-switch name=\"{{i.field}}\" aria-label=\"active\" ng-model=\"create.item[i.field]\"\r\n									ng-disabled=\"i.noAdd\"\r\n									class=\"no-label\"></md-switch>\r\n								</span>\r\n							</section>\r\n							<span flex=\"33\"></span>\r\n\r\n					</md-input-container>\r\n\r\n					<!-- When datatype is date, integrate an calendar into it -->\r\n					<div ng-switch-when=\"date\" ng-cloak class=\"full-width\">\r\n						<mb-datepicker element-id=\'date1\'\r\n										 input-class=\"testClass\"\r\n										 input-name=\"testName\"\r\n										 arrows=\"arrows\"\r\n										 calendar-header=\"header\"\r\n										 date=\"date\"\r\n										 date-format=\"YYYY-MM-DD\"\r\n										 placeholder=\"{{i.heading | labelCase}}\"\r\n										 ></mb-datepicker>\r\n					</div>\r\n\r\n					<!-- When the required type is dropdown, add an dropdown menu with select options -->\r\n					<md-input-container ng-cloak flex ng-switch-when=\"dropdown\" class=\"dropdown\">\r\n		        <label>{{i.heading | labelCase}}</label>\r\n		        <md-select ng-model=\"create.item[i.field]\">\r\n		          <md-option ng-repeat=\"o in i.options\" value=\"{{o}}\">\r\n		            {{o}}\r\n		          </md-option>\r\n		        </md-select>\r\n		      </md-input-container>\r\n\r\n					<!-- When textarea type add an multiline input -->\r\n					<md-input-container ng-cloak flex ng-switch-when=\"textarea\">\r\n						<label>{{i.heading | labelCase}}</label>\r\n						<textarea name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noAdd\" md-autofocus=\"$index === 0\"></textarea>\r\n					</md-input-container>\r\n\r\n					<!-- When datatype of field is not defined add textbox instead -->\r\n					<md-input-container ng-cloak flex ng-switch-default>\r\n						<label>{{i.heading | labelCase}}</label>\r\n						<input name=\"{{i.field}}\" ng-model=\"create.item[i.field]\" ng-disabled=\"i.field==\'_id\' || i.noAdd\" md-autofocus=\"$index === 0\">\r\n					</md-input-container>\r\n\r\n			</span>\r\n			</section>\r\n	</md-content>\r\n\r\n	<md-dialog-actions layout=\"row\">\r\n		<md-button ng-click=\"create.close()\" aria-label=\"Close Add Modal\">Cancel</md-button>\r\n		<md-button ng-disabled=\"createForm.$invalid\" type=\"submit\" class=\"md-primary md-raised\" aria-label=\"Insert a new {{create.title}}\"> Create </md-button>\r\n	</md-dialog-actions>\r\n		</form>\r\n\r\n</md-dialog>\r\n");
$templateCache.put("components/navbar/cart.html","<md-sidenav class=\"md-sidenav-right md-whiteframe-z2\" md-component-id=\"cart\" style=\"width: 500px\">\r\n  <md-toolbar class=\"md-theme-light\">\r\n    <h1 class=\"md-toolbar-tools\">Cart Details</h1>\r\n  </md-toolbar>\r\n  <md-content class=\"cart-content\">\r\n    <form>\r\n      <div layout=\"row\" layout-align=\"space-between start\" ng-repeat=\"item in vm.cart.items\" class=\"cart-item md-whiteframe-z1\">\r\n            <img  class=\"md-whiteframe-z1\" width=\"80px\" height=\"100%\" data-ng-src=\"data:image/png;base64,{{item.image}}\" err-SRC=\"/assets/images/50x50-1ed563a3dc.png\"  alt=\"{{item.name}}\" />\r\n            <div layout=\"column\" flex style=\"margin: 7px\">\r\n                <div >{{ item.name }} <span ng-if=\"item.size\">(Size: {{item.size}})</span></div>\r\n                <div ng-if=\"item.price\">{{ item.price | currency:vm.Settings.currency.symbol }} * {{item.quantity}} = \r\n                <strong>{{item.price * item.quantity | currency:vm.Settings.currency.symbol}}</strong></div>\r\n                <div layout=\"row\" layout-align=\"center center\">\r\n <!--Cart buttons-->\r\n        <md-button class=\"md-raised md-primary small-button md-icon-button\" \r\n              ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, -1)\" \r\n              aria-label=\"Remove from cart\">\r\n                  <ng-md-icon icon=\"remove\"></ng-md-icon>\r\n        </md-button>\r\n        <div class=\"md-raised\"  ng-disabled=\"true\" aria-label=\"Cart quantity\">{{vm.cart.getQuantity(item.sku, item.vid)}}</div>\r\n        <md-button class=\"md-raised md-primary small-button md-icon-button\" ng-click=\"vm.cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price, weight:item.weight, vid:item.vid}, +1)\" aria-label=\"Add to cart\">\r\n                  <ng-md-icon icon=\"add\"></ng-md-icon>\r\n        </md-button>\r\n <!--Cart buttons-->\r\n\r\n      </div>\r\n            </div>\r\n            <a aria-label=\"Remove {{item.name}} from cart\" ng-click=\"vm.cart.addItem({sku:item.sku, vid: item.vid}, -10000000);vm.openCart()\">\r\n                <ng-md-icon icon=\"close\" aria-label=\"Close dialog\"></ng-md-icon>\r\n            </a>\r\n      </div>\r\n    </form>\r\n    <div layout=\"column\" flex style=\"margin: 7px\" ng-if=\"vm.cart.getTotalPrice()>0\"><b>Handling Fee:</b> \r\n      \r\n      <span >{{vm.cart.getHandlingFee() | currency:vm.Settings.currency.symbol}}</span>\r\n    </div>\r\n    <div layout=\"column\" flex style=\"margin: 7px\" ng-if=\"vm.cart.getTotalPrice()>0\"><b>Sub Total:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b> {{vm.cart.getTotalPrice()  | currency:vm.Settings.currency.symbol}}</div>\r\n    <div class=\"md-dialog-actions\" layout=\"row\" layout-align=\"space-between center\">\r\n        <md-button  ng-hide=\"vm.cart.flag\" ui-sref=\"cart\" class=\"md-raised circular-progress-button md-primary\" aria-label=\"Checkout\" ng-disabled=\"vm.cart.items.length <= 0\">\r\n            <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"local_grocery_store\" hide-xs></ng-md-icon>Configure Campaign </span>\r\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\r\n        </md-button>\r\n        <md-button  ng-show=\"vm.cart.flag\" ui-sref=\"checkout\" class=\"md-raised circular-progress-button md-primary\" aria-label=\"Checkout\" ng-disabled=\"vm.cart.items.length <= 0\">\r\n            <span ng-show=\"!vm.loading\"><ng-md-icon icon=\"local_grocery_store\" hide-xs></ng-md-icon>Proceed To Payment </span>\r\n            <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"vm.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"vm.loading\">Loading...</span>\r\n        </md-button>\r\n        <md-button class=\"btn btn-default btn-lg btn-register\" ng-click=\"vm.close()\"  aria-label=\"Cancel Cart Menu\"> Close </md-button>\r\n    </div>\r\n  </md-content>\r\n</md-sidenav>\r\n\r\n\r\n");
$templateCache.put("components/navbar/navbar.html","<div ng-include=\"\'components/navbar/cart.html\'\"></div>\r\n<div >\r\n<!-- *** TOPBAR ***\r\n_________________________________________________________ -->\r\n<div id=\"top\">\r\n    <div class=\"container\">\r\n        <div class=\"col-md-1\">\r\n            <a  href=\"index.html\">\r\n                <img width=\"140px\" height=\"40px\" src=\"/assets/img/logo.png\"  class=\"hidden-xs\">\r\n                <img width=\"140px\" height=\"40px\" src=\"/assets/img/logo.png\"  class=\"visible-xs\"><span class=\"sr-only\"></span>\r\n            </a>\r\n        </div>\r\n         <div class=\"col-md-9 offer\" style=\"padding-top:  10px\" data-animate=\"fadeInDown\">\r\n            <div class=\"col-md-6\"></div>\r\n            <div class=\"col-md-6\"> <!--<img src=\"/assets/img/payments-banner-bottom.png\">--></div>\r\n           \r\n             </a>\r\n        </div>\r\n        <div class=\"col-md-2 pull-right\" data-animate=\"fadeInDown\">\r\n           <top-menu ng-if=\"!search.show\"></top-menu> \r\n        </div>\r\n    </div>\r\n   </div>\r\n\r\n<!-- *** TOP BAR END *** -->\r\n\r\n<!-- *** NAVBAR ***\r\n_________________________________________________________ -->\r\n\r\n<div class=\"navbar navbar-default yamm\" role=\"navigation\" id=\"navbar\">\r\n    <div class=\"container\">\r\n  <div class=\"col-md-12\">\r\n        <div class=\"navbar-header\">\r\n\r\n            \r\n            <div class=\"navbar-buttons\">\r\n                <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navigation\" ng-click=\"isCollapsed1 = !isCollapsed1\">\r\n                    <span class=\"sr-only\">Toggle navigation</span>\r\n                    <i class=\"fa fa-align-justify\"></i>\r\n                </button>\r\n                \r\n               \r\n\r\n            </div>\r\n        </div>\r\n        <!--/.navbar-header -->\r\n\r\n        <div class=\"navbar-collapse collapse navbar-static-top megamenu pull-left\" id=\"navigation\">\r\n          <div collapse=\"isCollapsed1\" class=\"navbar-collapse collapse\" id=\"navbar-main2\">\r\n            <ul class=\"nav navbar-nav navbar-left pull-right\" ng-hide=\"isAdmin()\">\r\n                <li class=\"dropdown yamm-fw\" ng-repeat=\"p in vm.categories\">\r\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"200\">{{p.name}} <b class=\"caret\"></b></a>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li>\r\n                            <div class=\"yamm-content\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-sm-3\" ng-repeat=\"h in p.child\">\r\n                                        <!-- <h5>All</h5> -->\r\n                                        <ul>\r\n                                            <div>\r\n                                                 <li ><a href=\"/Category/{{h.slug}}/{{h._id}}\"><ng-md-icon icon=\"{{h.icon}}\" md-menu-align-target></ng-md-icon>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{h.name}}</a>\r\n                                                 </li>  \r\n                                            </div>\r\n                                      \r\n\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- /.yamm-content -->\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n\r\n          </div>\r\n        </div>\r\n        <!--/.nav-collapse -->\r\n\r\n        <div class=\"navbar-buttons pull-right\">\r\n             <md-button ng-click=\"vm.openCart()\" class=\"md-raised cart\" ng-if=\"!search.show\">\r\n                    <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>\r\n                    <span  show-gt-sm>Cart {{vm.cart.getTotalCount()}} Items  </span>\r\n                    <span hide show-gt-sm odometer=\"vm.cart.getTotalPrice()\">\r\n                  </md-button>\r\n            <!--/.nav-collapse -->\r\n\r\n            <div class=\"navbar-collapse collapse right\" id=\"search-not-mobile\">\r\n                <button type=\"button\" class=\"btn navbar-btn btn-danger\" data-toggle=\"collapse\" data-target=\"#search\">\r\n                    <span class=\"sr-only\">Toggle search</span>\r\n                     <ng-md-icon icon=\"search\"></ng-md-icon>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"collapse clearfix\" id=\"search\">\r\n           <div class=\"search\" layout=\"row\" layout-align=\"center center\" flex ng-if=\"search.show || vm.$mdMedia(\'gt-xs\')\">\r\n        <div class=\"searchbox\" layout=\"row\" layout-align=\"center center\" flex>\r\n            <form ng-submit=\"$event.preventDefault()\" flex>\r\n                <md-autocomplete\r\n                    ng-cloak\r\n                    md-selected-item=\"vm.selectedItem\"\r\n                    md-search-text-change=\"vm.searchTextChange(vm.searchText)\"\r\n                    md-search-text=\"vm.searchText\"\r\n                    md-selected-item-change=\"vm.selectedItemChange(item)\"\r\n                    md-items=\"item in vm.querySearch(vm.searchText)\"\r\n                    md-item-text=\"item.name\"\r\n                    md-min-length=\"1\"\r\n                    placeholder=\"Search for publishers here\"\r\n                    md-menu-class=\"navbar-autocomplete\">\r\n                    <md-item-template>\r\n                        <img ng-if=\"item.logo[0].base64\"  width=\"50px\"  height=\"50px\" \r\n                        data-ng-src=\"data:image/png;base64,{{item.logo[0].base64}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\"/>\r\n            <span md-highlight-text=\"vm.searchText\">{{item.name}}</span>\r\n                    </md-item-template>\r\n          <md-not-found>\r\n            No item matching \"{{vm.searchText}}\" were found.\r\n          </md-not-found>\r\n                </md-autocomplete>\r\n            </form>\r\n\r\n        </div>\r\n    </div>\r\n        </div>\r\n        <!--/.nav-collapse -->\r\n\r\n    </div>\r\n    <!-- /.container -->\r\n</div>\r\n<!-- /#navbar -->\r\n</div>\r\n<!-- *** NAVBAR END *** -->\r\n</div>\r\n");
$templateCache.put("components/navbar-public/navbar-public.html","<div ng-include=\"\'components/navbar/cart.html\'\"></div>\r\n<md-toolbar ng-show=\"!showSearch\" class=\"md-whiteframe-2dp\">\r\n  <div class=\"md-toolbar-tools navbar\" layout=\"row\" layout-align=\"space-between center\">\r\n    <md-button ng-click=\"vm.openFilter()\" aria-label=\"Left Menu\" ng-hide=\"vm.hideLeftMenu\" hide-gt-md>\r\n      <ng-md-icon icon=\"menu\"></ng-md-icon>\r\n    </md-button>\r\n    <h3><a ui-sref=\"/\">Mediabox</a></h3>\r\n    <div class=\"search\" hide-xs>\r\n        <div class=\"searchbox\">\r\n            <form ng-submit=\"$event.preventDefault()\" flex>\r\n                <md-autocomplete\r\n                    md-selected-item=\"vm.selectedItem\"\r\n                    md-search-text-change=\"vm.searchTextChange(vm.searchText)\"\r\n                    md-search-text=\"vm.searchText\"\r\n                    md-selected-item-change=\"vm.selectedItemChange(item)\"\r\n                    md-items=\"item in vm.querySearch(vm.searchText)\"\r\n                    md-item-text=\"item.name\"\r\n                    md-min-length=\"1\"\r\n                    placeholder=\"Search for anything here\"\r\n                    md-menu-class=\"navbar-autocomplete\">\r\n                    <md-item-template>\r\n                        <img ng-if=\"item.variants[0].image\" \r\n                        ng-src=\"{{item.variants[0].image}}\" err-SRC=\"/assets/images/material-shop-e3ca5c21c4.jpg\"/>\r\n						<span md-highlight-text=\"ctrl.searchText\" md-highlight-flags=\"^i\">{{item.name}}</span>\r\n                    </md-item-template>\r\n					<md-not-found>\r\n						No item matching \"{{vm.searchText}}\" were found.\r\n					</md-not-found>\r\n                </md-autocomplete>\r\n            </form>\r\n\r\n            <md-button aria-label=\"Search\" ng-click=\"showSearch = !showSearch\" class=\"md-raised md-warn\">\r\n                <ng-md-icon icon=\"search\"></ng-md-icon> Search\r\n            </md-button>\r\n        </div>\r\n    </div>\r\n    <md-button ng-click=\"vm.openCart()\" aria-label=\"Left Menu\" class=\"md-raised cart\">\r\n      <ng-md-icon icon=\"shopping_cart\"></ng-md-icon>\r\n      <span hide-xs>Cart ({{vm.cart.getTotalCount()}}) -</span> {{vm.cart.getTotalPrice() | currency:vm.Settings.currency.symbol}}  \r\n    </md-button>\r\n <top-menu></top-menu> \r\n  </div>\r\n</md-toolbar>\r\n\r\n<div id=\"wrapper\">\r\n\r\n	<!-- begin nav -->\r\n	<nav>\r\n		<ul id=\"menu\">\r\n			<li ng-repeat=\"c in vm.categories\"><a href=\"#\">{{c.name}}</a>\r\n				<div id=\"mega\" style=\"z-index:10000\">\r\n					\r\n					<ul ng-repeat=\"h in c.child\">\r\n						<li><a href=\"/Category/{{h.slug}}/{{h._id}}\" class=\"header\">{{h.name}}</a>\r\n							\r\n							<ul>\r\n								<li ng-repeat=\"i in h.child\"><a href=\"/Category/{{i.slug}}/{{i._id}}\">{{i.name}}</a></li>\r\n							</ul>\r\n						\r\n						</li>\r\n						<!--<li ng-repeat=\"i in h.subcat\"><a href=\"#\">{{i.name}}</a></li>-->\r\n						\r\n					</ul>\r\n				\r\n				</div>\r\n			</li>\r\n		</ul>\r\n\r\n	</nav><!-- /nav -->\r\n	\r\n</div><!-- /wrapper -->\r\n");
$templateCache.put("components/oauth-buttons/oauth-buttons.html","<div flex layout=\"row\" layout-align=\"center\">\r\n<md-button class=\"md-raised md-primary md-hue-2\" aria-label=\"Connect with Facebook\" ng-click=\"OauthButtons.loginOauth(\'facebook\')\" ng-disabled=\"OauthButtons.facebookLoading\">\r\n    <span  layout=\"row\" layout-align=\"center center\">\r\n        <ng-md-icon icon=\"facebook\" ng-hide=\"OauthButtons.facebookLoading\"></ng-md-icon> \r\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.facebookLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n        <span hide show-gt-sm>&nbsp;Connect with Facebook</span>\r\n    </span>\r\n</md-button>\r\n<md-button class=\"md-raised md-warn md-hue-2\" aria-label=\"Connect with Google\" ng-click=\"OauthButtons.loginOauth(\'google\')\" ng-disabled=\"OauthButtons.googleLoading\">\r\n    <span  layout=\"row\" layout-align=\"center center\">\r\n        <ng-md-icon icon=\"google-plus\" ng-hide=\"OauthButtons.googleLoading\"></ng-md-icon> \r\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.googleLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n        <span hide show-gt-sm>&nbsp;Connect with Google</span>\r\n    </span>\r\n</md-button>\r\n<md-button class=\"md-raised md-primary\" aria-label=\"Connect with Twitter\" ng-click=\"OauthButtons.loginOauth(\'twitter\')\" ng-disabled=\"OauthButtons.twitterLoading\">\r\n    <span  layout=\"row\" layout-align=\"center center\">\r\n        <ng-md-icon icon=\"twitter\" ng-hide=\"OauthButtons.twitterLoading\"></ng-md-icon>\r\n        <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"OauthButtons.twitterLoading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n        <span hide show-gt-sm>&nbsp;Connect with Twitter</span>\r\n    </span>\r\n</md-button>\r\n</div>\r\n");
$templateCache.put("components/repeat-input/repeat-input.html","<div>this is the repeatInput directive</div>\r\n");
$templateCache.put("components/right-menu/right-menu.html","<md-sidenav class=\"md-sidenav-right md-whiteframe-z2\" md-component-id=\"right\">\r\n  <md-toolbar class=\"md-theme-light\">\r\n    <h1 class=\"md-toolbar-tools\">Sidenav Right</h1>\r\n  </md-toolbar>\r\n  <md-content layout-padding>\r\n    <form>\r\n      <md-input-container>\r\n        <label for=\"testInput\">Test input</label>\r\n        <input type=\"text\" id=\"testInput\"\r\n               ng-model=\"data\" md-autofocus>\r\n      </md-input-container>\r\n    </form>\r\n    <md-button ng-click=\"close()\" class=\"md-primary\" aria-label=\"Right Menu\">\r\n      Close Sidenav Right\r\n    </md-button>\r\n  </md-content>\r\n</md-sidenav>\r\n");
$templateCache.put("components/toast/toast.html","<md-toast>\r\n	<span flex>{{::vm.text}}</span>\r\n\r\n	<md-button class=\"md-primary\"\r\n						 ng-class=\"{\'md-accent\': vm.type === \'warn\'}\"\r\n						 ng-if=\"::vm.link\"\r\n						 ng-click=\"vm.showItem()\"\r\n						 aria-label=\"{{::vm.text}}\">\r\n		Show\r\n	</md-button>\r\n\r\n	<span ng-if=\"::vm.link\">|</span>\r\n\r\n	<md-button ng-click=\"vm.close()\" aria-label=\"OK\">OK</md-button>\r\n</md-toast>\r\n");
$templateCache.put("components/top-menu/top-menu.html","<md-button aria-label=\"Login / Signup\" ng-click=\"topmenu.showLogin()\" ng-if=\"!topmenu.isLoggedIn()\" style=\"color:#fff\">\r\n    <ng-md-icon icon=\"person\" md-menu-align-target></ng-md-icon>\r\n    <span hide-xs>Login / Signup</span>\r\n</md-button>\r\n\r\n<!-- Dropdown Menu Starts here -->\r\n   <md-menu style=\"color:#fff\">\r\n    <md-button ng-click=\"topmenu.openMenu($mdOpenMenu, $event)\"  ng-show=\"topmenu.isLoggedIn()\">\r\n      <ng-md-icon icon=\"face\" md-menu-align-target></ng-md-icon>\r\n      <!--<md-icon class=\"avatar-icon\" md-svg-icon=\"avatar:svg-{{ (0 + 1) % 11 }}\"></md-icon>-->\r\n      <span hide-xs>{{topmenu.Auth.getCurrentUser().name | labelCase}}</span>\r\n      <ng-md-icon icon=\"more_vert\"></ng-md-icon>\r\n    </md-button>\r\n    <md-menu-content width=\"4\" class=\"navMenu\" ng-show=\"topmenu.menu\">\r\n<!-- // Auth items -->\r\n      <md-menu-item ng-repeat=\"item in topmenu.menu.auth\" ui-sref-active=\"active\" ng-if=\"!topmenu.isLoggedIn()\" ui-sref=\"{{item.url}}\">\r\n        <md-button aria-label=\"{{item.text}}\">\r\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\r\n          {{item.text}}\r\n        </md-button>\r\n      </md-menu-item>\r\n\r\n<!-- // Admin Pages -->;\r\n      <md-subheader ng-if=\"topmenu.isLoggedIn()\">My Mediabox</md-subheader>\r\n      <md-menu-item ng-repeat=\"item in topmenu.menu.pages\" ui-sref-active=\"active\" ng-if=\"topmenu.isLoggedIn() && item.authenticate && topmenu.hasRole(item.role)\" ui-sref=\"{{item.url}}\">\r\n        <md-button aria-label=\"{{item.text}}\">\r\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\r\n          {{item.text}}\r\n        </md-button>\r\n      </md-menu-item>\r\n\r\n<!-- // Public Pages -->\r\n      <md-menu-item ng-repeat=\"item in topmenu.menu.pages\" ui-sref-active=\"active\" ng-if=\"!item.authenticate\" ui-sref=\"{{item.url}}\">\r\n        <md-button aria-label=\"{{item.text}}\">\r\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\r\n          {{item.text}}\r\n        </md-button>\r\n      </md-menu-item>\r\n\r\n<!-- // User Management -->\r\n      <md-subheader ng-if=\"topmenu.isLoggedIn()\"> &nbsp</md-subheader>\r\n      <md-menu-item ng-repeat=\"item in topmenu.menu.user\" ui-sref-active=\"active\" ng-if=\"topmenu.isLoggedIn() && topmenu.hasRole(item.role)\" ui-sref=\"{{item.url}}\">\r\n        <md-button aria-label=\"{{item.text}}\">\r\n          <ng-md-icon icon=\"{{item.icon}}\" md-menu-align-target></ng-md-icon>\r\n          {{item.text}}\r\n        </md-button>\r\n      </md-menu-item>\r\n\r\n    </md-menu-content>\r\n  </md-menu>\r\n");
$templateCache.put("components/user-avatar/user-avatar.html","<div>this is the userAvatar directive</div>\r\n");
$templateCache.put("app/account/cp/cp.html","<navbar leftmenu=\"true\"></navbar>\r\n<left-menu></left-menu>\r\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\r\n<section layout=\"column\" layout-align=\"start center\">\r\n	<h1>Change Password</h1>\r\n	<form name=\"form\" ng-submit=\"cp.changePassword(form)\" novalidate autocomplete=\"off\" autocomplete=\"off\">\r\n		<section class=\"section\" layout=\"column\">\r\n			<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\r\n				<label>Current Password</label>\r\n				<input name=\"password\" type=\"password\" ng-model=\"cp.user.oldPassword\" required md-autofocus mongoose-error ng-minlength=\"3\"/>\r\n				<div ng-if=\"form.password.$error.mongoose\" class=\"err\">Password is incorrect</div>\r\n				<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\r\n					<div ng-message=\"required\">Password is required</div>\r\n					<div ng-message=\"mongoose\">Password is incorrect</div>\r\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n				</div>\r\n			</md-input-container>\r\n\r\n			<md-input-container flex class=\"last\">\r\n				<label>New Password</label>\r\n				<input name=\"newPassword\" type=\"password\"  ng-model=\"cp.user.newPassword\" required ng-minlength=\"3\">\r\n				<div ng-messages=\"form.newPassword.$error\" ng-if=\"form.newPassword.$dirty\">\r\n					<div ng-message=\"required\">Please repeat the new password</div>\r\n					<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n				</div>\r\n			</md-input-container>\r\n\r\n			<p class=\"help-block success\" ng-if=\"cp.submitted && cp.message\"> {{cp.message}} </p>\r\n		</section>\r\n		<submit-button loading=\"cp.loading\" form=\"form\" text=\"Change Password\"></submit-button>\r\n	</form>\r\n</section>\r\n</md-content>\r\n<footer></footer>");
$templateCache.put("app/account/login/login.html","<navbar></navbar>\r\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\r\n<section layout=\"column\" layout-align=\"start center\">\r\n\r\n	<h1>Login</h1>\r\n\r\n	<p ng-show=\"login.error\" class=\"md-warn\">{{login.error.message}}</p>\r\n\r\n	<form name=\"form\" ng-submit=\"login.login(form)\" novalidate>\r\n	<section class=\"section\" layout=\"column\">\r\n		<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email) && form.email.$dirty\">\r\n			<label>Email</label>\r\n			<input name=\"email\" type=\"email\" ng-model=\"login.user.email\" required md-autofocus/>\r\n			<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\r\n				<div ng-message=\"required\">Email ID is required</div>\r\n				<div ng-message=\"email\">Please enter valid email address.</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n		<md-input-container md-is-error=\"form.password.$error.required && form.password.$dirty\">\r\n			<label>Password</label>\r\n			<input name=\"password\" type=\"password\" ng-model=\"login.user.password\" required/>\r\n			<div ng-messages=\"form.password.$error\">\r\n				<div ng-message=\"required\">Password is required</div>\r\n				<div class=\"err\">{{ login.errors.other }}<br/>\r\n+					<a ui-sref=\"forgot({ email: login.user.email})\" href=\"#\">Forgot Password</a></div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n    <div class=\"form-group has-error\">\r\n    <p class=\"help-block\" ng-show=\"form.email.$error.required && form.password.$error.required && login.submitted\">\r\n       Please enter your email and password.\r\n    </p>\r\n\r\n    </div>\r\n</section>\r\n		<div class=\"md-dialog-actions\" layout=\"row\">\r\n	    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || login.loading\" aria-label=\"Login\">\r\n	      <span ng-show=\"!login.loading\"><ng-md-icon icon=\"perm_identity\"></ng-md-icon>Login</span>\r\n	      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"login.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"login.loading\">Loading...</span>\r\n	    </md-button>\r\n			<md-button class=\"btn btn-default btn-lg btn-register\" ui-sref=\"signup\" aria-label=\"SignUp\"> Signup </md-button>\r\n	  </div>\r\n\r\n	</form>\r\n\r\n</section>\r\n</md-content>\r\n<footer></footer>");
$templateCache.put("app/account/password/forgot.html","<navbar></navbar>\r\n<md-content flex layout=\"column\">\r\n<section layout=\"column\" flex layout-align=\"center center\">\r\n	<h1>Forgot Password</h1>\r\n\r\n	<p class=\"md-warn message\" ng-show=\"forgot.errors.message\">{{forgot.errors.message}}</p>\r\n\r\n	<form name=\"form\" ng-submit=\"forgot.forgot(form)\" novalidate>\r\n		<section class=\"section\" layout=\"column\">\r\n			<md-input-container md-is-error=\"(form.email.$error.required || form.email.$error.email || forgot.errors.other) && form.email.$dirty\">\r\n				<label>Email</label>\r\n				<input name=\"email\" type=\"email\" ng-model=\"forgot.user.email\" required md-autofocus/>\r\n				<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\r\n					<div ng-message=\"required\">Email ID is required</div>\r\n					<div ng-message=\"email\">Please enter valid email address.</div>\r\n					<div ng-if=\"forgot.errors.email\">{{forgot.errors.email}}</div>\r\n				</div>\r\n			</md-input-container>\r\n		</section>\r\n		<div layout=\"column\" layout-align=\"center center\">\r\n			<md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"forgot.loading\" aria-label=\"Forgot password\" layout=\"row\" layout-align=\"center center\">\r\n				<ng-md-icon icon=\"email\" ng-hide=\"forgot.loading\"></ng-md-icon> \r\n				<md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"forgot.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n				<span>&nbsp;Reset Password</span>\r\n			</md-button>\r\n		</div>\r\n	</form>\r\n\r\n</section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/account/password/reset.html","<navbar></navbar>\r\n<md-content flex layout=\"column\">\r\n<section layout=\"column\" flex layout-align=\"center center\">\r\n	<h1>Enter New Password</h1>\r\n\r\n	<p class=\"md-warn message\" ng-show=\"reset.errors.message\">{{reset.errors.message}}</p>\r\n\r\n	<form name=\"form\" ng-submit=\"reset.reset(form)\" novalidate flex>\r\n	<section class=\"section\" layout=\"column\">\r\n\r\n		<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\r\n			<label>Password</label>\r\n			<input name=\"password\" type=\"password\" ng-model=\"reset.user.password\" required mongoose-error ng-minlength=\"3\"/>\r\n			<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\r\n				<div ng-message=\"required\">Password is required</div>\r\n				<div ng-message=\"mongoose\">{{ errors.password }}</div>\r\n				<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n		<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\r\n			<label>Repeat Password</label>\r\n			<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"reset.user.passwordRepeat\" required repeat-input=\"reset.user.password\" ng-minlength=\"3\">\r\n			<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\r\n				<div ng-message=\"required\">Please repeat the new password</div>\r\n				<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n				<div ng-message=\"repeat-input\">The passwords do not match</div>\r\n				<div ng-if=\"reset.errors.email\">{{reset.errors.email}}</div>\r\n			</div>\r\n		</md-input-container>\r\n\r\n    <div class=\"form-group has-error\">\r\n    <p class=\"help-block\" ng-show=\"form.password.$error.required && form.password.$error.required && reset.submitted\">\r\n       Please enter your password.\r\n    </p>\r\n\r\n    </div>\r\n</section>\r\n\r\n		<div layout=\"column\" layout-align=\"center center\">\r\n	    <md-button type=\"submit\" class=\"md-raised circular-progress-button md-primary\" ng-disabled=\"!form.$valid || reset.loading\" aria-label=\"Login\" layout=\"row\" layout-align=\"center center\">\r\n	      <ng-md-icon icon=\"lock\" ng-show=\"!reset.loading\"></ng-md-icon>\r\n	      <md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"reset.loading\" class=\"md-accent md-hue-1\"></md-progress-circular>\r\n		  &nbsp;Save New Password\r\n	    </md-button>\r\n	  </div>\r\n\r\n	</form>\r\n\r\n</section>\r\n</md-content>\r\n<footer></footer>\r\n");
$templateCache.put("app/account/signup/signup.html","<navbar></navbar>\r\n<md-content flex layout=\"column\" class=\"content\" layout-align=\"start center\">\r\n<section layout=\"column\" layout-align=\"start center\">\r\n<h1>Signup</h1>\r\n\r\n		<form name=\"form\" ng-submit=\"signup.register(form)\" novalidate>\r\n\r\n			<section class=\"section\" layout=\"column\">\r\n				<md-input-container md-is-error=\"form.name.$error.required && form.name.$dirty\">\r\n					<label>Name</label>\r\n					<input name=\"name\" ng-model=\"signup.user.name\" required md-autofocus/>\r\n					<div ng-messages=\"form.name.$error\" ng-if=\"form.name.$dirty\">\r\n						<div ng-message=\"required\">Name is required</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container flex md-is-error=\"(form.email.$error.email || form.email.$error.required || form.email.$error.mongoose || form.email.$error.remote-unique) && form.email.$dirty\">\r\n					<label>Email ID</label>\r\n					<input type=\"email\" name=\"email\" ng-model=\"signup.user.email\"\r\n								 ng-model-options=\"{updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0}}\"\r\n								 required mongoose-error>\r\n					<div ng-messages=\"form.email.$error\" ng-if=\"form.email.$dirty\">\r\n						<div ng-message=\"email\">Please enter a valid email address.</div>\r\n						<div ng-message=\"required\">Email is required</div>\r\n						<div ng-message=\"mongoose\">Email already in use</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n\r\n				<md-input-container md-is-error=\"(form.password.$error.required ||  form.password.$error.mongoose || form.password.$error.minlength) && form.password.$dirty\">\r\n					<label>Password</label>\r\n					<input name=\"password\" type=\"password\" ng-model=\"signup.user.password\" required mongoose-error ng-minlength=\"3\"/>\r\n					<div ng-messages=\"form.password.$error\" ng-if=\"form.password.$dirty\">\r\n						<div ng-message=\"required\">Password is required</div>\r\n						<div ng-message=\"mongoose\">{{ errors.password }}</div>\r\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n				<md-input-container flex class=\"last\" md-is-error=\"(form.passwordRepeat.$error.required ||  form.passwordRepeat.$error.minlength || form.passwordRepeat.$error.repeat-input) && form.passwordRepeat.$dirty\">\r\n					<label>Repeat Password</label>\r\n					<input name=\"passwordRepeat\" type=\"password\"  ng-model=\"signup.user.passwordRepeat\" required repeat-input=\"signup.user.password\" ng-minlength=\"3\">\r\n					<div ng-messages=\"form.passwordRepeat.$error\" ng-if=\"form.passwordRepeat.$dirty\">\r\n						<div ng-message=\"required\">Please repeat the new password</div>\r\n						<div ng-message=\"minlength\">Password must be at least 3 characters.</div>\r\n						<div ng-message=\"repeat-input\">The passwords do not match</div>\r\n					</div>\r\n				</md-input-container>\r\n\r\n			</section>\r\n\r\n\r\n			<div class=\"md-dialog-actions\" layout=\"row\">\r\n				<span flex></span>\r\n				<md-button ng-disabled=\"form.$invalid || signup.loading\" class=\"md-primary md-raised circular-progress-button\" type=\"submit\" aria-label=\"SignUp\">\r\n					<span ng-show=\"!signup.loading\"><ng-md-icon icon=\"input\"></ng-md-icon> Signup</span>\r\n					<md-progress-circular md-mode=\"indeterminate\" md-diameter=\"25\" ng-show=\"signup.loading\" class=\"md-accent md-hue-1\"></md-progress-circular><span ng-show=\"signup.loading\">Loading...</span>\r\n				</md-button>\r\n				<md-button ng-click=\"signup.cancel();\" aria-label=\"Cancel SignUp\">Cancel</md-button>\r\n			</div>\r\n</form>\r\n</section>\r\n<oauth-buttons></oauth-buttons>\r\n</md-content>\r\n<footer></footer>");}]);
